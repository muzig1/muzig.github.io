{"meta":{"title":"Hexo","subtitle":"","description":"","author":"John Doe","url":"http://muzig.github.io","root":"/"},"pages":[{"title":"About Me","date":"2021-01-29T04:58:37.501Z","updated":"2021-01-29T04:58:37.501Z","comments":true,"path":"about/index.html","permalink":"http://muzig.github.io/about/index.html","excerpt":"æœŸå¾…æœ€å¥½çš„ä½ .","text":"æœŸå¾…æœ€å¥½çš„ä½ . è‡ªæˆ‘ä»‹ç»"},{"title":"categories","date":"2020-12-29T09:41:25.000Z","updated":"2021-01-29T04:58:37.501Z","comments":true,"path":"categories/index.html","permalink":"http://muzig.github.io/categories/index.html","excerpt":"","text":""},{"title":"","date":"2021-01-29T04:58:37.505Z","updated":"2021-01-29T04:58:37.505Z","comments":true,"path":"scripts/main.js","permalink":"http://muzig.github.io/scripts/main.js","excerpt":"","text":"var __assign = (this && this.__assign) || function () { __assign = Object.assign || function(t) { for (var s, i = 1, n = arguments.length; i < n; i++) { s = arguments[i]; for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p]; } return t; }; return __assign.apply(this, arguments); }; var obj = { a: \"a\", b: \"b\" }; var obj2 = __assign(__assign({}, obj), { a: \"b\" }); console.log(obj2);"},{"title":"tags","date":"2020-12-29T09:44:24.000Z","updated":"2021-01-29T04:58:37.505Z","comments":true,"path":"tags/index.html","permalink":"http://muzig.github.io/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"tmux å¿«é€ŸæŒ‡åŒ—","slug":"tmux","date":"2021-01-30T09:52:48.000Z","updated":"2021-01-29T04:58:37.501Z","comments":true,"path":"2021/01/30/tmux/","link":"","permalink":"http://muzig.github.io/2021/01/30/tmux/","excerpt":"å¦‚æœæ‚¨ç”¨è¿‡screençš„è¯, ç›¸æ¯”çŸ¥é“å®ƒçš„å¥½å¤„, è¿™é‡Œè®°å½•ä¸€æ¬¾ç±»ä¼¼çš„å·¥å…·tmux.","text":"å¦‚æœæ‚¨ç”¨è¿‡screençš„è¯, ç›¸æ¯”çŸ¥é“å®ƒçš„å¥½å¤„, è¿™é‡Œè®°å½•ä¸€æ¬¾ç±»ä¼¼çš„å·¥å…·tmux. TODO ğŸš€ å¿«é€Ÿæ­å»º å¸¸ç”¨å¿«æ·é”® æ’ä»¶ oh-my-tmux tmux-resurrect å‹æƒ…é“¾æ¥ TODO å¸¸ç”¨å¿«æ·é”® ğŸš€ å¿«é€Ÿæ­å»º Install Tmux: 12345678# macbrew install tmux# linux - RedHatyum install tmux# linux - Debianapt install tmux Clone TPM: 1git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm Put this at the bottom of ~/.tmux.conf ($XDG_CONFIG_HOME/tmux/tmux.conf works too): 12git clone https://github.com/gpakosz/.tmux.git ~/.tmux/oh-my-tmux/cp ~/.tmux/oh-my-tmux/.tmux.conf ~/ Reload TMUX environment so TPM is sourced: 12# type this in terminal if tmux is already running$ tmux source ~/.tmux.conf å¸¸ç”¨å¿«æ·é”®æ’ä»¶oh-my-tmuxä½œç”¨: é€šç”¨tmuxé…ç½®æ­é… 123git clone https://github.com/gpakosz/.tmux.gitln -s -f .tmux/.tmux.confcp .tmux/.tmux.conf.local . tmux-resurrectä½œç”¨: ä¿å­˜tmuxçš„layout, ä¾¿äºé‡å¯ç”µè„‘å¿«é€Ÿæ¢å¤. Add plugin to the list of TPM plugins in .tmux.conf: Hit prefix + I to fetch the plugin and source it. You should now be able to use the plugin. 1set -g @plugin &#x27;tmux-plugins/tmux-resurrect&#x27; å‹æƒ…é“¾æ¥ TPM oh-my-tmux tmux-resurrect","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://muzig.github.io/categories/%E5%B7%A5%E5%85%B7/"}],"tags":[{"name":"tmux","slug":"tmux","permalink":"http://muzig.github.io/tags/tmux/"}]},{"title":"Golang ä¸­é«˜çº§æŠ€æœ¯","slug":"golang-senior-interview","date":"2021-01-24T21:38:41.000Z","updated":"2021-01-29T04:58:37.501Z","comments":true,"path":"2021/01/24/golang-senior-interview/","link":"","permalink":"http://muzig.github.io/2021/01/24/golang-senior-interview/","excerpt":"ä¹‹å‰æœ‰äº†åˆçº§æŠ€æœ¯, æ¥ä¸‹æ¥æ€»ç»“ä¸€ä¸‹å…³äºä¸­é«˜çº§å¼€å‘çš„æŠ€æœ¯è¦æ±‚","text":"ä¹‹å‰æœ‰äº†åˆçº§æŠ€æœ¯, æ¥ä¸‹æ¥æ€»ç»“ä¸€ä¸‹å…³äºä¸­é«˜çº§å¼€å‘çš„æŠ€æœ¯è¦æ±‚ TODO å‹æƒ…é“¾æ¥ TODOåç»­å†ä¿©æ¢³ç†, ç›®å‰çœ‹äº†ä¸€éå‘ç°è‡ªå·±çœŸçš„åŸºç¡€å¤ªæ¬ ç¼ºäº†, å¯¹äºåº•å±‚çš„å®ç°æœºåˆ¶æ¥è¯´, è¿˜æœ‰å¾ˆå¤šéœ€è¦æ¶‰çŒ, ä¸è¿‡å…¶å®å¯¹äºå¼€å‘æ¥è¯´, æ¶‰åŠé¢å…¶å®å°‘. åé¢è¦æ³¨é‡ä»£ç çš„æ€§èƒ½åˆ†æ, ä»¥åŠä»£ç å¼€å‘æ•ˆç‡å’Œè´¨é‡ç›¸å…³é—®é¢˜çš„åˆ†æ, ä¸ªäººæ’åº: å¼€å‘è´¨é‡(æ˜“æŸ¥é”™, å¥å£®æ€§) &gt; å¼€å‘æ•ˆç‡ &gt; æ€§èƒ½ æ•´ç†æ–‡æ¡£ å‹æƒ…é“¾æ¥ ä¸­é«˜çº§Golang","categories":[],"tags":[{"name":"golang","slug":"golang","permalink":"http://muzig.github.io/tags/golang/"},{"name":"interview","slug":"interview","permalink":"http://muzig.github.io/tags/interview/"}]},{"title":"raspberryPi å…¥é—¨","slug":"raspberryPi-note","date":"2021-01-23T21:54:28.000Z","updated":"2021-01-29T04:58:37.501Z","comments":true,"path":"2021/01/23/raspberryPi-note/","link":"","permalink":"http://muzig.github.io/2021/01/23/raspberryPi-note/","excerpt":"ä¹‹å‰åœ¨å‚¨å¤‡å‰ç«¯æŠ€æœ¯, ç›®å‰ä½¿ç”¨æ ‘è“æ´¾æ¥æ­å»ºå¼€å‘ç¯å¢ƒ, ä¾¿äºæµ‹è¯•.","text":"ä¹‹å‰åœ¨å‚¨å¤‡å‰ç«¯æŠ€æœ¯, ç›®å‰ä½¿ç”¨æ ‘è“æ´¾æ¥æ­å»ºå¼€å‘ç¯å¢ƒ, ä¾¿äºæµ‹è¯•. TODO è´­ä¹°å»ºè®® åˆæ¬¡ä½¿ç”¨ åˆæ¬¡å¯åŠ¨ å¿…ä¼šå‘½ä»¤ å¦‚ä½•æ­å»ºLAMPç¯å¢ƒ å¦‚ä½•æ­å»ºå¼€å‘ç¯å¢ƒ å‹æƒ…é“¾æ¥ TODO å®Œå–„æ–‡æ¡£ è´­ä¹°å»ºè®®åˆæ¬¡ä½¿ç”¨åˆæ¬¡å¯åŠ¨å¿…ä¼šå‘½ä»¤å¦‚ä½•æ­å»ºLAMPç¯å¢ƒå¦‚ä½•æ­å»ºå¼€å‘ç¯å¢ƒå‹æƒ…é“¾æ¥ å¦‚ä½•ç»™æ ‘è“æ´¾å®‰è£…æ“ä½œç³»ç»Ÿ","categories":[],"tags":[{"name":"raspberryPi","slug":"raspberryPi","permalink":"http://muzig.github.io/tags/raspberryPi/"}]},{"title":"Vue ç¬”è®°","slug":"vue-note","date":"2021-01-16T16:32:05.000Z","updated":"2021-01-29T04:58:37.501Z","comments":true,"path":"2021/01/16/vue-note/","link":"","permalink":"http://muzig.github.io/2021/01/16/vue-note/","excerpt":"å°†è‡ªå­¦æ€è·¯æ•´ç†æ­¤å¤„, ä¾¿äºåç»­ç»†èŠ‚å›é¡¾.","text":"å°†è‡ªå­¦æ€è·¯æ•´ç†æ­¤å¤„, ä¾¿äºåç»­ç»†èŠ‚å›é¡¾. æºç é¡¹ç›® æŠ€æœ¯æ ˆ æºç é¡¹ç›®åœ¨äº†è§£åŸºæœ¬è¯­æ³•ä¹‹å, æœ€å¥½çš„å­¦ä¹ æ–¹å¼å°±æ˜¯ç†Ÿæ‚‰å®æˆ˜é¡¹ç›®çš„æºç , èƒ½è¾ƒå¿«çš„è·å–å®æˆ˜ç»éªŒ. æ­¤å¤„è´´ github å¼€æºçš„å®æˆ˜é¡¹ç›®, å¾ˆå€¼çš„ä¸€æ¢ç©¶ç«Ÿ. å¤–å–å®æˆ˜é¡¹ç›® å¤–å–åç«¯ç®¡ç† æŠ€æœ¯æ ˆæœ‰äº†å®æˆ˜é¡¹ç›®, æˆ‘ä»¬å…ˆäº†è§£ä¸€ä¸‹æˆ‘ä»¬å°†ç”¨åˆ°ä»€ä¹ˆå·¥å…·, è¿™æ ·å¯¹æ•´ä¸ªå¼€å‘è¿‡ç¨‹æœ‰ä¸€ä¸ªå¤§å±€è§‚çš„æ„Ÿè§‰. vue2 vuex vue-router webpack ES6/7 fetch sass flex svg","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://muzig.github.io/categories/%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"vue","slug":"vue","permalink":"http://muzig.github.io/tags/vue/"}]},{"title":"TypeScript ç¬”è®°","slug":"ts-note","date":"2021-01-10T19:16:43.000Z","updated":"2021-01-29T04:58:37.501Z","comments":true,"path":"2021/01/10/ts-note/","link":"","permalink":"http://muzig.github.io/2021/01/10/ts-note/","excerpt":"å¯¹äºéœ€è¦æŒæ¡å‰ç«¯æŠ€æœ¯, å¯¹äº ts çš„åŸºç¡€è¯­æ³•æŒæ¡ä¹Ÿæ˜¯å¿…ä¸å¯å°‘çš„. åˆ©äºè¯»æ‡‚å‰ç«¯æºç .","text":"å¯¹äºéœ€è¦æŒæ¡å‰ç«¯æŠ€æœ¯, å¯¹äº ts çš„åŸºç¡€è¯­æ³•æŒæ¡ä¹Ÿæ˜¯å¿…ä¸å¯å°‘çš„. åˆ©äºè¯»æ‡‚å‰ç«¯æºç . TODO é€Ÿè§ˆ ç±»å‹æ³¨è§£ æ¥å£ ç±» è¡¥å…… åŸºç¡€ç±»å‹ å­—ç¬¦ä¸² æ•°ç»„ å…ƒç»„ Tuple æšä¸¾ Void null &amp; undefined Never Object Any ç±»å‹æ–­è¨€ å…³äºlet å˜é‡å£°æ˜ varå£°æ˜ letå£°æ˜ constå£°æ˜ è§£æ„ æ•°ç»„è§£æ„ å¯¹è±¡è§£æ„ å±•å¼€(ä¸è§£æ„ç›¸åæ“ä½œ) æ•°ç»„å±•å¼€ å¯¹è±¡å±•å¼€ TODO é€Ÿè§ˆ åŸºç¡€ç±»å‹ å˜é‡å£°æ˜ æ¥å£ å‡½æ•° æ³›å‹ æšä¸¾ ç±»å‹æ¨å¯¼ ç±»å‹å…¼å®¹æ€§ é«˜çº§ç±»å‹ Symbols è¿­ä»£å™¨å’Œç”Ÿæˆå™¨ æ¨¡å— å‘½ä»¤ç©ºé—´ å‘½ä»¤ç©ºé—´å’Œæ¨¡å— æ¨¡å—è§£æ å£°æ˜åˆå¹¶ JSX è£…é¥°å™¨ Mixins ä¸‰æ–œçº¿æŒ‡ä»¤ JSæ–‡ä»¶ç±»å‹æ£€æŸ¥ é€Ÿè§ˆ å®˜æ–¹æ‰‹å†ŒæŒ‡å— ç±»å‹æ³¨è§£ts æ”¯æŒé™æ€ç±»å‹æ£€æŸ¥, ä¾¿äºåœ¨è¿è¡Œä¹‹å‰, æå‰å‘ç°ä»£ç é—®é¢˜. 123456function hello(name: string) &#123; return &quot;hello&quot; + name;&#125;let flag = &quot;ts&quot;;hello(flag); æ¥å£æ‰§è¡Œçº¦æŸ object ç±»å‹çš„æ ¼å¼, ä¾¿äºä¿è¯å‡½æ•°æŒ‰ç…§é¢„æœŸæ‰§è¡Œ 12345678910interface Person &#123; firstName: string; lastName: string;&#125;function say(p: Person) &#123; return p.firstName + p.lastName;&#125;let user = &#123; firstName: &quot;xiao&quot;, lastName: &quot;ming&quot; &#125;;say(user); ç±»æä¾›é¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ€æƒ³, å…·ä½“æ›´å¤šæŠ½è±¡èƒ½åŠ› 1234567891011121314151617class Student &#123; fullName: string; constructor(public firstName: string, public lastName: string) &#123; this.fullName = firstName + lastName; &#125;&#125;interface Person &#123; firstName: string; lastName: string;&#125;function say(p: Person) &#123; return p.firstName + p.lastName;&#125;let user = new Student(&quot;xiao&quot;, &quot;ming&quot;);say(user); è¡¥å…… ts &amp; js å¯¹å¤§å°å†™æ•æ„Ÿ; å¯¹äºå±æ€§åå»ºè®®å–åä¸ºå°å†™, å› ä¸º typeof è¿”å›çš„ç±»å‹åä¸ºå°å†™. åŸºç¡€ç±»å‹å­—ç¬¦ä¸²123// å­—ç¬¦ä¸²let name: string = &quot;TypeScript&quot;let sentence: string = `Hello $&#123; name &#125;.` æ•°ç»„123// æ•°ç»„let arr: number[] = [1,2,3]let arr: Array&lt;number&gt; = [1,2,3] // æ³›å‹æ•°ç»„ å…ƒç»„ Tuple1234567891011121314// å…ƒç»„ Tuple// Declare a tuple typelet x: [string, number];// Initialize itx = [&#x27;hello&#x27;, 10]; // OK// Initialize it incorrectlyx = [10, &#x27;hello&#x27;]; // Errorconsole.log(x[0].substr(1)); // OKconsole.log(x[1].substr(1)); // Error, &#x27;number&#x27; does not have &#x27;substr&#x27;x[3] = &#x27;world&#x27;; // OK, å­—ç¬¦ä¸²å¯ä»¥èµ‹å€¼ç»™(string | number)ç±»å‹console.log(x[5].toString()); // OK, &#x27;string&#x27; å’Œ &#x27;number&#x27; éƒ½æœ‰ toStringx[6] = true; // Error, å¸ƒå°”ä¸æ˜¯(string | number)ç±»å‹ æšä¸¾æ›´å¥½çš„æè¿°ä¸€ç»„æ•°å€¼ 12345678910// é»˜è®¤ä»0å¼€å§‹ä¸ºå…ƒç´ ç¼–å·// æ”¯æŒæ‰‹åŠ¨èµ‹å€¼enum Color &#123; Red, Green, Blue = 3&#125;let c: Color = Color.Green// æ”¯æŒæ‰“å°æšä¸¾ålet colorName: string = Color[2] console.log(colorName)// è¾“å‡º:// Color VoidæŸç§ç¨‹åº¦ä¸Šæ¥è¯´ï¼Œvoidç±»å‹åƒæ˜¯ä¸anyç±»å‹ç›¸åï¼Œå®ƒè¡¨ç¤ºæ²¡æœ‰ä»»ä½•ç±»å‹ã€‚ å½“ä¸€ä¸ªå‡½æ•°æ²¡æœ‰è¿”å›å€¼æ—¶ï¼Œä½ é€šå¸¸ä¼šè§åˆ°å…¶è¿”å›å€¼ç±»å‹æ˜¯ voidï¼š å£°æ˜ä¸€ä¸ªvoidç±»å‹çš„å˜é‡æ²¡æœ‰ä»€ä¹ˆå¤§ç”¨ï¼Œå› ä¸ºä½ åªèƒ½ä¸ºå®ƒèµ‹äºˆundefinedå’Œnull null &amp; undefinedç„¶è€Œï¼Œå½“ä½ æŒ‡å®šäº†â€“strictNullChecksæ ‡è®°ï¼Œnullå’Œundefinedåªèƒ½èµ‹å€¼ç»™voidå’Œå®ƒä»¬å„è‡ªã€‚ è¿™èƒ½é¿å… å¾ˆå¤šå¸¸è§çš„é—®é¢˜ã€‚ ä¹Ÿè®¸åœ¨æŸå¤„ä½ æƒ³ä¼ å…¥ä¸€ä¸ª stringæˆ–nullæˆ–undefinedï¼Œä½ å¯ä»¥ä½¿ç”¨è”åˆç±»å‹string | null | undefinedã€‚ å†æ¬¡è¯´æ˜ï¼Œç¨åæˆ‘ä»¬ä¼šä»‹ç»è”åˆç±»å‹ã€‚ æ³¨æ„ï¼šæˆ‘ä»¬é¼“åŠ±å°½å¯èƒ½åœ°ä½¿ç”¨â€“strictNullChecks 12let u: undefined = undefinedlet n: null = null Neverneverç±»å‹è¡¨ç¤ºçš„æ˜¯é‚£äº›æ°¸ä¸å­˜åœ¨çš„å€¼çš„ç±»å‹ã€‚ neverç±»å‹æ˜¯ä»»ä½•ç±»å‹çš„å­ç±»å‹ï¼Œä¹Ÿå¯ä»¥èµ‹å€¼ç»™ä»»ä½•ç±»å‹ï¼›ç„¶è€Œï¼Œæ²¡æœ‰ç±»å‹æ˜¯neverçš„å­ç±»å‹æˆ–å¯ä»¥èµ‹å€¼ç»™neverç±»å‹ï¼ˆé™¤äº†neveræœ¬èº«ä¹‹å¤–ï¼‰. å³ä½¿ anyä¹Ÿä¸å¯ä»¥èµ‹å€¼ç»™neverã€‚ 123456789101112131415// è¿”å›neverçš„å‡½æ•°å¿…é¡»å­˜åœ¨æ— æ³•è¾¾åˆ°çš„ç»ˆç‚¹function error(message: string): never &#123; throw new Error(message);&#125;// æ¨æ–­çš„è¿”å›å€¼ç±»å‹ä¸ºneverfunction fail() &#123; return error(&quot;Something failed&quot;);&#125;// è¿”å›neverçš„å‡½æ•°å¿…é¡»å­˜åœ¨æ— æ³•è¾¾åˆ°çš„ç»ˆç‚¹function infiniteLoop(): never &#123; while (true) &#123; &#125;&#125; Objectobjectè¡¨ç¤ºéåŸå§‹ç±»å‹ï¼Œä¹Ÿå°±æ˜¯é™¤numberï¼Œstringï¼Œbooleanï¼Œsymbolï¼Œnullæˆ–undefinedä¹‹å¤–çš„ç±»å‹ã€‚ 123456789declare function create(o: object | null): void;create(&#123; prop: 0 &#125;); // OKcreate(null); // OKcreate(42); // Errorcreate(&quot;string&quot;); // Errorcreate(false); // Errorcreate(undefined); // Error Anyå¯¹äºæš‚æ—¶æ— æ³•é¢„æœŸçš„ç±»å‹, å¯ä»¥ä½¿ç”¨ any å»æè¿° 123456let msg: any = 100msg = true // OKmsg = &quot;foo&quot; // OKlet arr: any[] = [1, &quot;foo&quot;, &quot;boo&quot;]arr[1] = 100 // OK ç±»å‹æ–­è¨€æœ‰æ—¶å€™ä½ ä¼šé‡åˆ°è¿™æ ·çš„æƒ…å†µï¼Œä½ ä¼šæ¯”TypeScriptæ›´äº†è§£æŸä¸ªå€¼çš„è¯¦ç»†ä¿¡æ¯ã€‚ é€šå¸¸è¿™ä¼šå‘ç”Ÿåœ¨ä½ æ¸…æ¥šåœ°çŸ¥é“ä¸€ä¸ªå®ä½“å…·æœ‰æ¯”å®ƒç°æœ‰ç±»å‹æ›´ç¡®åˆ‡çš„ç±»å‹ã€‚ ä¸¤ç§å½¢å¼æ˜¯ç­‰ä»·çš„ã€‚ è‡³äºä½¿ç”¨å“ªä¸ªå¤§å¤šæ•°æƒ…å†µä¸‹æ˜¯å‡­ä¸ªäººå–œå¥½ï¼›ç„¶è€Œï¼Œå½“ä½ åœ¨TypeScripté‡Œä½¿ç”¨JSXæ—¶ï¼Œåªæœ‰ asè¯­æ³•æ–­è¨€æ˜¯è¢«å…è®¸çš„ã€‚ 1234567// ç¬¬ä¸€ç§å†™æ³•: å°–æ‹¬å·let someValue: any = &quot;this is a string&quot;;let strLength: number = (&lt;string&gt;someValue).length;// ç¬¬äºŒç§å†™æ³•: asè¯­æ³•let someValue: any = &quot;this is a string&quot;;let strLength: number = (someValue as string).length; å…³äºletä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°äº†ï¼Œæˆ‘ä»¬ä½¿ç”¨letå…³é”®å­—æ¥ä»£æ›¿å¤§å®¶æ‰€ç†Ÿæ‚‰çš„JavaScriptå…³é”®å­—varã€‚ letå…³é”®å­—æ˜¯JavaScriptçš„ä¸€ä¸ªæ–°æ¦‚å¿µï¼ŒTypeScriptå®ç°äº†å®ƒã€‚ æˆ‘ä»¬ä¼šåœ¨ä»¥åè¯¦ç»†ä»‹ç»å®ƒï¼Œå¾ˆå¤šå¸¸è§çš„é—®é¢˜éƒ½å¯ä»¥é€šè¿‡ä½¿ç”¨ letæ¥è§£å†³ï¼Œæ‰€ä»¥å°½å¯èƒ½åœ°ä½¿ç”¨letæ¥ä»£æ›¿varå§ã€‚ å˜é‡å£°æ˜varå£°æ˜ ä½œç”¨åŸŸè§„åˆ™ æ•è·å˜é‡ç‰¹æ®Šä¹‹å¤„ letå£°æ˜ å—ä½œç”¨åŸŸ é‡å®šä¹‰å±è”½ å—çº§ä½œç”¨åŸŸå˜é‡è·å– - é€šè¿‡é—­åŒ… constå£°æ˜ å£°æ˜ä¹‹åä¸èƒ½ä¿®æ”¹; ä½†æ˜¯å¯ä»¥ä¿®æ”¹å¯¹è±¡å†…éƒ¨å€¼ è§£æ„æ•°ç»„è§£æ„ è®©æ•°ç»„å˜é‡æ›´æ¸…æ™° æ”¯æŒå‡½æ•°å‚æ•°è§£æ„æ ¼å¼ æ”¯æŒâ€¦è¯­æ³•åˆ›å»ºå‰©ä½™å˜é‡ å¯¹è±¡è§£æ„ ç»“æ„åŒ–å¯¹è±¡æˆå‘˜ â€¦è¯­æ³•æ”¯æŒç»“æ„ä½™ä¸‹å¯¹è±¡æˆå‘˜ æ”¯æŒç»“æ„åŒ–ä¹‹åé‡å‘½å =è¯­æ³•æ”¯æŒç¼ºçœé»˜è®¤å€¼ å‡½æ•°å£°æ˜æ”¯æŒç»“æ„å¯¹è±¡ å±•å¼€(ä¸è§£æ„ç›¸åæ“ä½œ)æ•°ç»„å±•å¼€1234let first = [1, 2];let second = [3, 4];// æµ…æ‹·è´let bothPlus = [0, ...first, ...second, 5]; å¯¹è±¡å±•å¼€12let defaults = &#123; food: &quot;spicy&quot;, price: &quot;$$&quot;, ambiance: &quot;noisy&quot; &#125;;let search = &#123; ...defaults, food: &quot;rich&quot; &#125;; 1234let obj: object = &#123; a: &quot;a&quot;, b: &quot;b&quot; &#125;;let obj2: object = &#123; ...obj, a: &quot;b&quot; &#125;; // ä¸ä¼šé‡å†™ a æˆå‘˜å€¼ =&gt; a = &quot;b&quot;let obj2: object = &#123; a: &quot;b&quot;, ...obj &#125;; // ä¼šé‡å†™ a æˆå‘˜å€¼ =&gt; a = &quot;a&quot;console.log(obj2); å¯¹è±¡å±•å¼€è¿˜æœ‰å…¶å®ƒä¸€äº›æ„æƒ³ä¸åˆ°çš„é™åˆ¶ æ‰©å±•ä¹‹å, ä¼šä¸¢å¤±äº†æˆå‘˜å‡½æ•° tscä¸å…è®¸å±•å¼€æ³›å‹å‡½æ•°ä¸Šçš„ç±»å‹å‚æ•° 123456789class C &#123; p = 12; m() &#123; &#125;&#125;let c = new C();let clone = &#123; ...c &#125;;clone.p; // okclone.m(); // error!","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://muzig.github.io/categories/%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"ts","slug":"ts","permalink":"http://muzig.github.io/tags/ts/"}]},{"title":"Golang åˆçº§æŠ€æœ¯","slug":"golang-primary-interview","date":"2020-12-27T20:18:15.000Z","updated":"2021-01-29T04:58:37.501Z","comments":true,"path":"2020/12/27/golang-primary-interview/","link":"","permalink":"http://muzig.github.io/2020/12/27/golang-primary-interview/","excerpt":"æœ€è¿‘éœ€è¦ç­”è¾©, æ”¶é›†äº†éƒ¨åˆ†æ¥è‡ªå„æ–¹çš„å®æˆ˜é¢è¯•å†…å®¹, ä¾¿äºå·©å›º. å¦‚æœ‰ä¸å½“ä¹‹å¤„ï¼Œè¯·äºˆæŒ‡æ­£ ğŸ™.","text":"æœ€è¿‘éœ€è¦ç­”è¾©, æ”¶é›†äº†éƒ¨åˆ†æ¥è‡ªå„æ–¹çš„å®æˆ˜é¢è¯•å†…å®¹, ä¾¿äºå·©å›º. å¦‚æœ‰ä¸å½“ä¹‹å¤„ï¼Œè¯·äºˆæŒ‡æ­£ ğŸ™. TODO å‚è€ƒé“¾æ¥ åŸºç¡€ç¯‡ æ¦‚å¿µç¯‡ æ¡†æ¶ç¯‡ å¼€æºæ¡†æ¶ æ•°æ®åº“ç¯‡ çº¿ä¸Šç»éªŒ ç¼–ç¨‹é¢˜ å®ç°å­—ç¬¦ä¸²åŒ¹é…æ£€æŸ¥ å®ç°ä¸€ç§æˆ–å¤šç§è´Ÿè½½å‡è¡¡ç®—æ³• TODO å°½å¯èƒ½å®Œå–„é¢˜ç›®ç­”æ¡ˆ å‚è€ƒé“¾æ¥ ShowMeBug-åˆçº§ Golang é¢è¯•è§†é¢‘ åŸºç¡€ç¯‡ new å’Œ make çš„åŒºåˆ«? éƒ½æ˜¯ç”¨äºåˆ†é…å†…å­˜, åŒºåˆ«åœ¨äº: å‰è€…ä¸»è¦ç”¨äºåˆ›å»ºè¿”å›ç±»å‹çš„æŒ‡é’ˆå¼•ç”¨; åè€…åªèƒ½ç”¨äº slice / map / channel çš„åˆå§‹åŒ–. è¡¥å……: å…¶å® new ä¸å¸¸ç”¨, ç›¸æ¯”è¾ƒä¸‹å­—é¢é‡åˆå§‹åŒ–çš„æ–¹å¼æ›´ä¸ºå¸¸ç”¨, åŒæ—¶è·å–æŒ‡é’ˆå¼•ç”¨ä¹‹å, å¯¹äºå¯¹è±¡çš„èµ‹å€¼, è¿˜ä¼šå¯¼è‡´é—´æ¥èµ‹å€¼çš„é€ƒé€¸é—®é¢˜ å‡½æ•°è°ƒç”¨ä¼ å¼•ç”¨ç±»å‹è¿˜æ˜¯å€¼ç±»å‹? (æ¶‰åŠé€ƒé€¸é—®é¢˜) ä¸€èˆ¬é‡‡ç”¨å¼•ç”¨ç±»å‹, å°‘æ•°é‡‡ç”¨å€¼ç±»å‹, è¿™é‡Œä¸»è¦å‚è€ƒçš„æ˜¯: å‡½æ•°å†…éœ€è¦æˆ–è€…ä¸éœ€è¦ä¿®æ”¹å¼•ç”¨ç±»å‹çš„å€¼; å…¶ä»–æƒ…å†µè€ƒè™‘é€ƒé€¸çš„é—®é¢˜, è‹¥å‡½æ•°æ˜¯å˜é‡, åˆ™å‡½æ•°å‚æ•°æ˜¯å¼•ç”¨çš„è¯, ä¼šå¯¼è‡´å‡½æ•°å˜é‡é€ƒé€¸. åå°„çš„åŸç†? (å¦‚ä½•è§£æ struct çš„ tag) recover èƒ½æ•è·å­ goroutine çš„ panic å—? é”ç›¸å…³çš„ä½¿ç”¨æƒ…å†µ? è‡ªå·±ä½¿ç”¨ channel çš„ä½¿ç”¨åœºæ™¯ä»¥åŠå‘? æ¦‚å¿µç¯‡ å†…å­˜ç®¡ç† çº¿ç¨‹åç¨‹çš„å ç”¨å†…å­˜å¤§å°? è¿›ç¨‹æ¨¡å‹ è¿›ç¨‹çŠ¶æ€è½¬æ¢ çº¿ç¨‹æ¨¡å‹ çº¿ç¨‹å¦‚æœå‘ç”Ÿ OOM å¦‚ä½•æ’æŸ¥å¤„ç†? åŒç† goroutine å‘ç”Ÿ OOM ? è°ƒåº¦é€»è¾‘ ä»€ä¹ˆæ—¶å€™ goroutine é˜»å¡? è°ƒåº¦å™¨å¦‚ä½•å¤„ç†? goroutine ä¸€ç›´å ç”¨èµ„æºå¦‚ä½•å¤„ç†? æ¡†æ¶ç¯‡ é¡¹ç›®ä¸­å¦‚ä½•é”™è¯¯å¤„ç†? ä¼šè‡ªå®šä¹‰ error é”™è¯¯å¤„ç†å—? gRPC ä½¿ç”¨æƒ…å†µ? æœåŠ¡å‘ç°/è´Ÿå€ºå‡è¡¡çš„å®ç°? proto æ–‡ä»¶å¦‚ä½•ç®¡ç†? (monorepo å°è¯•) å¦‚æœä¸­å¿ƒèŠ‚ç‚¹æŒ‚æ‰å¦‚ä½•å¤„ç†? (Raftç®—æ³•ä¿è¯å¯é æ€§) å¼€æºæ¡†æ¶Web: gin beego Gin ä¸­çš„è‡ªå®šä¹‰å‚æ•°æ ¡éªŒè§„åˆ™? Gin ä¸­é—´ä»¶çš„ä½¿ç”¨æƒ…å†µ Game: leaf origin leaf çš„æ¶ˆæ¯è·¯ç”±æ–¹å¼? æ•°æ®åº“ç¯‡ mongodb mysql redis redis mongodb mysql çš„é”æœºåˆ¶? redis çš„åŸºæœ¬å†…å®¹, ä½¿ç”¨æƒ…å†µ? redis æŒä¹…æ€§å¦‚ä½•å¤„ç†? mysql ORMä½¿ç”¨æƒ…å†µ? (XORM / GORM) mysql åˆ†åº“åˆ†è¡¨æƒ…å†µ? (åˆ†ç‰‡å­˜å‚¨, HBaseå­˜å‚¨) ä¸»ä»æ¨¡å¼/é›†ç¾¤æ¨¡å¼/å“¨å…µæ¨¡å¼åŒºåˆ«? çº¿ä¸Šç»éªŒ çº¿ä¸Š bug å¦‚ä½•æ’æŸ¥? å¦‚ä½•åˆ†æçº¿ä¸Šæ€§èƒ½ç“¶é¢ˆ? ç¼–ç¨‹é¢˜å®ç°å­—ç¬¦ä¸²åŒ¹é…æ£€æŸ¥æ­£ç¡®è¾“å‡ºä»¥ä¸‹ç»“æœ: å³éœ€è¦åŒæ—¶æˆå¯¹çš„ç¬¦å·, å³åˆ¤æ–­æˆåŠŸ 123&quot;[()]&quot; =&gt; true&quot;[(]&quot; =&gt; false&quot;&#123;]]&quot; =&gt; false å®ç°ä¸€ç§æˆ–å¤šç§è´Ÿè½½å‡è¡¡ç®—æ³•","categories":[],"tags":[{"name":"golang","slug":"golang","permalink":"http://muzig.github.io/tags/golang/"},{"name":"interview","slug":"interview","permalink":"http://muzig.github.io/tags/interview/"}]},{"title":"Golang Escape Analysis","slug":"golang-escape-analysis","date":"2020-12-27T14:42:27.000Z","updated":"2021-01-29T04:58:37.501Z","comments":true,"path":"2020/12/27/golang-escape-analysis/","link":"","permalink":"http://muzig.github.io/2020/12/27/golang-escape-analysis/","excerpt":"äº†è§£ Golang è¯­è¨€çš„é€ƒé€¸æœºåˆ¶, æœ‰åŠ©äºåœ¨ç¼–å†™ä»£ç çš„æ—¶å€™ç»•å¼€é€ƒé€¸åˆ†æçš„ç¼ºé™·, ä»è€Œç¼–å†™æ›´åŠ é«˜æ•ˆçš„ä»£ç .","text":"äº†è§£ Golang è¯­è¨€çš„é€ƒé€¸æœºåˆ¶, æœ‰åŠ©äºåœ¨ç¼–å†™ä»£ç çš„æ—¶å€™ç»•å¼€é€ƒé€¸åˆ†æçš„ç¼ºé™·, ä»è€Œç¼–å†™æ›´åŠ é«˜æ•ˆçš„ä»£ç . å…³äºå †æ ˆ é€ƒé€¸åˆ†æ å‡½æ•°å˜é‡ é—´æ¥èµ‹å€¼ interface channel å¯å˜å‚æ•° æ€»ç»“ å‚è€ƒé“¾æ¥ Go è¯­è¨€è¾ƒä¹‹ C è¯­è¨€ä¸€ä¸ªå¾ˆå¤§çš„ä¼˜åŠ¿å°±æ˜¯è‡ªå¸¦ GC åŠŸèƒ½ï¼Œå¯ GC å¹¶ä¸æ˜¯æ²¡æœ‰ä»£ä»·çš„ã€‚å†™ C è¯­è¨€çš„æ—¶å€™ï¼Œåœ¨ä¸€ä¸ªå‡½æ•°å†…å£°æ˜çš„å˜é‡ï¼Œåœ¨å‡½æ•°é€€å‡ºåä¼šè‡ªåŠ¨é‡Šæ”¾æ‰ï¼Œå› ä¸ºè¿™äº›å˜é‡åˆ†é…åœ¨æ ˆä¸Šã€‚å¦‚æœä½ æƒ³è¦å˜é‡çš„æ•°æ®èƒ½åœ¨å‡½æ•°é€€å‡ºåè¿˜èƒ½è®¿é—®ï¼Œå°±éœ€è¦è°ƒç”¨ malloc æ–¹æ³•åœ¨å †ä¸Šç”³è¯·å†…å­˜ï¼Œå¦‚æœç¨‹åºä¸å†éœ€è¦è¿™å—å†…å­˜äº†ï¼Œå†è°ƒç”¨ free æ–¹æ³•é‡Šæ”¾æ‰ã€‚Go è¯­è¨€ä¸éœ€è¦ä½ ä¸»åŠ¨è°ƒç”¨ malloc æ¥åˆ†é…å †ç©ºé—´ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨åˆ†æï¼Œæ‰¾å‡ºéœ€è¦ malloc çš„å˜é‡ï¼Œä½¿ç”¨å †å†…å­˜ã€‚ç¼–è¯‘å™¨çš„è¿™ä¸ªåˆ†æè¿‡ç¨‹å°±å«åšé€ƒé€¸åˆ†æã€‚ å…³äºå †æ ˆåŒºåˆ«å¦‚ä¸‹: ç”³è¯·æ–¹å¼çš„ä¸åŒã€‚æ ˆç”±ç³»ç»Ÿè‡ªåŠ¨åˆ†é…ï¼Œè€Œå †æ˜¯äººä¸ºç”³è¯·å¼€è¾Ÿ; ç”³è¯·å¤§å°çš„ä¸åŒã€‚æ ˆè·å¾—çš„ç©ºé—´è¾ƒå°ï¼Œè€Œå †è·å¾—çš„ç©ºé—´è¾ƒå¤§; ç”³è¯·æ•ˆç‡çš„ä¸åŒã€‚æ ˆç”±ç³»ç»Ÿè‡ªåŠ¨åˆ†é…ï¼Œé€Ÿåº¦è¾ƒå¿«ï¼Œè€Œå †ä¸€èˆ¬é€Ÿåº¦æ¯”è¾ƒæ…¢; å­˜å‚¨å†…å®¹çš„ä¸åŒã€‚æ ˆåœ¨å‡½æ•°è°ƒç”¨æ—¶ï¼Œå‡½æ•°è°ƒç”¨è¯­å¥çš„ä¸‹ä¸€æ¡å¯æ‰§è¡Œè¯­å¥çš„åœ°å€ç¬¬ä¸€ä¸ªè¿›æ ˆï¼Œç„¶åå‡½æ•°çš„å„ä¸ªå‚æ•°è¿›æ ˆï¼Œå…¶ä¸­é™æ€å˜é‡æ˜¯ä¸å…¥æ ˆçš„ã€‚è€Œå †ä¸€èˆ¬æ˜¯åœ¨å¤´éƒ¨ç”¨ä¸€ä¸ªå­—èŠ‚å­˜æ”¾å †çš„å¤§å°ï¼Œå †ä¸­çš„å…·ä½“å†…å®¹æ˜¯äººä¸ºå®‰æ’; åº•å±‚ä¸åŒã€‚æ ˆæ˜¯è¿ç»­çš„ç©ºé—´ï¼Œè€Œå †æ˜¯ä¸è¿ç»­çš„ç©ºé—´ã€‚ è¯¦ç»†ç»†èŠ‚é“¾æ¥: Language Mechanics On Stacks And Pointers Language Mechanics On Escape Analysis 12345678910func stack() int &#123; // å˜é‡ i ä¼šåœ¨æ ˆä¸Šåˆ†é… i := 10 return i&#125;func heap() *int &#123; // å˜é‡ j ä¼šåœ¨å †ä¸Šåˆ†é… j := 10 return &amp;j&#125; 123# åˆ†ææ±‡ç¼–æŒ‡ä»¤å¦‚ä¸‹:go build --gcflags &#x27;-l&#x27; test.gogo tool objdump ./test !!! ä¸è¦ä»¥ä¸ºä½¿ç”¨äº†å †å†…å­˜å°±ä¸€å®šä¼šå¯¼è‡´æ€§èƒ½ä½ä¸‹ï¼Œä½¿ç”¨æ ˆå†…å­˜ä¼šå¸¦æ¥æ€§èƒ½ä¼˜åŠ¿ã€‚å› ä¸ºå®é™…é¡¹ç›®ä¸­ï¼Œç³»ç»Ÿçš„æ€§èƒ½ç“¶é¢ˆä¸€èˆ¬éƒ½ä¸ä¼šå‡ºç°åœ¨å†…å­˜åˆ†é…ä¸Šã€‚åƒä¸‡ä¸è¦ç›²ç›®ä¼˜åŒ–ï¼Œæ‰¾åˆ°ç³»ç»Ÿç“¶é¢ˆï¼Œç”¨æ•°æ®é©±åŠ¨ä¼˜åŒ–ã€‚ é€ƒé€¸åˆ†æéœ€è¦ä½¿ç”¨å †ç©ºé—´åˆ™é€ƒé€¸ï¼Œè¿™æ²¡ä»€ä¹ˆå¯äº‰è®®çš„ã€‚ä½†ç¼–è¯‘å™¨æœ‰æ—¶ä¼šå°†ä¸éœ€è¦ä½¿ç”¨å †ç©ºé—´çš„å˜é‡ï¼Œä¹Ÿé€ƒé€¸æ‰ã€‚è¿™é‡Œæ˜¯å®¹æ˜“å‡ºç°æ€§èƒ½é—®é¢˜çš„å¤§å‘ã€‚ç½‘ä¸Šæœ‰å¾ˆå¤šç›¸å…³æ–‡ç« ï¼Œåˆ—ä¸¾äº†ä¸€äº›å¯¼è‡´é€ƒé€¸æƒ…å†µï¼Œå…¶å®æ€»ç»“èµ·æ¥å°±ä¸€å¥è¯ï¼š å¤šçº§é—´æ¥èµ‹å€¼å®¹æ˜“å¯¼è‡´é€ƒé€¸ã€‚ Go è¯­è¨€ä¸­çš„å¼•ç”¨ç±»æ•°æ®ç±»å‹æœ‰ func, interface, slice, map, chan, *Type(æŒ‡é’ˆ)ã€‚ è®°ä½å…¬å¼ Data.Field = Valueï¼Œå¦‚æœ Data, Field éƒ½æ˜¯å¼•ç”¨ç±»çš„æ•°æ®ç±»å‹ï¼Œåˆ™ä¼šå¯¼è‡´ Value é€ƒé€¸ã€‚è¿™é‡Œçš„ç­‰å· = ä¸å•å•åªèµ‹å€¼ï¼Œä¹Ÿè¡¨ç¤ºå‚æ•°ä¼ é€’ã€‚ å‡½æ•°å˜é‡ è‹¥å‡½æ•°æ˜¯å˜é‡, ä¸”å‚æ•°ä¹Ÿæ˜¯å¼•ç”¨ç±»å‹, åˆ™ä¼šå‘ç”Ÿé€ƒé€¸ é—´æ¥èµ‹å€¼ è‰¯å¥½çš„å†™æ³•æ˜¯, åœ¨è¿”å›çš„æ—¶å€™å†å¼•ç”¨åœ°å€ 1234567891011121314151617181920212223type Data struct &#123; data map[int]int slice []int ch chan int inf interface&#123;&#125; p *int&#125;func main() &#123; d1 := Data&#123;&#125; d1.data = make(map[int]int) // GOOD: does not escape d1.slice = make([]int, 4) // GOOD: does not escape d1.ch = make(chan int, 4) // GOOD: does not escape d1.inf = 3 // GOOD: does not escape d1.p = new(int) // GOOD: does not escape d2 := new(Data) // d2 æ˜¯æŒ‡é’ˆå˜é‡ï¼Œ ä¸‹é¢ä¸ºè¯¥æŒ‡é’ˆå˜é‡ä¸­çš„æŒ‡é’ˆæˆå‘˜èµ‹å€¼ d2.data = make(map[int]int) // BAD: escape to heap d2.slice = make([]int, 4) // BAD: escape to heap d2.ch = make(chan int, 4) // BAD: escape to heap d2.inf = 3 // BAD: escape to heap d2.p = new(int) // BAD: escape to heap&#125; interfaceåªè¦ä½¿ç”¨äº† Interface ç±»å‹(ä¸æ˜¯ interafce{})ï¼Œé‚£ä¹ˆèµ‹å€¼ç»™å®ƒçš„å˜é‡ä¸€å®šä¼šé€ƒé€¸ã€‚å› ä¸º interfaceVariable.Method() å…ˆæ˜¯é—´æ¥çš„å®šä½åˆ°å®ƒçš„å®é™…å€¼ï¼Œå†è°ƒç”¨å®é™…å€¼çš„åŒåæ–¹æ³•ï¼Œæ‰§è¡Œæ—¶å®é™…å€¼ä½œä¸ºå‚æ•°ä¼ é€’ç»™æ–¹æ³•ã€‚ç›¸å½“äºinterfaceVariable.Method.this = realValue 123456789101112131415type Iface interface &#123; Dummy()&#125;type Integer intfunc (i Integer) Dummy() &#123;&#125;func main() &#123; var ( iface Iface i Integer ) iface = i iface.Dummy() // make i escape to heap // å½¢æˆ iface.Dummy.i = i&#125; channel å‘é€åˆ° channel çš„æ•°æ®ç±»å‹éƒ½å°†é€ƒé€¸ 12345678910111213func test() &#123; var ( chInteger = make(chan *int) chMap = make(chan map[int]int) chSlice = make(chan []int) chInterface = make(chan interface&#123;&#125;) a, b, c, d = 0, map[int]int&#123;&#125;, []int&#123;&#125;, 32 ) chInteger &lt;- &amp;a // é€ƒé€¸ chMap &lt;- b // é€ƒé€¸ chSlice &lt;- c // é€ƒé€¸ chInterface &lt;- d // é€ƒé€¸&#125; å¯å˜å‚æ•°å¯å˜å‚æ•°å¦‚ func(arg â€¦string) å®é™…ä¸ func(arg []string) æ˜¯ä¸€æ ·çš„ï¼Œä¼šå¢åŠ ä¸€å±‚è®¿é—®è·¯å¾„ã€‚è¿™ä¹Ÿæ˜¯ fmt.Sprintf æ€»æ˜¯ä¼šä½¿å‚æ•°é€ƒé€¸çš„åŸå› ã€‚ ä¾‹å­éå¸¸å¤šï¼Œè¿™é‡Œä¸èƒ½ä¸€ä¸€åˆ—ä¸¾ï¼Œæˆ‘ä»¬åªéœ€è¦è®°ä½åˆ†ææ–¹æ³•å°±å¥½ å³ï¼Œ2 çº§æˆ–æ›´å¤šçº§çš„è®¿é—®èµ‹å€¼ä¼šå®¹æ˜“å¯¼è‡´æ•°æ®é€ƒé€¸ã€‚è¿™é‡ŒåŠ ä¸Šå®¹æ˜“äºŒå­—æ˜¯å› ä¸ºéšç€è¯­è¨€çš„å‘å±•ï¼Œç›¸ä¿¡è¿™äº›é—®é¢˜ä¼šè¢«æ…¢æ…¢è§£å†³ï¼Œä½†ç°é˜¶æ®µï¼Œè¿™ä¸ªå¯ä»¥ä½œä¸ºæˆ‘ä»¬åˆ†æé€ƒé€¸ç°è±¡çš„ä¾æ®ã€‚ 123456789101112type User struct &#123; roles []string&#125;func (u *User) SetRoles(roles []string) &#123; u.roles = roles&#125;func SetRoles(u User, roles []string) User &#123; u.roles = roles return u&#125; 12345678910111213141516171819202122232425type User struct &#123; A []string&#125;func (u *User) Set(a []string) &#123; u.A = a&#125;func SetUser(user User, a []string) User &#123; user.A = a return user&#125;func BenchmarkUser(b *testing.B) &#123; // BenchmarkUser-4 39182143 29.0 ns/op //u := new(User) //for i := 0; i &lt; b.N; i++ &#123; // u.Set([]string&#123;&quot;a&quot;&#125;) //&#125; // BenchmarkUser-4 1000000000 0.585 ns/op for i := 0; i &lt; b.N; i++ &#123; _ = SetUser(User&#123;&#125;, []string&#123;&quot;a&quot;&#125;) &#125;&#125; æ€»ç»“ å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæ€§èƒ½ä¼˜åŒ–éƒ½ä¼šä¸ºç¨‹åºå¸¦æ¥ä¸€å®šçš„å¤æ‚åº¦ã€‚å»ºè®®å®é™…é¡¹ç›®ä¸­è¿˜æ˜¯æ€ä¹ˆæ–¹ä¾¿æ€ä¹ˆå†™ï¼ŒåŠŸèƒ½å®Œæˆåé€šè¿‡æ€§èƒ½åˆ†ææ‰¾åˆ°ç“¶é¢ˆæ‰€åœ¨ï¼Œå†å¯¹å±€éƒ¨è¿›è¡Œä¼˜åŒ–ã€‚ å¤šçº§é—´æ¥èµ‹å€¼ä¼šå¯¼è‡´ Go ç¼–è¯‘å™¨å‡ºç°ä¸å¿…è¦çš„é€ƒé€¸ï¼Œåœ¨ä¸€äº›æƒ…å†µä¸‹å¯èƒ½æˆ‘ä»¬åªéœ€è¦ä¿®æ”¹ä¸€ä¸‹æ•°æ®ç»“æ„å°±ä¼šä½¿æ€§èƒ½æœ‰å¤§å¹…æå‡ã€‚è¿™ä¹Ÿæ˜¯å¾ˆå¤šäººä¸æ¨èåœ¨ Go ä¸­ä½¿ç”¨æŒ‡é’ˆçš„åŸå› ï¼Œå› ä¸ºå®ƒä¼šå¢åŠ ä¸€çº§è®¿é—®è·¯å¾„ï¼Œè€Œ map, slice, interface{}ç­‰ç±»å‹æ˜¯ä¸å¯é¿å…è¦ç”¨åˆ°çš„ï¼Œä¸ºäº†å‡å°‘ä¸å¿…è¦çš„é€ƒé€¸ï¼Œåªèƒ½æ‹¿æŒ‡é’ˆå¼€åˆ€äº†ã€‚ å‚è€ƒé“¾æ¥ è¾¾è²æ ¼-Go è¯­è¨€å†…å­˜ç®¡ç†ï¼ˆä¸‰ï¼‰ï¼šé€ƒé€¸åˆ†æ","categories":[],"tags":[{"name":"golang","slug":"golang","permalink":"http://muzig.github.io/tags/golang/"},{"name":"escape-analysis","slug":"escape-analysis","permalink":"http://muzig.github.io/tags/escape-analysis/"}]},{"title":"Golang GC","slug":"golang-GC","date":"2020-12-26T23:32:41.000Z","updated":"2021-01-29T04:58:37.501Z","comments":true,"path":"2020/12/26/golang-GC/","link":"","permalink":"http://muzig.github.io/2020/12/26/golang-GC/","excerpt":"æ ‡è®°æ¸…é™¤ å¹¶è¡Œæ ‡è®°æ¸…é™¤ ä¸‰è‰²æ ‡è®°æ³• Hybrid Write Barrier","text":"æ ‡è®°æ¸…é™¤ å¹¶è¡Œæ ‡è®°æ¸…é™¤ ä¸‰è‰²æ ‡è®°æ³• Hybrid Write Barrier æ ‡è®°æ¸…é™¤ &amp; å¹¶è¡Œæ ‡è®°æ¸…é™¤ ä¸‰è‰²æ ‡è®°æ³• Hybrid Write Barrier (æ··åˆå†™å±éšœ) ä½•æ—¶è§¦å‘ GC å…¶ä»–ä¼˜åŒ– å±•æœ› ç»“è®º å‚è€ƒé“¾æ¥ æ ‡è®°æ¸…é™¤ &amp; å¹¶è¡Œæ ‡è®°æ¸…é™¤GC å¼€å§‹ä¹‹å, å¯åŠ¨ STW ç„¶åä» root å¼€å§‹, root åŒºå€¼å½“å‰æ‰€æœ‰ goroutine çš„æ ˆå’Œå…¨å±€æ•°æ®åŒºçš„å˜é‡(ä¸»è¦æ˜¯è¿™ 2 ä¸ªåœ°æ–¹), å°†èƒ½è¢«è§¦åŠçš„ object æ ‡è®°, å‰©ä¸‹çš„å°±æ˜¯å¯å›æ”¶çš„; æœ€åå†æ¸…ç†æ”¾å› mcache ä¸­, ä»¥å¤‡åç»­ä½¿ç”¨. å¹¶è¡Œæ ‡è®°æ¸…é™¤, å®é™…ä¸Šæ˜¯æ¸…ç†è¿‡ç¨‹ä¸éœ€è¦ STW, å‡å°‘äº† STW çš„æ—¶é—´. ä¸‰è‰²æ ‡è®°æ³• æ­£å¸¸æƒ…å†µä¸‹ï¼Œå†™æ“ä½œå°±æ˜¯æ­£å¸¸çš„èµ‹å€¼ã€‚ GC å¼€å§‹ï¼Œå¼€å¯å†™å±éšœç­‰å‡†å¤‡å·¥ä½œã€‚å¼€å¯å†™å±éšœç­‰å‡†å¤‡å·¥ä½œéœ€è¦çŸ­æš‚çš„ STWã€‚ Stack scan é˜¶æ®µï¼Œä»å…¨å±€ç©ºé—´å’Œ goroutine æ ˆç©ºé—´ä¸Šæ”¶é›†å˜é‡ã€‚ Mark é˜¶æ®µï¼Œæ‰§è¡Œä¸Šè¿°çš„ä¸‰è‰²æ ‡è®°æ³•ï¼Œç›´åˆ°æ²¡æœ‰ç°è‰²å¯¹è±¡ã€‚ Mark termination é˜¶æ®µï¼Œå¼€å¯ STWï¼Œå›å¤´é‡æ–°æ‰«æ root åŒºåŸŸæ–°å˜é‡ï¼Œå¯¹ä»–ä»¬è¿›è¡Œæ ‡è®°ã€‚ Sweep é˜¶æ®µï¼Œå…³é—­ STW å’Œ å†™å±éšœï¼Œå¯¹ç™½è‰²å¯¹è±¡è¿›è¡Œæ¸…é™¤ã€‚ Hybrid Write Barrier (æ··åˆå†™å±éšœ)Go åœ¨ 1.8 ç‰ˆæœ¬å¼•å…¥äº†æ··åˆå†™å±éšœï¼Œå…¶ä¼šåœ¨èµ‹å€¼å‰ï¼Œå¯¹æ—§æ•°æ®ç½®ç°ï¼Œå†è§†æƒ…å†µå¯¹æ–°å€¼è¿›è¡Œç½®ç°ã€‚ ä½•æ—¶è§¦å‘ GC å®¹é‡è§¦å‘ - è¾¾åˆ°è®¾ç½®çš„é˜ˆå€¼è§¦å‘ GC, é»˜è®¤ä¸º100(å³å†…å­˜å¢é•¿100%å³è§¦å‘ä¸€æ¬¡), å¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡ GOGC æˆ–è€… debug.SetGCPercent() æ—¶é—´è§¦å‘ - æ¯éš” 2 åˆ†é’Ÿ, è§¦å‘ä¸€æ¬¡ GC æ‰‹åŠ¨è§¦å‘ - runtime.GC() å…¶ä»–ä¼˜åŒ– åªä¼šå ç”¨ 25% çš„ cpu ç®—åŠ›å¤„ç† GC é€»è¾‘, ä¿è¯å‡å°‘å¯¹ç”¨æˆ·çš„å½±å“. è‹¥ä¸‹ä¸€è½® GC è§¦å‘, ä¼šç­‰å¾…ä¸Šä¸€è½®æ‰§è¡Œå®Œæ¯• å¯¹äº tiny å¯¹è±¡, ç›´æ¥æ ‡è®°é»‘è‰², æ²¡æœ‰ç°è‰²é˜¶æ®µ, å› ä¸ºä¸å­˜åœ¨å¼•ç”¨å¯¹è±¡ é‡‡ç”¨å¯¹è±¡æ± çš„æ–¹å¼, å‡å°‘ GC çš„å‹åŠ›, ä½†å®é™…ä¸Šä¹Ÿä¼šå­˜åœ¨æ ‡è®°çš„å‹åŠ›; å¦‚æœå¯ä»¥æ”¾åœ¨æ°¸ä¹…æ ‡è®°, å°±å¯ä»¥å‡å°‘æ ‡è®°å‹åŠ› ç›´æ¥ç”³è¯·å¤§å†…å­˜(å¤§äº32k), å¯¹ GC æ¥è¯´æ˜¯ä¸€ä¸ª largespan; éœ€è¦è‡ªè¡Œä»£ç ç®¡ç† å±•æœ› å¼•å…¥åˆ†ä»£æœºåˆ¶, åƒ JVM é‚£æ ·å†…å­˜åˆ†ä¸º ä¸€çº§/äºŒçº§/æ°¸ä¹…, ä¸åŒçº§åˆ«, é‡‡ç”¨ä¸åŒçš„è®¡ç®—èµ„æº ç»“è®º å‡å°‘å±‚çº§æ•° - åµŒå¥—å±‚çº§è¶Šå¤š, å¯¹äº GC çš„å‹åŠ›è¶Šå¤§; å¦‚: chan map[string][]*string å‚è€ƒé“¾æ¥ Golang GCæ ¸å¿ƒè¦ç‚¹å’Œåº¦é‡æ–¹æ³• å¸¸è§GCç®—æ³•åŠGolang GC è¾¾è²æ ¼-Go è¯­è¨€å†…å­˜ç®¡ç†ï¼ˆå››ï¼‰","categories":[{"name":"ç¼–ç¨‹è¯­è¨€","slug":"ç¼–ç¨‹è¯­è¨€","permalink":"http://muzig.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/"}],"tags":[{"name":"golang","slug":"golang","permalink":"http://muzig.github.io/tags/golang/"},{"name":"gc","slug":"gc","permalink":"http://muzig.github.io/tags/gc/"}]},{"title":"Golang Scheduling","slug":"golang-scheduling","date":"2020-12-26T15:40:47.000Z","updated":"2021-01-29T04:58:37.501Z","comments":true,"path":"2020/12/26/golang-scheduling/","link":"","permalink":"http://muzig.github.io/2020/12/26/golang-scheduling/","excerpt":"ç†Ÿæ‚‰ Golang çš„è°ƒåº¦åŸç†, èƒ½å¤Ÿå¸®åŠ©ç¼–å†™æ›´åŠ é«˜æ•ˆçš„å¹¶å‘é€»è¾‘; åŒæ—¶è¿˜èƒ½é¿å…è°ƒåº¦ç›¸å…³çš„å‘.","text":"ç†Ÿæ‚‰ Golang çš„è°ƒåº¦åŸç†, èƒ½å¤Ÿå¸®åŠ©ç¼–å†™æ›´åŠ é«˜æ•ˆçš„å¹¶å‘é€»è¾‘; åŒæ—¶è¿˜èƒ½é¿å…è°ƒåº¦ç›¸å…³çš„å‘. GPM æ¨¡å‹ è°ƒåº¦æµç¨‹ ç”¨æˆ·æ–¹å¼é˜»å¡/å”¤é†’ syscall sysmon æŠ¢å å¼è°ƒåº¦ netpoll g çš„åˆ›å»ºæµç¨‹ g çš„æš‚åœæ–¹å¼ Go è°ƒåº¦æŸ¥çœ‹æ–¹å¼ æ€»ç»“ å‚è€ƒé“¾æ¥ GPM æ¨¡å‹æ–‡ä»¶ä½ç½®: src/runtime/runtime2.go g(goroutine): å¯¹åº”åˆ° g ç»“æ„ä½“, ä¿å­˜ goroutin éœ€è¦çš„å †æ ˆä¿¡æ¯ p(process): ç›¸å½“äº g çš„é©±åŠ¨, åªæœ‰ç»‘å®šåœ¨ local runq ä¸‹, æ‰èƒ½è¢«è°ƒåº¦ m(machine): \bOS çº¿ç¨‹æŠ½è±¡, çœŸæ­£çš„é©±åŠ¨åŠ›, å’ŒæŸä¸ª p ç»‘å®š, ç„¶å p ä» local runq ä¸­ä¾æ¬¡å–å‡º g ç”¨æ¥æ‰§è¡Œ è¡¥å……: æœ€æ—© go1.1 ä»…ä»…æ˜¯ GM æ¨¡å¼, åç»­ Dmitry Vyukov ä¸ºäº†è§£å†³å¹¶å‘ä¼¸ç¼©æ€§é—®é¢˜, å¼•å…¥ p çš„æ¦‚å¿µ ææ¡ˆæ–‡æ¡£ g çš„æ•°é‡å—é™äº GOMAXPROCS, å³è¶…çº¿ç¨‹æ•°é‡, ä¸€èˆ¬ intel cpu å…·æœ‰è¶…çº¿ç¨‹æŠ€æœ¯, åŒæ ¸å››çº¿ç¨‹, å³æ•°é‡ä¸º4 m çš„ä¸ªæ•°æ˜¯ä¸å®šçš„ï¼Œç”±Go Runtimeè°ƒæ•´ï¼Œé»˜è®¤æœ€å¤§é™åˆ¶ä¸º10000ä¸ª è°ƒåº¦æµç¨‹ m ä¸ p ç»‘å®š, m ä» p çš„ local runq ä¸­å–å‡ºå¹¶åˆ‡æ¢åˆ° g çš„å †æ ˆæ‰§è¡Œ è‹¥ local runq å­˜åœ¨ g, åˆ™æ‰§è¡Œ(æ— é”) è‹¥ä¸å­˜åœ¨, ä» global runq å–å‡º g æ‰§è¡Œ(æœ‰é”) è‹¥ä¾ç„¶ä¸å­˜åœ¨, åˆ™ä»å…¶ä»– p â€œçªƒå–â€ g æ‰§è¡Œ è‹¥æ²¡æœ‰ g å¯ä»¥æ‰§è¡Œ, åˆ™ m ä¸ p è§£ç»‘, è¿›å…¥ä¼‘çœ æ¨¡å¼(idle) ç”¨æˆ·æ–¹å¼é˜»å¡/å”¤é†’é˜»å¡: å½“ g è¢« channel å¡ä½, m ä¼šè·³è¿‡æ‰§è¡Œä¸‹ä¸€ä¸ª, å¹¶å°† g æ”¾ç½®åœ¨ waitq é‡Œé¢ å”¤é†’: å½“ g æ‰§è¡Œçš„æ—¶å€™, é€šè¿‡ channel å‘å¦ä¸€ä¸ª g2 æŠ•é€’æ¶ˆæ¯, åˆ™ g2 å°†ç›´æ¥â€æ’é˜Ÿâ€, æ”¾ä¸‹ä¸€ä¸ªæ‰§è¡Œ syscallè‹¥ g è¢«é˜»å¡åœ¨ä¸€ä¸ªç³»ç»Ÿè°ƒç”¨ä¸Š, åˆ™ p å°†äº m è§£ç»‘, å¯»æ‰¾ idle çŠ¶æ€çš„ m å†æ­¤ç»‘å®š; è‹¥æ²¡æœ‰ idle çŠ¶æ€çš„ m, åˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„ m. ç³»ç»Ÿè°ƒç”¨ç»“æŸ, g ä¼šé‡æ–°å¯»æ‰¾ idle çŠ¶æ€çš„ p, å¹¶æ¢å¤æ‰§è¡Œ, è‹¥æ²¡æœ‰åˆ™æ”¾åˆ° globl runq ä¸­. ç³»ç»Ÿè¢«è°ƒåº¦çš„ä¸¤ä¸ªå…³é”®ç‚¹: runtime/syscallåŒ…ä¸­, ç³»ç»Ÿè°ƒç”¨åˆ†ä¸º syscall &amp; rawsyscall, åŒºåˆ«åœ¨äºå‰è€…ä¼šè®°å½•ä¿å­˜å’Œæ¢å¤æ‰€éœ€çŠ¶æ€, è¿™æ ·å¯ä»¥å®‰å…¨çš„è§£ç»‘; æŸäº›ç³»ç»Ÿè°ƒç”¨å¯ä»¥é¢„å…ˆè¯„ä¼°æ˜¯ä¼šé•¿æ—¶é—´é˜»å¡, åˆ™ä¼šå‘èµ·ä¹‹å‰, ç›´æ¥ p &amp; m è§£ç»‘(handoffp) sysmon è´Ÿè´£æ£€æŸ¥ç³»ç»Ÿè°ƒç”¨æ—¶é—´, å†³å®šæ˜¯å¦éœ€è¦ handoffp sysmonsysmon æ˜¯ä¸€ä¸ªç”± runtime å¯åŠ¨çš„Mï¼Œä¹Ÿå«ç›‘æ§çº¿ç¨‹ï¼Œå®ƒæ— éœ€Pä¹Ÿå¯ä»¥è¿è¡Œï¼Œå®ƒæ¯20us~10mså”¤é†’ä¸€æ¬¡. æµç¨‹å¦‚ä¸‹: é‡Šæ”¾é—²ç½®è¶…è¿‡5åˆ†é’Ÿçš„spanç‰©ç†å†…å­˜ï¼› å¦‚æœè¶…è¿‡2åˆ†é’Ÿæ²¡æœ‰åƒåœ¾å›æ”¶ï¼Œå¼ºåˆ¶æ‰§è¡Œï¼› å°†é•¿æ—¶é—´æœªå¤„ç†çš„netpollç»“æœæ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ—ï¼› å‘é•¿æ—¶é—´è¿è¡Œçš„Gä»»åŠ¡å‘å‡ºæŠ¢å è°ƒåº¦ï¼› æ”¶å›å› syscallé•¿æ—¶é—´é˜»å¡çš„Pï¼› æŠ¢å å¼è°ƒåº¦å½“æŸä¸ª g æ‰§è¡Œè¶…è¿‡10ms, åˆ™ sysmon å°†å‘èµ·æŠ¢å å¼è¯·æ±‚, ä¼šç»™ g æ‰“ä¸Šæ ‡ç­¾; å½“ g æ‰§è¡Œå‡½æ•°æ—¶(æ›´ç¡®åˆ‡è¯´ï¼Œåœ¨é€šè¿‡newstackåˆ†é…å‡½æ•°æ ˆæ—¶), å°†è¢« runtime.Goched çš„æ–¹å¼æš‚åœ, æ”¾ç½®åœ¨ global runq ä¸­ netpollé™¤äº†ä¹‹å‰æåˆ°çš„, local runq, runqnext, global runq, è¿˜å­˜åœ¨å¯¹ç½‘ç»œ I/O è¿›è¡Œä¼˜åŒ–çš„ netpoll, æœ¬åœ°é¿å…ç½‘ç»œI/Oçš„æ—¶å€™é™·å…¥ç³»ç»Ÿè°ƒç”¨, ä¸é˜»å¡ M (è€Œæ˜¯é˜»å¡ G ), ä»è€Œä¸ä¼šå¯¼è‡´å¤§é‡çš„ M è¢«åˆ›å»º g çš„åˆ›å»ºæµç¨‹ å½“ go func(){} æ‰§è¡Œçš„æ—¶å€™, ä¼šå°è¯•ä»æ± å­ä¸­å¤ç”¨, æ²¡æœ‰åˆ™åˆ›å»º å°è¯•â€æ’é˜Ÿâ€, æ”¾ç½®åˆ°å½“å‰ p çš„ runnext é‡Œé¢ å¦åˆ™æ”¾ç½®åˆ° local runq ä¸­(æ— é”) å¦åˆ™æ”¾ç½®åˆ° global runq ä¸­(æœ‰é”) g çš„æš‚åœæ–¹å¼ å¸¸è§„æ–¹å¼ - å°† g é˜»å¡, æ”¾åˆ° global runq ä¸­, ç­‰å¾…è¢«è·å–æ‰§è¡Œ ç­‰å¾…æ–¹å¼ - å°† g é˜»å¡, æ”¾åˆ° waitq ä¸­, ç­‰å¾…è¢«å…¶ä»– g å”¤é†’ è‡ªæ—‹æ–¹å¼ - gpm éƒ½ä¸è°ƒåº¦, ç›´åˆ°è¢«å”¤é†’ é€€å‡ºæ–¹å¼ - ç«‹å³ç»ˆæ­¢ g ä»»åŠ¡, ç¡®ä¿ defer æ­£å¸¸æ‰§è¡Œ process æ–¹å¼ - æ”¾é£ p, é˜»å¡ g m, p å¯ä»¥è·Ÿå…¶ä»– m ç»‘å®š Go è°ƒåº¦æŸ¥çœ‹æ–¹å¼ Go è°ƒåº¦æ¨¡å‹ æ€»ç»“ä»è°ƒåº¦æ¨¡å‹, åˆ° gpm çš„æ¢è®¨, è®²åˆ°äº†é˜»å¡å’Œå”¤é†’çš„æµç¨‹, ä»¥åŠå¦‚ä½•æŠ¢å , å»¶ä¼¸åˆ° sysmon æœåŠ¡çš„ç‰¹ç‚¹; æœ€åè¡¥å……äº† netpoll ä¼˜åŒ–å’Œ g çš„åˆ›å»ºæµç¨‹å’ŒçŠ¶æ€ä»‹ç».å›è¿‡å¤´æ¥, æˆ‘ä»¬å†çœ‹çœ‹, å­¦ä¹ è°ƒåº¦çš„ç›®çš„å…¶å®å®é™…éœ€æ±‚æ¥è®², å°±æ˜¯ç¼–å†™æ›´åŠ é«˜æ•ˆçš„å¹¶å‘ç¨‹åº, æ˜ç™½äº†æµç¨‹, è¿˜éœ€è¦å®æˆ˜, åç»­å†æ›´æ–°ä»£ç å®æˆ˜çš„æƒ…å†µ. å‚è€ƒé“¾æ¥ Go è°ƒåº¦æ¨¡å‹ å†è°ˆè°ƒåº¦ è¾¾è²æ ¼-Go è¯­è¨€è°ƒåº¦ï¼ˆä¸€ï¼‰: ç³»ç»Ÿè°ƒåº¦ è¾¾è²æ ¼-Go è¯­è¨€è°ƒåº¦ï¼ˆäºŒï¼‰: goroutine è°ƒåº¦å™¨ è¾¾è²æ ¼-Go è¯­è¨€è°ƒåº¦ï¼ˆä¸‰ï¼‰: å¹¶å‘","categories":[],"tags":[{"name":"golang","slug":"golang","permalink":"http://muzig.github.io/tags/golang/"},{"name":"scheduling","slug":"scheduling","permalink":"http://muzig.github.io/tags/scheduling/"}]},{"title":"Shell ç¬”è®°","slug":"shell-note","date":"2020-12-19T15:22:53.000Z","updated":"2021-01-29T04:58:37.501Z","comments":true,"path":"2020/12/19/shell-note/","link":"","permalink":"http://muzig.github.io/2020/12/19/shell-note/","excerpt":"åœ¨é¡¹ç›®ä¸­å¼€å‘è¿‡ç¨‹ä¸­, éš¾å…ä¼šå¤„ç†ä¸€äº›è„šæœ¬åŒ–çš„ä¸šåŠ¡, ç¼–å†™ shell è„šæœ¬èƒ½å¸®åŠ©æˆ‘ä»¬æ›´æ–¹ä¾¿çš„å¤„ç†ä¸€äº›å›ºå®šä¸šåŠ¡. ç§‘æŠ€æ”¹å˜ç”Ÿæ´», è„šæœ¬é‡Šæ”¾åŒæ‰‹.","text":"åœ¨é¡¹ç›®ä¸­å¼€å‘è¿‡ç¨‹ä¸­, éš¾å…ä¼šå¤„ç†ä¸€äº›è„šæœ¬åŒ–çš„ä¸šåŠ¡, ç¼–å†™ shell è„šæœ¬èƒ½å¸®åŠ©æˆ‘ä»¬æ›´æ–¹ä¾¿çš„å¤„ç†ä¸€äº›å›ºå®šä¸šåŠ¡. ç§‘æŠ€æ”¹å˜ç”Ÿæ´», è„šæœ¬é‡Šæ”¾åŒæ‰‹. åŸºç¡€è¯­æ³• å˜é‡ å­—ç¬¦ä¸² æ•°ç»„ æ³¨é‡Š ä¼ å‚ è¿ç®—ç¬¦ ç®—æ•°è¿ç®—ç¬¦ é€»è¾‘è¿ç®—ç¬¦ å¸ƒå°”è¿ç®—ç¬¦ å…³ç³»è¿ç®—ç¬¦ å­—ç¬¦ä¸²è¿ç®—ç¬¦ æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦ æµç¨‹æ§åˆ¶ æ¡ä»¶æ§åˆ¶ å¾ªç¯æ§åˆ¶ å‡½æ•° é‡å®šå‘ /dev/null æ–‡ä»¶ æ–‡ä»¶å¼•ç”¨ oh-my-zsh æºç  å‚è€ƒé“¾æ¥ åŸºç¡€è¯­æ³•å˜é‡123# èµ‹å€¼ç­‰å·ä¸¤è¾¹ä¸èƒ½æ·»åŠ ç©ºæ ¼name=&#x27;hello&#x27;echo $&#123;name&#125; 123# å¸¸é‡name=&#x27;hello&#x27;readonly name 123# åˆ é™¤å˜é‡name=&#x27;hello&#x27;unset name å­—ç¬¦ä¸² å•å¼•å· åŸæ ·è¾“å‡º, ä¸æ”¯æŒå˜é‡å¼•ç”¨ åŒå¼•å· æ”¯æŒå˜é‡å¼•ç”¨ æ”¯æŒè½¬ä¹‰å­—ç¬¦ 123# è·å–å­—ç¬¦ä¸²é•¿åº¦name=&#x27;hello&#x27;echo $&#123;#name&#125; 123# æå–å­—ç¬¦ä¸²name=&#x27;hello world&#x27;echo $&#123;name:1:3&#125; # è¾“å‡ºell 123# æŸ¥æ‰¾å­—ç¬¦ä¸²string=&quot;runoob is a great site&quot;echo `expr index &quot;$string&quot; io` # è¾“å‡º 4 æ•°ç»„123array_name=(value1 value2 ... valuen)# è®¿é—®v1=$&#123;array_name[0]&#125; æ³¨é‡Š1234567# å•è¡Œæ³¨é‡Š:&lt;&lt;EOFå¤šè¡Œæ³¨é‡Šå¤šè¡Œæ³¨é‡ŠEOFç¬¦å·å¯ä»¥æ¢æˆå…¶ä»–, æ¯”å¦‚`&#x27;ä¹‹ç±»çš„EOF ä¼ å‚ $0: æ–‡ä»¶å $1: å‘½ä»¤è¡Œæ‰§è¡Œçš„ç¬¬ä¸€ä¸ªå‚æ•° $2: å‘½ä»¤è¡Œæ‰§è¡Œçš„ç¬¬äºŒä¸ªå‚æ•° è¿ç®—ç¬¦ç®—æ•°è¿ç®—ç¬¦ é€»è¾‘è¿ç®—ç¬¦ å¸ƒå°”è¿ç®—ç¬¦ å…³ç³»è¿ç®—ç¬¦ å­—ç¬¦ä¸²è¿ç®—ç¬¦ æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦ æµç¨‹æ§åˆ¶å…³é”®å­—: break continue æ¡ä»¶æ§åˆ¶12345678910111213# å¤šè¡Œif condition1then command1elif condition2 then command2else commandNfi# å•è¡Œif [ $(ps -ef | grep -c &quot;ssh&quot;) -gt 1 ]; then echo &quot;true&quot;; fi 1234567891011121314case å€¼ inæ¨¡å¼1) command1 command2 ... commandN ;;æ¨¡å¼2ï¼‰ command1 command2 ... commandN ;;esac å¾ªç¯æ§åˆ¶1234567891011# å¤šè¡Œfor var in item1 item2 ... itemNdo command1 command2 ... commandNdone# å•è¡Œfor var in item1 item2 ... itemN; do command1; command2â€¦ done; 1234567891011121314151617# æ¡ä»¶å¾ªç¯while conditiondo commanddone# æ¡ä»¶å¾ªç¯until conditiondo commanddone# æ— é™å¾ªç¯while :do commanddone å‡½æ•°12345678910# è¯­æ³•[ function ] funname [()]&#123; action; [return int;]&#125; 123456demoFun()&#123; echo &quot;è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ª shell å‡½æ•°!&quot;&#125;echo &quot;-----å‡½æ•°å¼€å§‹æ‰§è¡Œ-----&quot;demoFunecho &quot;-----å‡½æ•°æ‰§è¡Œå®Œæ¯•-----&quot; 1234è¾“å‡ºç»“æœ:-----å‡½æ•°å¼€å§‹æ‰§è¡Œ-----è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ª shell å‡½æ•°!-----å‡½æ•°æ‰§è¡Œå®Œæ¯•----- é‡å®šå‘ /dev/null æ–‡ä»¶å¦‚æœå¸Œæœ›æ‰§è¡ŒæŸä¸ªå‘½ä»¤ï¼Œä½†åˆä¸å¸Œæœ›åœ¨å±å¹•ä¸Šæ˜¾ç¤ºè¾“å‡ºç»“æœï¼Œé‚£ä¹ˆå¯ä»¥å°†è¾“å‡ºé‡å®šå‘åˆ° /dev/nullï¼š 1command &gt; /dev/null æ–‡ä»¶å¼•ç”¨1url=&quot;http://muzig.github.io&quot; 1234567# ä½¿ç”¨ . å·æ¥å¼•ç”¨src.sh æ–‡ä»¶. ./src.sh# æˆ–è€…ä½¿ç”¨ä»¥ä¸‹åŒ…å«æ–‡ä»¶ä»£ç source ./src.shecho &quot;Blogï¼š$url&quot; 12è¾“å‡º:Blog: http://muzig.github.io oh-my-zsh æºç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130# If ZSH is not defined, use the current script&#x27;s directory.[[ -z &quot;$ZSH&quot; ]] &amp;&amp; export ZSH=&quot;$&#123;$&#123;(%):-%x&#125;:a:h&#125;&quot;# Set ZSH_CACHE_DIR to the path where cache files should be created# or else we will use the default cache/if [[ -z &quot;$ZSH_CACHE_DIR&quot; ]]; then ZSH_CACHE_DIR=&quot;$ZSH/cache&quot;fi# Check for updates on initial load...if [ &quot;$DISABLE_AUTO_UPDATE&quot; != &quot;true&quot; ]; then source $ZSH/tools/check_for_upgrade.shfi# Initializes Oh My Zsh# add a function pathfpath=($ZSH/functions $ZSH/completions $fpath)# Load all stock functions (from $fpath files) called below.autoload -U compaudit compinit# Set ZSH_CUSTOM to the path where your custom config files# and plugins exists, or else we will use the default custom/if [[ -z &quot;$ZSH_CUSTOM&quot; ]]; then ZSH_CUSTOM=&quot;$ZSH/custom&quot;fiis_plugin() &#123; local base_dir=$1 local name=$2 builtin test -f $base_dir/plugins/$name/$name.plugin.zsh \\ || builtin test -f $base_dir/plugins/$name/_$name&#125;# Add all defined plugins to fpath. This must be done# before running compinit.for plugin ($plugins); do if is_plugin $ZSH_CUSTOM $plugin; then fpath=($ZSH_CUSTOM/plugins/$plugin $fpath) elif is_plugin $ZSH $plugin; then fpath=($ZSH/plugins/$plugin $fpath) else echo &quot;[oh-my-zsh] plugin &#x27;$plugin&#x27; not found&quot; fidone# Figure out the SHORT hostnameif [[ &quot;$OSTYPE&quot; = darwin* ]]; then # macOS&#x27;s $HOST changes with dhcp, etc. Use ComputerName if possible. SHORT_HOST=$(scutil --get ComputerName 2&gt;/dev/null) || SHORT_HOST=$&#123;HOST/.*/&#125;else SHORT_HOST=$&#123;HOST/.*/&#125;fi# Save the location of the current completion dump file.if [ -z &quot;$ZSH_COMPDUMP&quot; ]; then ZSH_COMPDUMP=&quot;$&#123;ZDOTDIR:-$&#123;HOME&#125;&#125;/.zcompdump-$&#123;SHORT_HOST&#125;-$&#123;ZSH_VERSION&#125;&quot;fi# Construct zcompdump OMZ metadatazcompdump_revision=&quot;#omz revision: $(builtin cd -q &quot;$ZSH&quot;; git rev-parse HEAD 2&gt;/dev/null)&quot;zcompdump_fpath=&quot;#omz fpath: $fpath&quot;# Delete the zcompdump file if OMZ zcompdump metadata changedif ! command grep -q -Fx &quot;$zcompdump_revision&quot; &quot;$ZSH_COMPDUMP&quot; 2&gt;/dev/null \\ || ! command grep -q -Fx &quot;$zcompdump_fpath&quot; &quot;$ZSH_COMPDUMP&quot; 2&gt;/dev/null; then command rm -f &quot;$ZSH_COMPDUMP&quot; zcompdump_refresh=1fiif [[ $ZSH_DISABLE_COMPFIX != true ]]; then source $ZSH/lib/compfix.zsh # If completion insecurities exist, warn the user handle_completion_insecurities # Load only from secure directories compinit -i -C -d &quot;$&#123;ZSH_COMPDUMP&#125;&quot;else # If the user wants it, load from all found directories compinit -u -C -d &quot;$&#123;ZSH_COMPDUMP&#125;&quot;fi# Append zcompdump metadata if missingif (( $zcompdump_refresh )); then # Use `tee` in case the $ZSH_COMPDUMP filename is invalid, to silence the error # See https://github.com/ohmyzsh/ohmyzsh/commit/dd1a7269#commitcomment-39003489 tee -a &quot;$ZSH_COMPDUMP&quot; &amp;&gt;/dev/null &lt;&lt;EOF$zcompdump_revision$zcompdump_fpathEOFfiunset zcompdump_revision zcompdump_fpath zcompdump_refresh# Load all of the config files in ~/oh-my-zsh that end in .zsh# TIP: Add files you don&#x27;t want in git to .gitignorefor config_file ($ZSH/lib/*.zsh); do custom_config_file=&quot;$&#123;ZSH_CUSTOM&#125;/lib/$&#123;config_file:t&#125;&quot; [ -f &quot;$&#123;custom_config_file&#125;&quot; ] &amp;&amp; config_file=$&#123;custom_config_file&#125; source $config_filedone# Load all of the plugins that were defined in ~/.zshrcfor plugin ($plugins); do if [ -f $ZSH_CUSTOM/plugins/$plugin/$plugin.plugin.zsh ]; then source $ZSH_CUSTOM/plugins/$plugin/$plugin.plugin.zsh elif [ -f $ZSH/plugins/$plugin/$plugin.plugin.zsh ]; then source $ZSH/plugins/$plugin/$plugin.plugin.zsh fidone# Load all of your custom configurations from custom/for config_file ($ZSH_CUSTOM/*.zsh(N)); do source $config_filedoneunset config_file# Load the themeif [ ! &quot;$ZSH_THEME&quot; = &quot;&quot; ]; then if [ -f &quot;$ZSH_CUSTOM/$ZSH_THEME.zsh-theme&quot; ]; then source &quot;$ZSH_CUSTOM/$ZSH_THEME.zsh-theme&quot; elif [ -f &quot;$ZSH_CUSTOM/themes/$ZSH_THEME.zsh-theme&quot; ]; then source &quot;$ZSH_CUSTOM/themes/$ZSH_THEME.zsh-theme&quot; else source &quot;$ZSH/themes/$ZSH_THEME.zsh-theme&quot; fifi å‚è€ƒé“¾æ¥ é˜®ä¸€å³°çš„ã€ŠBash è„šæœ¬æ•™ç¨‹ã€‹ Shell æ•™ç¨‹ | èœé¸Ÿæ•™ç¨‹","categories":[],"tags":[{"name":"shell","slug":"shell","permalink":"http://muzig.github.io/tags/shell/"},{"name":"note","slug":"note","permalink":"http://muzig.github.io/tags/note/"}]},{"title":"Goland ç ´è§£æ•™ç¨‹","slug":"goland-cracking","date":"2020-12-05T12:58:28.000Z","updated":"2021-01-29T04:58:37.501Z","comments":true,"path":"2020/12/05/goland-cracking/","link":"","permalink":"http://muzig.github.io/2020/12/05/goland-cracking/","excerpt":"ç ´è§£æ–¹å¼: å¾ªç¯é‡ç½®è¯•ç”¨æ—¶é—´.","text":"ç ´è§£æ–¹å¼: å¾ªç¯é‡ç½®è¯•ç”¨æ—¶é—´. æ•™ç¨‹ å‹æƒ…é“¾æ¥ æ•™ç¨‹æ­¥éª¤: æ‰“å¼€ goland, é€‰æ‹©è¯•ç”¨, è¿›å…¥IDEç•Œé¢ Menu - Goland - Perference - Plugins ç‚¹å‡»åƒé½¿è½®çš„å›¾æ ‡(å¦‚ä¸‹å›¾) Manager Plugin Repos æ·»åŠ æ­¤é“¾æ¥: https://plugins.zhile.io, ç­‰å¾…åˆ·æ–°å®Œæˆ æœç´¢æ’ä»¶ IDE Eval reset, æ’ä»¶æè¿°æœ‰è¯´æ˜å’Œä½¿ç”¨æ–¹æ³• ä¸‹è½½å®‰è£…é‡å¯ IDE å‹æƒ…é“¾æ¥ ç ´è§£å¤§ä½¬åšå®¢","categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://muzig.github.io/categories/%E5%B7%A5%E5%85%B7/"}],"tags":[{"name":"crack","slug":"crack","permalink":"http://muzig.github.io/tags/crack/"},{"name":"goland","slug":"goland","permalink":"http://muzig.github.io/tags/goland/"}]}],"categories":[{"name":"å·¥å…·","slug":"å·¥å…·","permalink":"http://muzig.github.io/categories/%E5%B7%A5%E5%85%B7/"},{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://muzig.github.io/categories/%E5%89%8D%E7%AB%AF/"},{"name":"ç¼–ç¨‹è¯­è¨€","slug":"ç¼–ç¨‹è¯­è¨€","permalink":"http://muzig.github.io/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/"}],"tags":[{"name":"tmux","slug":"tmux","permalink":"http://muzig.github.io/tags/tmux/"},{"name":"golang","slug":"golang","permalink":"http://muzig.github.io/tags/golang/"},{"name":"interview","slug":"interview","permalink":"http://muzig.github.io/tags/interview/"},{"name":"raspberryPi","slug":"raspberryPi","permalink":"http://muzig.github.io/tags/raspberryPi/"},{"name":"vue","slug":"vue","permalink":"http://muzig.github.io/tags/vue/"},{"name":"ts","slug":"ts","permalink":"http://muzig.github.io/tags/ts/"},{"name":"escape-analysis","slug":"escape-analysis","permalink":"http://muzig.github.io/tags/escape-analysis/"},{"name":"gc","slug":"gc","permalink":"http://muzig.github.io/tags/gc/"},{"name":"scheduling","slug":"scheduling","permalink":"http://muzig.github.io/tags/scheduling/"},{"name":"shell","slug":"shell","permalink":"http://muzig.github.io/tags/shell/"},{"name":"note","slug":"note","permalink":"http://muzig.github.io/tags/note/"},{"name":"crack","slug":"crack","permalink":"http://muzig.github.io/tags/crack/"},{"name":"goland","slug":"goland","permalink":"http://muzig.github.io/tags/goland/"}]}