<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Hexo</title>
  
  
  <link href="http://muzig.github.io/atom.xml" rel="self"/>
  
  <link href="http://muzig.github.io/"/>
  <updated>2021-02-17T03:22:28.297Z</updated>
  <id>http://muzig.github.io/</id>
  
  <author>
    <name>John Doe</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>gitç›¸å…³ç–‘é—®</title>
    <link href="http://muzig.github.io/2021/02/17/git-exp/"/>
    <id>http://muzig.github.io/2021/02/17/git-exp/</id>
    <published>2021-02-17T11:06:42.000Z</published>
    <updated>2021-02-17T03:22:28.297Z</updated>
    
    <content type="html"><![CDATA[<p>è®°å½•ä¸€äº› git ä½¿ç”¨ç›¸å…³é—®é¢˜</p><a id="more"></a><ul><li><a href="#push">push</a></li></ul><h2 id="push"><a href="#push" class="headerlink" title="push"></a>push</h2><p>æŠ¥é”™ä¿¡æ¯: åˆ‡æ¢å¤šä¸ªgithubè´¦å·çš„æ—¶å€™, ä¼šæœ‰æƒé™å†²çª.</p><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">remote: Permission to &lt;user-a&gt;.git denied to &lt;user-b&gt;</span><br><span class="line">fatal: unable to access <span class="string">&#x27;https://github.com/ xxxxx.git/&#x27;</span>: &gt; The requested URL returned error: 403</span><br></pre></td></tr></table></figure><p>è§£å†³æ–¹æ¡ˆ:</p><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config credential.username &lt;user-a&gt;</span><br><span class="line">git push origin main</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;è®°å½•ä¸€äº› git ä½¿ç”¨ç›¸å…³é—®é¢˜&lt;/p&gt;</summary>
    
    
    
    <category term="å·¥å…·" scheme="http://muzig.github.io/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
    <category term="git" scheme="http://muzig.github.io/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>My Mac</title>
    <link href="http://muzig.github.io/2021/02/03/oh-my-mac/"/>
    <id>http://muzig.github.io/2021/02/03/oh-my-mac/</id>
    <published>2021-02-03T23:38:39.000Z</published>
    <updated>2021-02-17T03:22:28.297Z</updated>
    
    <content type="html"><![CDATA[<p>æ•´ç†ä»0åˆ°1ä½¿ç”¨Macç³»ç»Ÿ, æé«˜ç”Ÿäº§åŠ›ç¬¬ä¸€æ­¥, å­¦ä¼šè‰¯å¥½çš„ä½¿ç”¨å·¥å…·.</p><a id="more"></a><p>ä»Šå¤©ç”±äºç”µæ± é—®é¢˜, æ¢äº†ä¸€æ³¢ç”µè„‘, big surç³»ç»Ÿ, ä¹‹å‰æ‰“ç®—å‡çº§æ¥ç€ä¸€ç›´æ€•æœ‰å…¼å®¹æ€§é—®é¢˜, ä¸è¿‡ä»Šå¤©å®é™…ä½“éªŒäº†ä¸‹, ç›®å‰æ²¡æœ‰é‡åˆ°ä»€ä¹ˆé—®é¢˜, è¿™é‡Œé¡ºå¸¦å†™ä¸€äº›è£…ç”µè„‘ç»†èŠ‚, ä¾¿äºå¿«é€Ÿæ•´ç†æ¢å¤ç³»ç»Ÿç»†èŠ‚.</p><ul><li><a href="#todo">TODO</a></li><li><a href="#terminal">Terminal</a><ul><li><a href="#homebrew">Homebrew</a></li><li><a href="#iterm2">iTerm2</a></li><li><a href="#zsh">zsh</a></li></ul></li><li><a href="#%E8%BD%AF%E4%BB%B6%E7%AF%87">è½¯ä»¶ç¯‡</a><ul><li><a href="#%E5%BF%85%E5%A4%87">å¿…å¤‡</a></li><li><a href="#%E5%B7%A5%E5%85%B7">å·¥å…·</a></li><li><a href="#%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91">ç¨‹åºå¼€å‘</a></li></ul></li><li><a href="#%E5%85%B6%E4%BB%96%E7%BB%86%E8%8A%82">å…¶ä»–ç»†èŠ‚</a><ul><li><a href="#iterm2-1">iTerm2</a></li><li><a href="#goland">Goland</a></li><li><a href="#tmux">Tmux</a></li><li><a href="#oh-my-zsh">oh-my-zsh</a></li></ul></li><li><a href="#%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5">å‹æƒ…é“¾æ¥</a></li></ul><h2 id="TODO"><a href="#TODO" class="headerlink" title="TODO"></a>TODO</h2><ul><li><input checked disabled type="checkbox"> Terminal</li><li><input checked disabled type="checkbox"> è½¯ä»¶ç¯‡</li><li><input checked disabled type="checkbox"> å…¶ä»–ç»†èŠ‚</li></ul><h2 id="Terminal"><a href="#Terminal" class="headerlink" title="Terminal"></a>Terminal</h2><h3 id="Homebrew"><a href="#Homebrew" class="headerlink" title="Homebrew"></a><a href="https://muzig.github.io/2021/01/30/tmux/">Homebrew</a></h3><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/bin/bash -c <span class="string">&quot;<span class="subst">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)</span>&quot;</span></span><br></pre></td></tr></table></figure><h3 id="iTerm2"><a href="#iTerm2" class="headerlink" title="iTerm2"></a>iTerm2</h3><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install --cask iterm2</span><br></pre></td></tr></table></figure><h3 id="zsh"><a href="#zsh" class="headerlink" title="zsh"></a>zsh</h3><ul><li>å®‰è£…</li></ul><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install zsh &amp;&amp; chsh -s usr/<span class="built_in">local</span>/bin/zsh</span><br></pre></td></tr></table></figure><ul><li>æ’ä»¶</li></ul><p><a href="https://github.com/ohmyzsh/ohmyzsh">ohmyzsh</a></p><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh -c <span class="string">&quot;<span class="subst">$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)</span>&quot;</span></span><br></pre></td></tr></table></figure><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">brew install autojump</span><br><span class="line">brew install fzf</span><br><span class="line"></span><br><span class="line">brew install git</span><br><span class="line">brew install git-lfs</span><br><span class="line"></span><br><span class="line">brew install tmux</span><br><span class="line"></span><br><span class="line">brew install vim</span><br><span class="line"></span><br><span class="line">brew install wget</span><br><span class="line">brew install telnet</span><br><span class="line">brew install rlwrap</span><br></pre></td></tr></table></figure><h2 id="è½¯ä»¶ç¯‡"><a href="#è½¯ä»¶ç¯‡" class="headerlink" title="è½¯ä»¶ç¯‡"></a>è½¯ä»¶ç¯‡</h2><h3 id="å¿…å¤‡"><a href="#å¿…å¤‡" class="headerlink" title="å¿…å¤‡"></a>å¿…å¤‡</h3><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">brew install --cask google-chrome</span><br><span class="line">brew install --cask dingtalk</span><br><span class="line">brew install --cask wechat</span><br><span class="line">brew install --cask qq</span><br><span class="line">brew install --cask sogouinput</span><br><span class="line">brew install --cask neteasemusic</span><br></pre></td></tr></table></figure><ul><li><a href="https://www.yinxiang.com/">å°è±¡ç¬”è®°</a></li></ul><h3 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h3><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">brew install --cask appcleaner</span><br><span class="line">brew install --cask [dozer](https://github.com/Mortennn/Dozer)</span><br><span class="line">brew install --cask snipaste</span><br><span class="line">brew install --cask tencent-lemon</span><br></pre></td></tr></table></figure><h3 id="ç¨‹åºå¼€å‘"><a href="#ç¨‹åºå¼€å‘" class="headerlink" title="ç¨‹åºå¼€å‘"></a>ç¨‹åºå¼€å‘</h3><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">brew install --cask goland</span><br><span class="line">brew install --cask docker</span><br><span class="line">brew install --cask postman</span><br><span class="line">brew install --cask robo-3t</span><br><span class="line">brew install --cask visual-studio-code</span><br><span class="line">brew install --cask unity-hub</span><br></pre></td></tr></table></figure><h2 id="å…¶ä»–ç»†èŠ‚"><a href="#å…¶ä»–ç»†èŠ‚" class="headerlink" title="å…¶ä»–ç»†èŠ‚"></a>å…¶ä»–ç»†èŠ‚</h2><h3 id="iTerm2-1"><a href="#iTerm2-1" class="headerlink" title="iTerm2"></a>iTerm2</h3><blockquote><p>Alt + b / f æ— æ³•ä½¿ç”¨é—®é¢˜</p></blockquote><p><img src="/../img/altfb.png" alt="è§£å†³æ–¹æ¡ˆ"></p><h3 id="Goland"><a href="#Goland" class="headerlink" title="Goland"></a>Goland</h3><blockquote><p>ideaVimå¿«æ·é”®å†²çª, æˆ–è€…ä¸ç”Ÿæ•ˆçš„ä¿®æ”¹.</p></blockquote><p><img src="/../img/goland-setting.png" alt="1"><br><img src="/../img/goland-setting2.png" alt="2"></p><h3 id="Tmux"><a href="#Tmux" class="headerlink" title="Tmux"></a><a href="https://muzig.github.io/2021/01/30/tmux/">Tmux</a></h3><h3 id="oh-my-zsh"><a href="#oh-my-zsh" class="headerlink" title="oh-my-zsh"></a>oh-my-zsh</h3><blockquote><p><a href="https://github.com/wting/autojump">autojump</a></p></blockquote><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install autojump</span><br></pre></td></tr></table></figure><blockquote><p><a href="https://github.com/zsh-users/zsh-autosuggestions">zsh-autosuggestion</a></p></blockquote><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git://github.com/zsh-users/zsh-autosuggestions <span class="variable">$ZSH_CUSTOM</span>/plugins/zsh-autosuggestions</span><br></pre></td></tr></table></figure><blockquote><p><a href>zsh-syntax-highlighting</a></p></blockquote><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/zsh-users/zsh-syntax-highlighting.git <span class="variable">$&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;</span>/plugins/zsh-syntax-highlighting</span><br></pre></td></tr></table></figure><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Which plugins would you like to load?</span></span><br><span class="line"><span class="comment"># Standard plugins can be found in $ZSH/plugins/</span></span><br><span class="line"><span class="comment"># Custom plugins may be added to $ZSH_CUSTOM/plugins/</span></span><br><span class="line"><span class="comment"># Example format: plugins=(rails git textmate ruby lighthouse)</span></span><br><span class="line"><span class="comment"># Add wisely, as too many plugins slow down shell startup.</span></span><br><span class="line">plugins=(</span><br><span class="line">git</span><br><span class="line">git-flow</span><br><span class="line">git-auto-fetch</span><br><span class="line">git-lfs</span><br><span class="line">git-prompt</span><br><span class="line">github</span><br><span class="line"></span><br><span class="line">vscode</span><br><span class="line"></span><br><span class="line">tmux</span><br><span class="line">timer</span><br><span class="line">golang</span><br><span class="line">fzf</span><br><span class="line"></span><br><span class="line">autojump</span><br><span class="line">zsh-syntax-highlighting</span><br><span class="line">zsh-autosuggestions</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span> <span class="variable">$ZSH</span>/oh-my-zsh.sh</span><br><span class="line"><span class="built_in">source</span> ~/.gvm/scripts/gvm</span><br><span class="line"></span><br><span class="line"><span class="comment"># User configuration</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># export golang</span></span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$HOME</span>/go/go1.13/bin</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$HOME</span>/go/bin</span><br></pre></td></tr></table></figure><h2 id="å‹æƒ…é“¾æ¥"><a href="#å‹æƒ…é“¾æ¥" class="headerlink" title="å‹æƒ…é“¾æ¥"></a>å‹æƒ…é“¾æ¥</h2><ul><li><a href="https://www.zrahh.com/archives/167.html">å·¦å²¸åšå®¢ - zshæ’ä»¶æ¨è</a></li><li><a href="https://blog.csdn.net/fungleo/article/details/78055808">FungLeo - mac ä¸‹ä½¿ç”¨ iTerm ç»ˆç«¯å·¥å…·æ— æ³•ä½¿ç”¨ alt+b å’Œ alt+f å¿«æ·é”®çš„è§£å†³æ–¹æ³•</a></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;æ•´ç†ä»0åˆ°1ä½¿ç”¨Macç³»ç»Ÿ, æé«˜ç”Ÿäº§åŠ›ç¬¬ä¸€æ­¥, å­¦ä¼šè‰¯å¥½çš„ä½¿ç”¨å·¥å…·.&lt;/p&gt;</summary>
    
    
    
    <category term="Mac" scheme="http://muzig.github.io/categories/Mac/"/>
    
    
    <category term="mac" scheme="http://muzig.github.io/tags/mac/"/>
    
  </entry>
  
  <entry>
    <title>The art of command line</title>
    <link href="http://muzig.github.io/2021/01/31/the-art-of-command-line/"/>
    <id>http://muzig.github.io/2021/01/31/the-art-of-command-line/</id>
    <published>2021-01-31T21:59:48.000Z</published>
    <updated>2021-02-17T03:22:28.297Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨æ­¤å›é¡¾ä¸€ä¸‹å‘½ä»¤è¡Œçš„é«˜æ•ˆä½¿ç”¨æ–¹å¼, æé«˜æ—¥å¸¸æ“ä½œæµç¨‹.</p><a id="more"></a><ul><li><a href="#tood">TOOD</a></li><li><a href="#%E5%9F%BA%E7%A1%80">åŸºç¡€</a></li><li><a href="#%E6%97%A5%E5%B8%B8%E4%BD%BF%E7%94%A8">æ—¥å¸¸ä½¿ç”¨</a></li></ul><h2 id="TOOD"><a href="#TOOD" class="headerlink" title="TOOD"></a>TOOD</h2><ul><li><input checked disabled type="checkbox"> åŸºç¡€</li><li><input checked disabled type="checkbox"> æ—¥å¸¸ä½¿ç”¨</li><li><input disabled type="checkbox"> æ–‡ä»¶ä»¥åŠæ•°æ®å¤„ç†</li><li><input disabled type="checkbox"> ç³»ç»Ÿè°ƒè¯•</li><li><input disabled type="checkbox"> å•è¡Œè„šæœ¬</li><li><input disabled type="checkbox"> å†·é—¨ä½†æœ‰ç”¨</li><li><input disabled type="checkbox"> ä»…é™OSXç³»ç»Ÿ</li></ul><h2 id="åŸºç¡€"><a href="#åŸºç¡€" class="headerlink" title="åŸºç¡€"></a>åŸºç¡€</h2><ul><li><input disabled type="checkbox"> é€šè¯»man bash</li><li><input checked disabled type="checkbox"> ç†Ÿæ‚‰vim</li><li><input checked disabled type="checkbox"> å­¦ä¼šman, apropos, type, shellåˆ«åç­‰</li><li><input checked disabled type="checkbox"> å­¦ä¼šé‡å®šå‘ç®¡é“; æ˜ç™½è¾“å‡ºæ–‡ä»¶&gt;&gt;; stdout, stdin, stderr;</li><li><input checked disabled type="checkbox"> å­¦ä¼šé€šé…ç¬¦ * ? [ â€¦ ], â€˜ â€œ åŒºåˆ«</li><li><input checked disabled type="checkbox"> ç†Ÿæ‚‰bashçš„ä»»åŠ¡ç®¡ç†å·¥å…·; &amp;, nohup, ctrl-z, ctrl-c, jobs, fg, bg, kill</li><li><input checked disabled type="checkbox"> ç†Ÿæ‚‰sshç™»é™†, ssh-agent, ssh-addæ— å¯†ç è®¤è¯ç™»é™†</li><li><input disabled type="checkbox"> åŸºæœ¬æ–‡ä»¶ç®¡ç†å·¥å…·<ul><li><input checked disabled type="checkbox"> ls, ls -l</li><li><input checked disabled type="checkbox"> less, head, tail, tail -F, less +F</li><li><input checked disabled type="checkbox"> ln, ln -s (è½¯ç¡¬é“¾æ¥çš„åŒºåˆ«)</li><li><input disabled type="checkbox"> df, mount, fdisk, mkfs, lsblk</li><li><input disabled type="checkbox"> çŸ¥é“inodeæ˜¯ä»€ä¹ˆ; ls -i, df -i ç­‰å‘½ä»¤ç›¸å…³</li></ul></li><li><input disabled type="checkbox"> ç½‘ç»œç®¡ç†å·¥å…·<ul><li><input checked disabled type="checkbox"> ip, ifconfig</li><li><input disabled type="checkbox"> dig</li></ul></li><li><input checked disabled type="checkbox"> ç‰ˆæœ¬æ§åˆ¶git, svn, ä»¥åŠoh-my-zshé‡Œé¢çš„alias</li><li><input checked disabled type="checkbox"> ç†Ÿæ‚‰æ­£åˆ™è¡¨è¾¾, grep, egrep, zgrep<ul><li><input checked disabled type="checkbox"> -ABC</li><li><input checked disabled type="checkbox"> -v</li><li><input checked disabled type="checkbox"> -i</li><li><input checked disabled type="checkbox"> -o</li><li><input checked disabled type="checkbox"> -r</li></ul></li><li><input checked disabled type="checkbox"> å­¦ä¼šç®¡ç†å·¥å…·ä½¿ç”¨, apt, yum, dnf, pacman, pip3</li></ul><h2 id="æ—¥å¸¸ä½¿ç”¨"><a href="#æ—¥å¸¸ä½¿ç”¨" class="headerlink" title="æ—¥å¸¸ä½¿ç”¨"></a>æ—¥å¸¸ä½¿ç”¨</h2><ul><li><input disabled type="checkbox"> Tabè‡ªåŠ¨è¡¥å…¨<ul><li><input checked disabled type="checkbox"> ctrl-r, ctrl-w, ctrl-u, ctrl-a, ctrl-e, ctrl-k, ctrl-l</li><li><input checked disabled type="checkbox"> alt-b, alt-f</li><li><input disabled type="checkbox"> alt-., alt-*</li><li><input checked disabled type="checkbox"> man readline</li></ul></li><li><input disabled type="checkbox"> set -i vi | set -i emacs</li><li><input checked disabled type="checkbox"> export EDITOR=vim<ul><li><input checked disabled type="checkbox"> ctrl-x ctrl-e</li><li><input disabled type="checkbox"> escape-v</li></ul></li><li><input checked disabled type="checkbox"> history<ul><li><input checked disabled type="checkbox"> !n</li><li><input checked disabled type="checkbox"> !$</li><li><input checked disabled type="checkbox"> !!</li><li><input disabled type="checkbox"> HISTORY EXPANSION</li></ul></li><li><input checked disabled type="checkbox"> cd ~, $HOME, cd -</li><li><input checked disabled type="checkbox"> xargs | parallel ç»“åˆ awk<ul><li><input checked disabled type="checkbox"> xargs -I {} echo {}</li></ul></li><li><input checked disabled type="checkbox"> pstree -p è¿›ç¨‹æ ‘</li><li><input disabled type="checkbox"> pgrep, pkill</li><li><input checked disabled type="checkbox"> kill -STOP [pid]<ul><li><input checked disabled type="checkbox"> man 7 signal</li></ul></li><li><input checked disabled type="checkbox"> nohup, disown</li><li><input disabled type="checkbox"> netstat -lntp | ss -plat<ul><li><input disabled type="checkbox"> -u</li><li><input disabled type="checkbox"> lsof -iTCP -sTCP:LISTEN -P -n</li></ul></li><li><input disabled type="checkbox"> lsofæŸ¥çœ‹å¥—æ¥å­—å’Œæ–‡ä»¶</li><li><input checked disabled type="checkbox"> uptime | w</li><li><input checked disabled type="checkbox"> seq</li><li><input checked disabled type="checkbox"> alias<ul><li><input checked disabled type="checkbox"> alias ll=â€™ls -latrâ€™</li><li><input checked disabled type="checkbox"> åˆ«åä¿å­˜åœ¨~/.bashrc</li><li><input checked disabled type="checkbox"> ç¯å¢ƒå˜é‡ä¿å­˜åœ¨~/.bash_profile</li></ul></li><li><input disabled type="checkbox"> å˜é‡åå’Œæ–‡ä»¶ååŒ…å«ç©ºæ ¼, éœ€è¦ä½¿ç”¨å¼•å·åŒ…æ‹¬èµ·æ¥</li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;åœ¨æ­¤å›é¡¾ä¸€ä¸‹å‘½ä»¤è¡Œçš„é«˜æ•ˆä½¿ç”¨æ–¹å¼, æé«˜æ—¥å¸¸æ“ä½œæµç¨‹.&lt;/p&gt;</summary>
    
    
    
    <category term="åç«¯" scheme="http://muzig.github.io/categories/%E5%90%8E%E7%AB%AF/"/>
    
    
    <category term="æ•ˆç‡" scheme="http://muzig.github.io/tags/%E6%95%88%E7%8E%87/"/>
    
  </entry>
  
  <entry>
    <title>MongoDB ç¬”è®°</title>
    <link href="http://muzig.github.io/2021/01/31/mongodb-note/"/>
    <id>http://muzig.github.io/2021/01/31/mongodb-note/</id>
    <published>2021-01-31T20:11:28.000Z</published>
    <updated>2021-02-17T03:22:28.297Z</updated>
    
    <content type="html"><![CDATA[<p>æ•°æ®æ— ä»·, å¯¹äºæ•°æ®çš„è´¨é‡ä»¥åŠå®‰å…¨éœ€è¦å¼•èµ·é‡è§†.</p><a id="more"></a><ul><li><a href="#todo">TODO</a></li></ul><h2 id="TODO"><a href="#TODO" class="headerlink" title="TODO"></a>TODO</h2><p>åŸºç¡€:</p><ul><li><input disabled type="checkbox"> åŸºæœ¬æ“ä½œ</li><li><input disabled type="checkbox"> èšåˆæŸ¥è¯¢</li><li><input disabled type="checkbox"> å¤åˆ¶é›†æœºåˆ¶ä»¥åŠåŸç†</li></ul><p>è¿›é˜¶:</p><ul><li><input checked disabled type="checkbox"> æ•°æ®æ¨¡å‹</li><li><input disabled type="checkbox"> æ–‡æ¡£è®¾è®¡ - åŸºç¡€è®¾è®¡</li><li><input disabled type="checkbox"> æ–‡æ¡£è®¾è®¡ - å·¥å†µç»†åŒ–</li><li><input disabled type="checkbox"> æ–‡æ¡£è®¾è®¡ - æ¨¡å¼å¥—ç”¨</li><li><input disabled type="checkbox"> è®¾è®¡æ¨¡å¼</li><li><input disabled type="checkbox"> äº‹åŠ¡å¼€å‘</li><li><input disabled type="checkbox"> Change Stream</li><li><input disabled type="checkbox"> æœ€ä½³å®è·µ</li></ul><p>è¿ç»´ä¹‹é“:</p><ul><li><input disabled type="checkbox"> åˆ†ç‰‡é›†ç¾¤</li><li><input disabled type="checkbox"> ç›‘æ§</li><li><input disabled type="checkbox"> å¤‡ä»½ä¸æ¢å¤</li><li><input disabled type="checkbox"> å®‰å…¨æ¶æ„</li><li><input disabled type="checkbox"> ç´¢å¼•æœºåˆ¶</li><li><input disabled type="checkbox"> è¯»å†™æ€§èƒ½æœºåˆ¶</li><li><input disabled type="checkbox"> æ€§èƒ½è¯Šæ–­å·¥å…·</li><li><input disabled type="checkbox"> é«˜çº§é›†ç¾¤è®¾è®¡ - ä¸¤åœ°ä¸‰ä¸­å¿ƒ</li><li><input disabled type="checkbox"> å…¨çƒå¤šå†™</li><li><input disabled type="checkbox"> ä¸Šçº¿ä»¥åŠå‡çº§</li></ul><p>ä¼ä¸šæ¶æ„:</p><ul><li><input disabled type="checkbox"> å®æˆ˜æ¡ˆä¾‹</li><li><input disabled type="checkbox"> å…³ç³»å‹æ•°æ®åº“è¿ç§»</li><li><input disabled type="checkbox"> å¾®æœåŠ¡</li><li><input disabled type="checkbox"> æ•°æ®ä¸­å°</li></ul><h2 id="æ•°æ®æ¨¡å‹"><a href="#æ•°æ®æ¨¡å‹" class="headerlink" title="æ•°æ®æ¨¡å‹"></a>æ•°æ®æ¨¡å‹</h2><ul><li>å®ä½“(Entity)</li><li>å±æ€§(Attribute | Property)</li><li>å…³ç³»(Relationship)</li></ul><p>æ•°æ®åº“ä¸‰èŒƒå¼:</p><ol><li>æ•°æ®åº“è¡¨çš„æ¯ä¸€åˆ—éƒ½æ˜¯ä¸å¯åˆ†å‰²çš„åŸå­é¡¹</li><li>æ¯ä¸ªè¡¨å¿…é¡»æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæ•°æ®å…ƒç´ ä¸ºä¸»é”®(Primary key),å…¶ä»–å±æ€§éœ€å®Œå…¨ä¾èµ–äºä¸»é”®</li><li>æ•°æ®è¡¨ä¸­çš„æ¯ä¸€åˆ—éƒ½å’Œä¸»é”®ç›´æ¥ç›¸å…³ï¼Œè€Œä¸èƒ½é—´æ¥ç›¸å…³</li></ol><p>åèŒƒå¼è®¾è®¡: (é€šè¿‡å¢åŠ å†—ä½™ã€èšåˆçš„æ‰‹æ®µæ¥æå‡æ€§èƒ½)</p><h2 id="æ–‡æ¡£è®¾è®¡-åŸºç¡€è®¾è®¡"><a href="#æ–‡æ¡£è®¾è®¡-åŸºç¡€è®¾è®¡" class="headerlink" title="æ–‡æ¡£è®¾è®¡ - åŸºç¡€è®¾è®¡"></a>æ–‡æ¡£è®¾è®¡ - åŸºç¡€è®¾è®¡</h2><h2 id="æ–‡æ¡£è®¾è®¡-å·¥å†µç»†åŒ–"><a href="#æ–‡æ¡£è®¾è®¡-å·¥å†µç»†åŒ–" class="headerlink" title="æ–‡æ¡£è®¾è®¡ - å·¥å†µç»†åŒ–"></a>æ–‡æ¡£è®¾è®¡ - å·¥å†µç»†åŒ–</h2><h2 id="æ–‡æ¡£è®¾è®¡-æ¨¡å¼å¥—ç”¨"><a href="#æ–‡æ¡£è®¾è®¡-æ¨¡å¼å¥—ç”¨" class="headerlink" title="æ–‡æ¡£è®¾è®¡ - æ¨¡å¼å¥—ç”¨"></a>æ–‡æ¡£è®¾è®¡ - æ¨¡å¼å¥—ç”¨</h2>]]></content>
    
    
    <summary type="html">&lt;p&gt;æ•°æ®æ— ä»·, å¯¹äºæ•°æ®çš„è´¨é‡ä»¥åŠå®‰å…¨éœ€è¦å¼•èµ·é‡è§†.&lt;/p&gt;</summary>
    
    
    
    <category term="æ•°æ®åº“" scheme="http://muzig.github.io/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
    <category term="mongodb" scheme="http://muzig.github.io/tags/mongodb/"/>
    
  </entry>
  
  <entry>
    <title>Docker ç¬”è®°</title>
    <link href="http://muzig.github.io/2021/01/31/docker-note/"/>
    <id>http://muzig.github.io/2021/01/31/docker-note/</id>
    <published>2021-01-31T19:54:25.000Z</published>
    <updated>2021-02-17T03:22:28.297Z</updated>
    
    <content type="html"><![CDATA[<p>æŒæ¡å…¶åœ¨å¾®æœåŠ¡å¼€å‘ä¸­çš„è¿ç”¨.</p><a id="more"></a><ul><li><a href="#todo">TODO</a></li><li><a href="#%E5%AE%B9%E5%99%A8%E4%BD%BF%E7%94%A8">å®¹å™¨ä½¿ç”¨</a></li><li><a href="#%E4%BB%93%E5%BA%93%E8%BF%90%E7%94%A8">ä»“åº“è¿ç”¨</a><ul><li><a href="#%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93">ç§æœ‰ä»“åº“</a></li><li><a href="#%E9%AB%98%E7%BA%A7%E4%BB%93%E5%BA%93%E9%85%8D%E7%BD%AE">é«˜çº§ä»“åº“é…ç½®</a></li></ul></li><li><a href="#%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86">æ•°æ®ç®¡ç†</a><ul><li><a href="#%E6%95%B0%E6%8D%AE%E5%8D%B7">æ•°æ®å·</a></li><li><a href="#%E6%8C%82%E8%BD%BD%E7%9B%AE%E5%BD%95">æŒ‚è½½ç›®å½•</a></li><li><a href="#%E6%8C%82%E8%BD%BD%E5%8D%95%E4%B8%AA%E6%96%87%E4%BB%B6">æŒ‚è½½å•ä¸ªæ–‡ä»¶</a></li></ul></li></ul><h2 id="TODO"><a href="#TODO" class="headerlink" title="TODO"></a>TODO</h2><p>åŸºæœ¬:</p><ul><li><input disabled type="checkbox"> åŸºæœ¬æ¦‚å¿µ</li><li><input disabled type="checkbox"> é•œåƒä½¿ç”¨</li><li><input checked disabled type="checkbox"> å®¹å™¨ä½¿ç”¨</li><li><input checked disabled type="checkbox"> ä»“åº“è¿ç”¨</li></ul><p>è¿›é˜¶:</p><ul><li><input checked disabled type="checkbox"> æ•°æ®ç®¡ç†</li><li><input disabled type="checkbox"> ç½‘ç»œé…ç½®</li><li><input disabled type="checkbox"> Docker Buildx</li><li><input disabled type="checkbox"> Docker Compose</li><li><input disabled type="checkbox"> Swarm Mode</li><li><input disabled type="checkbox"> å®‰å…¨</li><li><input disabled type="checkbox"> åº•å±‚å®ç°</li></ul><p>å®æˆ˜:</p><ul><li><input disabled type="checkbox"> ETCDé¡¹ç›®</li><li><input disabled type="checkbox"> CoreOSé¡¹ç›®</li><li><input disabled type="checkbox"> k8s</li><li><input disabled type="checkbox"> å®¹å™¨ä¸äº‘è®¡ç®—</li><li><input disabled type="checkbox"> CI/CD</li><li><input disabled type="checkbox"> æœ€ä½³å®è·µ</li></ul><h2 id="å®¹å™¨ä½¿ç”¨"><a href="#å®¹å™¨ä½¿ç”¨" class="headerlink" title="å®¹å™¨ä½¿ç”¨"></a>å®¹å™¨ä½¿ç”¨</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">docker run</span><br><span class="line">docker stop</span><br><span class="line">docker logs</span><br><span class="line">docker rm</span><br><span class="line">docker prune <span class="comment"># æ¸…ç†æ‰€æœ‰åœæ‰çš„container</span></span><br><span class="line"></span><br><span class="line">docker attach</span><br><span class="line">docker <span class="built_in">exec</span> -it &lt;id&gt; bash</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">export</span> &lt;id&gt; &gt; ubuntu.tar</span><br><span class="line">cat ubuntu.tar | docker import - <span class="built_in">test</span>/ubuntu:v1.0</span><br><span class="line"></span><br><span class="line"><span class="comment"># åŒºåˆ«åœ¨äºæ˜¯å¦ä¸¢å¼ƒå†å²è®°å½•ä»¥åŠå…ƒæ•°æ®ä¿¡æ¯</span></span><br><span class="line">docker import</span><br><span class="line">docker load</span><br></pre></td></tr></table></figure><h2 id="ä»“åº“è¿ç”¨"><a href="#ä»“åº“è¿ç”¨" class="headerlink" title="ä»“åº“è¿ç”¨"></a>ä»“åº“è¿ç”¨</h2><ul><li>ä»“åº“(Repository)</li><li>æ³¨å†ŒæœåŠ¡å™¨(Registry)</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">docker login</span><br><span class="line">docker <span class="built_in">logout</span></span><br><span class="line"></span><br><span class="line">docker search</span><br><span class="line">docker pull</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¨é€image</span></span><br><span class="line">docker tag ubuntu:18.04 username/ubuntu:18.04</span><br><span class="line">docker push username/ubuntu:18.04</span><br><span class="line">docker search username</span><br></pre></td></tr></table></figure><h3 id="ç§æœ‰ä»“åº“"><a href="#ç§æœ‰ä»“åº“" class="headerlink" title="ç§æœ‰ä»“åº“"></a>ç§æœ‰ä»“åº“</h3><p>å·¥å…·: docker-registry</p><h3 id="é«˜çº§ä»“åº“é…ç½®"><a href="#é«˜çº§ä»“åº“é…ç½®" class="headerlink" title="é«˜çº§ä»“åº“é…ç½®"></a>é«˜çº§ä»“åº“é…ç½®</h3><p>å·¥å…·: Docker Compose</p><p>æ‹¥æœ‰æƒé™è®¤è¯, TLSçš„ç§æœ‰ä»“åº“</p><p>ç•¥â€¦</p><h2 id="æ•°æ®ç®¡ç†"><a href="#æ•°æ®ç®¡ç†" class="headerlink" title="æ•°æ®ç®¡ç†"></a>æ•°æ®ç®¡ç†</h2><ul><li>æ•°æ®å·(Volumes) - å¯ä¾›ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ä½¿ç”¨çš„ç‰¹æ®Šç›®å½•; ç»•è¿‡UFS</li><li>æŒ‚è½½ä¸»æœºç›®å½•(Bind Mounts)</li></ul><h3 id="æ•°æ®å·"><a href="#æ•°æ®å·" class="headerlink" title="æ•°æ®å·"></a>æ•°æ®å·</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">docker volume create my-vol</span><br><span class="line">docker volume rm my-vol</span><br><span class="line"></span><br><span class="line">docker volume ls</span><br><span class="line">docker volume prune</span><br><span class="line"></span><br><span class="line">docker volume inspect my-vol</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -P \</span><br><span class="line">--name web \</span><br><span class="line">--mount <span class="built_in">source</span>=myvol,target=/webapp \</span><br><span class="line">training/webapp \</span><br><span class="line">python app.py</span><br><span class="line"></span><br><span class="line">docker inspect web</span><br></pre></td></tr></table></figure><h3 id="æŒ‚è½½ç›®å½•"><a href="#æŒ‚è½½ç›®å½•" class="headerlink" title="æŒ‚è½½ç›®å½•"></a>æŒ‚è½½ç›®å½•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -P \</span><br><span class="line">--name web \</span><br><span class="line">--mount <span class="built_in">type</span>=<span class="built_in">bind</span>,<span class="built_in">source</span>=/src/webapp,target=/opt/webapp,<span class="built_in">readonly</span> \ <span class="comment"># sourceä»£è¡¨å®¿ä¸»æœº; targetä»£è¡¨å®¹å™¨ä½ç½®; readonlyä»£è¡¨å®¹å™¨ä½ç½®åªè¯»</span></span><br><span class="line">training/webapp \</span><br><span class="line">python app.py</span><br></pre></td></tr></table></figure><h3 id="æŒ‚è½½å•ä¸ªæ–‡ä»¶"><a href="#æŒ‚è½½å•ä¸ªæ–‡ä»¶" class="headerlink" title="æŒ‚è½½å•ä¸ªæ–‡ä»¶"></a>æŒ‚è½½å•ä¸ªæ–‡ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿™æ ·å°±å¯ä»¥è®°å½•å®¹å™¨çš„å‘½ä»¤ä½¿ç”¨æƒ…å†µ</span></span><br><span class="line">docker run --rm -it \</span><br><span class="line">--mount <span class="built_in">type</span>=<span class="built_in">bind</span>,<span class="built_in">source</span>=<span class="variable">$HOME</span>/.bash_history,target=/root/.bash_history \</span><br><span class="line">ubuntu:18.04 \</span><br><span class="line">bash</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;æŒæ¡å…¶åœ¨å¾®æœåŠ¡å¼€å‘ä¸­çš„è¿ç”¨.&lt;/p&gt;</summary>
    
    
    
    <category term="åç«¯" scheme="http://muzig.github.io/categories/%E5%90%8E%E7%AB%AF/"/>
    
    
    <category term="docker" scheme="http://muzig.github.io/tags/docker/"/>
    
    <category term="å¾®æœåŠ¡" scheme="http://muzig.github.io/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/"/>
    
  </entry>
  
  <entry>
    <title>tmux å¿«é€ŸæŒ‡åŒ—</title>
    <link href="http://muzig.github.io/2021/01/30/tmux/"/>
    <id>http://muzig.github.io/2021/01/30/tmux/</id>
    <published>2021-01-30T09:52:48.000Z</published>
    <updated>2021-02-17T03:22:28.297Z</updated>
    
    <content type="html"><![CDATA[<p>å¦‚æœæ‚¨ç”¨è¿‡screençš„è¯, ç›¸æ¯”çŸ¥é“å®ƒçš„å¥½å¤„, è¿™é‡Œè®°å½•ä¸€æ¬¾ç±»ä¼¼çš„å·¥å…·tmux.</p><a id="more"></a><ul><li><a href="#todo">TODO</a></li><li><a href="#-%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA">ğŸš€ å¿«é€Ÿæ­å»º</a></li><li><a href="#%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE">å¸¸ç”¨å¿«æ·é”®</a></li><li><a href="#%E6%8F%92%E4%BB%B6">æ’ä»¶</a><ul><li><a href="#oh-my-tmux">oh-my-tmux</a></li><li><a href="#tmux-resurrect">tmux-resurrect</a></li></ul></li><li><a href="#%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5">å‹æƒ…é“¾æ¥</a></li></ul><h2 id="TODO"><a href="#TODO" class="headerlink" title="TODO"></a>TODO</h2><ul><li><input disabled type="checkbox"> å¸¸ç”¨å¿«æ·é”®</li></ul><h2 id="ğŸš€-å¿«é€Ÿæ­å»º"><a href="#ğŸš€-å¿«é€Ÿæ­å»º" class="headerlink" title="ğŸš€ å¿«é€Ÿæ­å»º"></a>ğŸš€ å¿«é€Ÿæ­å»º</h2><ul><li>Install Tmux:</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mac</span></span><br><span class="line">brew install tmux</span><br><span class="line"></span><br><span class="line"><span class="comment"># linux - RedHat</span></span><br><span class="line">yum install tmux</span><br><span class="line"></span><br><span class="line"><span class="comment"># linux - Debian</span></span><br><span class="line">apt install tmux</span><br></pre></td></tr></table></figure><ul><li>Clone TPM:</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm</span><br></pre></td></tr></table></figure><ul><li>Put this at the bottom of ~/.tmux.conf ($XDG_CONFIG_HOME/tmux/tmux.conf works too):</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ¨èé…ç½®</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/gpakosz/.tmux.git ~/.tmux/oh-my-tmux/</span><br><span class="line">cp ~/.tmux/oh-my-tmux/.tmux.conf ~/</span><br><span class="line"></span><br><span class="line"><span class="comment"># è‡ªå®šä¹‰é…ç½®</span></span><br><span class="line">wget https://github.com/muzig/oh-my-mac/blob/main/tmux/.tmux.conf ~/.tmux.conf.local</span><br></pre></td></tr></table></figure><ul><li>Reload TMUX environment so TPM is sourced:</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># type this in terminal if tmux is already running</span></span><br><span class="line">$ tmux <span class="built_in">source</span> ~/.tmux.conf</span><br></pre></td></tr></table></figure><h2 id="å¸¸ç”¨å¿«æ·é”®"><a href="#å¸¸ç”¨å¿«æ·é”®" class="headerlink" title="å¸¸ç”¨å¿«æ·é”®"></a>å¸¸ç”¨å¿«æ·é”®</h2><h2 id="æ’ä»¶"><a href="#æ’ä»¶" class="headerlink" title="æ’ä»¶"></a>æ’ä»¶</h2><h3 id="oh-my-tmux"><a href="#oh-my-tmux" class="headerlink" title="oh-my-tmux"></a>oh-my-tmux</h3><p>ä½œç”¨: é€šç”¨tmuxé…ç½®æ­é…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/gpakosz/.tmux.git</span><br><span class="line">ln -s -f .tmux/.tmux.conf</span><br><span class="line">cp .tmux/.tmux.conf.local .</span><br></pre></td></tr></table></figure><h3 id="tmux-resurrect"><a href="#tmux-resurrect" class="headerlink" title="tmux-resurrect"></a>tmux-resurrect</h3><p>ä½œç”¨: ä¿å­˜tmuxçš„layout, ä¾¿äºé‡å¯ç”µè„‘å¿«é€Ÿæ¢å¤.</p><ul><li>Add plugin to the list of TPM plugins in .tmux.conf:</li><li>Hit prefix + I to fetch the plugin and source it. You should now be able to use the plugin.</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> -g @plugin <span class="string">&#x27;tmux-plugins/tmux-resurrect&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="å‹æƒ…é“¾æ¥"><a href="#å‹æƒ…é“¾æ¥" class="headerlink" title="å‹æƒ…é“¾æ¥"></a>å‹æƒ…é“¾æ¥</h2><ul><li><a href="https://github.com/tmux-plugins/tpm">TPM</a></li><li><a href="https://github.com/gpakosz/.tmux">oh-my-tmux</a></li><li><a href="https://github.com/tmux-plugins/tmux-resurrect">tmux-resurrect</a></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;å¦‚æœæ‚¨ç”¨è¿‡screençš„è¯, ç›¸æ¯”çŸ¥é“å®ƒçš„å¥½å¤„, è¿™é‡Œè®°å½•ä¸€æ¬¾ç±»ä¼¼çš„å·¥å…·tmux.&lt;/p&gt;</summary>
    
    
    
    <category term="å·¥å…·" scheme="http://muzig.github.io/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
    <category term="tmux" scheme="http://muzig.github.io/tags/tmux/"/>
    
  </entry>
  
  <entry>
    <title>vue.js çºªå½•ç‰‡</title>
    <link href="http://muzig.github.io/2021/01/29/the-documentary-of-vue/"/>
    <id>http://muzig.github.io/2021/01/29/the-documentary-of-vue/</id>
    <published>2021-01-29T21:19:57.000Z</published>
    <updated>2021-02-17T03:22:28.297Z</updated>
    
    <content type="html"><![CDATA[<p>å€¼å¾—ä¸€çœ‹. <a href="https://www.youtube.com/watch?v=OrxmtDw4pVI">Click Here</a></p><a id="more"></a><p><img src="/../img/vue01.png" alt="vue.jd"></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;å€¼å¾—ä¸€çœ‹. &lt;a href=&quot;https://www.youtube.com/watch?v=OrxmtDw4pVI&quot;&gt;Click Here&lt;/a&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="å‰ç«¯" scheme="http://muzig.github.io/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="vue.js" scheme="http://muzig.github.io/tags/vue-js/"/>
    
  </entry>
  
  <entry>
    <title>Golang ä¸­é«˜çº§æŠ€æœ¯</title>
    <link href="http://muzig.github.io/2021/01/24/golang-senior-interview/"/>
    <id>http://muzig.github.io/2021/01/24/golang-senior-interview/</id>
    <published>2021-01-24T21:38:41.000Z</published>
    <updated>2021-02-17T03:22:28.297Z</updated>
    
    <content type="html"><![CDATA[<p>ä¹‹å‰æœ‰äº†åˆçº§æŠ€æœ¯, æ¥ä¸‹æ¥æ€»ç»“ä¸€ä¸‹å…³äºä¸­é«˜çº§å¼€å‘çš„æŠ€æœ¯è¦æ±‚</p><a id="more"></a><ul><li><a href="#todo">TODO</a></li><li><a href="#%E6%B5%81%E7%A8%8B">æµç¨‹</a></li><li><a href="#%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5">å‹æƒ…é“¾æ¥</a></li></ul><h2 id="TODO"><a href="#TODO" class="headerlink" title="TODO"></a>TODO</h2><p>åç»­å†ä¿©æ¢³ç†, ç›®å‰çœ‹äº†ä¸€éå‘ç°è‡ªå·±çœŸçš„åŸºç¡€å¤ªæ¬ ç¼ºäº†, å¯¹äºåº•å±‚çš„å®ç°æœºåˆ¶æ¥è¯´, è¿˜æœ‰å¾ˆå¤šéœ€è¦æ¶‰çŒ, ä¸è¿‡å…¶å®å¯¹äºå¼€å‘æ¥è¯´, æ¶‰åŠé¢å…¶å®å°‘.</p><p>åé¢è¦æ³¨é‡ä»£ç çš„æ€§èƒ½åˆ†æ, ä»¥åŠä»£ç å¼€å‘æ•ˆç‡å’Œè´¨é‡ç›¸å…³é—®é¢˜çš„åˆ†æ, ä¸ªäººæ’åº: å¼€å‘è´¨é‡(æ˜“æŸ¥é”™, å¥å£®æ€§) &gt; å¼€å‘æ•ˆç‡ &gt; æ€§èƒ½</p><ul><li><input disabled type="checkbox"> æ•´ç†æ–‡æ¡£</li></ul><h2 id="æµç¨‹"><a href="#æµç¨‹" class="headerlink" title="æµç¨‹"></a>æµç¨‹</h2><ol><li>è‡ªæˆ‘ä»‹ç»</li><li>ä»£ç æ•ˆç‡åˆ†æï¼Œè€ƒå¯Ÿå±€éƒ¨æ€§åŸç†</li><li>å¤šæ ¸CPUåœºæ™¯ä¸‹ï¼Œcacheå¦‚ä½•ä¿æŒä¸€è‡´ã€ä¸å†²çªï¼Ÿ</li><li>uintç±»å‹æº¢å‡º</li><li>ä»‹ç»runeç±»å‹</li><li>ç¼–ç¨‹é¢˜ï¼š3ä¸ªå‡½æ•°åˆ†åˆ«æ‰“å°catã€dogã€fishï¼Œè¦æ±‚æ¯ä¸ªå‡½æ•°éƒ½è¦èµ·ä¸€ä¸ªgoroutineï¼ŒæŒ‰ç…§catã€dogã€fishé¡ºåºæ‰“å°åœ¨å±å¹•ä¸Š100æ¬¡ã€‚</li><li>ä»‹ç»ä¸€ä¸‹channelï¼Œæ— ç¼“å†²å’Œæœ‰ç¼“å†²åŒºåˆ«</li><li>æ˜¯å¦äº†è§£channelåº•å±‚å®ç°ï¼Œæ¯”å¦‚å®ç°channelçš„æ•°æ®ç»“æ„æ˜¯ä»€ä¹ˆï¼Ÿ</li><li>channelæ˜¯å¦çº¿ç¨‹å®‰å…¨ï¼Ÿ</li><li>Mutexæ˜¯æ‚²è§‚é”è¿˜æ˜¯ä¹è§‚é”ï¼Ÿæ‚²è§‚é”ã€ä¹è§‚é”æ˜¯ä»€ä¹ˆï¼Ÿ</li><li>Mutexå‡ ç§æ¨¡å¼ï¼Ÿ</li><li>Mutexå¯ä»¥åšè‡ªæ—‹é”å—ï¼Ÿ</li><li>ä»‹ç»ä¸€ä¸‹RWMutex</li><li>é¡¹ç›®ä¸­ç”¨è¿‡çš„é”ï¼Ÿ</li><li>ä»‹ç»ä¸€ä¸‹çº¿ç¨‹å®‰å…¨çš„å…±äº«å†…å­˜æ–¹å¼</li><li>ä»‹ç»ä¸€ä¸‹goroutine</li><li>goroutineè‡ªæ—‹å ç”¨cpuå¦‚ä½•è§£å†³ï¼ˆgoè°ƒç”¨ã€gmpï¼‰</li><li>ä»‹ç»linuxç³»ç»Ÿä¿¡å·</li><li>goroutineæŠ¢å æ—¶æœºï¼ˆgc æ ˆæ‰«æï¼‰</li><li>Gcè§¦å‘æ—¶æœº</li><li>æ˜¯å¦äº†è§£å…¶ä»–gcæœºåˆ¶</li><li>Goå†…å­˜ç®¡ç†æ–¹å¼</li><li>Channelåˆ†é…åœ¨æ ˆä¸Šè¿˜æ˜¯å †ä¸Šï¼Ÿå“ªäº›å¯¹è±¡åˆ†é…åœ¨å †ä¸Šï¼Œå“ªäº›å¯¹è±¡åˆ†é…åœ¨æ ˆä¸Šï¼Ÿ</li><li>ä»‹ç»ä¸€ä¸‹å¤§å¯¹è±¡å°å¯¹è±¡ï¼Œä¸ºä»€ä¹ˆå°å¯¹è±¡å¤šäº†ä¼šé€ æˆgcå‹åŠ›ï¼Ÿ</li><li>é¡¹ç›®ä¸­é‡åˆ°çš„oomæƒ…å†µï¼Ÿ</li><li>é¡¹ç›®ä¸­ä½¿ç”¨goé‡åˆ°çš„å‘ï¼Ÿ</li><li>å·¥ä½œé‡åˆ°çš„éš¾é¢˜ã€æœ‰æŒ‘æˆ˜çš„äº‹æƒ…ï¼Œå¦‚ä½•è§£å†³ï¼Ÿ</li><li>å¦‚ä½•æŒ‡å®šæŒ‡ä»¤æ‰§è¡Œé¡ºåºï¼Ÿ</li></ol><h2 id="å‹æƒ…é“¾æ¥"><a href="#å‹æƒ…é“¾æ¥" class="headerlink" title="å‹æƒ…é“¾æ¥"></a>å‹æƒ…é“¾æ¥</h2><ul><li><a href="https://www.bilibili.com/video/BV12p4y1W7Dz">ä¸­é«˜çº§Golang</a></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;ä¹‹å‰æœ‰äº†åˆçº§æŠ€æœ¯, æ¥ä¸‹æ¥æ€»ç»“ä¸€ä¸‹å…³äºä¸­é«˜çº§å¼€å‘çš„æŠ€æœ¯è¦æ±‚&lt;/p&gt;</summary>
    
    
    
    <category term="é¢è¯•" scheme="http://muzig.github.io/categories/%E9%9D%A2%E8%AF%95/"/>
    
    
    <category term="golang" scheme="http://muzig.github.io/tags/golang/"/>
    
    <category term="interview" scheme="http://muzig.github.io/tags/interview/"/>
    
  </entry>
  
  <entry>
    <title>raspberryPi å…¥é—¨</title>
    <link href="http://muzig.github.io/2021/01/23/raspberryPi-note/"/>
    <id>http://muzig.github.io/2021/01/23/raspberryPi-note/</id>
    <published>2021-01-23T21:54:28.000Z</published>
    <updated>2021-02-17T03:22:28.297Z</updated>
    
    <content type="html"><![CDATA[<p>ä¹‹å‰åœ¨å‚¨å¤‡å‰ç«¯æŠ€æœ¯, ç›®å‰ä½¿ç”¨æ ‘è“æ´¾æ¥æ­å»ºå¼€å‘ç¯å¢ƒ, ä¾¿äºæµ‹è¯•.</p><a id="more"></a><ul><li><a href="#todo">TODO</a></li><li><a href="#%E8%B4%AD%E4%B9%B0%E5%BB%BA%E8%AE%AE">è´­ä¹°å»ºè®®</a></li><li><a href="#%E5%88%9D%E6%AC%A1%E4%BD%BF%E7%94%A8">åˆæ¬¡ä½¿ç”¨</a></li><li><a href="#%E5%88%9D%E6%AC%A1%E5%90%AF%E5%8A%A8">åˆæ¬¡å¯åŠ¨</a></li><li><a href="#%E5%BF%85%E4%BC%9A%E5%91%BD%E4%BB%A4">å¿…ä¼šå‘½ä»¤</a></li><li><a href="#%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BAlamp%E7%8E%AF%E5%A2%83">å¦‚ä½•æ­å»ºLAMPç¯å¢ƒ</a></li><li><a href="#%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83">å¦‚ä½•æ­å»ºå¼€å‘ç¯å¢ƒ</a></li><li><a href="#%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5">å‹æƒ…é“¾æ¥</a></li></ul><h2 id="TODO"><a href="#TODO" class="headerlink" title="TODO"></a>TODO</h2><ul><li><input disabled type="checkbox"> å®Œå–„æ–‡æ¡£</li></ul><h2 id="è´­ä¹°å»ºè®®"><a href="#è´­ä¹°å»ºè®®" class="headerlink" title="è´­ä¹°å»ºè®®"></a>è´­ä¹°å»ºè®®</h2><p>å‡†å¤‡:</p><ol><li>æ ‘è“æ´¾4b</li><li>è®¾å¤‡ç”µæº</li><li>microHDMIè½¬HDMI æˆ– è½¬VGA</li><li>è¯»å¡å™¨</li><li>micro-SDå¡(8G,16G, 32G) ä»»æ„å³å¯</li><li>é”®ç›˜</li><li>æ˜¾ç¤ºå™¨</li></ol><h2 id="åˆæ¬¡ä½¿ç”¨"><a href="#åˆæ¬¡ä½¿ç”¨" class="headerlink" title="åˆæ¬¡ä½¿ç”¨"></a>åˆæ¬¡ä½¿ç”¨</h2><ol><li><a href="https://www.raspberrypi.org/software/operating-systems/#raspberry-pi-os-32-bit">ä¸‹è½½isoé•œåƒ</a></li><li>çƒ§å½•è¿›micro-sd</li><li>å°†micro-sdæ’å…¥æ ‘è“æ´¾(ä¸æ˜¯ç”¨è¯»å¡å™¨æ’å…¥usbæ¥å£, è€Œæ˜¯æœ‰ä¸€ä¸ªä¸“é—¨çš„æ’å…¥micro-sdçš„ä½ç½®)</li><li>ç›´æ¥å¯åŠ¨, å³å¯è¿›å…¥ç•Œé¢</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mac çƒ§å½•æ–¹å¼</span></span><br><span class="line"><span class="comment"># åœ¨Mac OSä¸‹SDå¡çš„è®¾å¤‡åä¸€èˆ¬ä¸ºrdisk*ï¼Œå¯ä»¥ç”¨diskutil listå‘½ä»¤æŸ¥çœ‹ã€‚</span></span><br><span class="line"><span class="comment"># åœ¨Linuxä¸‹SDå¡çš„è®¾å¤‡åä¸€èˆ¬ä¸ºsd*ï¼Œå¯ä»¥ç”¨lsblkå‘½ä»¤æŸ¥çœ‹ã€‚</span></span><br><span class="line">sudo dd bs=1m <span class="keyword">if</span>=&lt;ä¸‹è½½çš„é•œåƒ.img&gt; of=/dev/&lt;SDå¡è®¾å¤‡å&gt; conv=sync</span><br></pre></td></tr></table></figure><h2 id="åˆæ¬¡å¯åŠ¨"><a href="#åˆæ¬¡å¯åŠ¨" class="headerlink" title="åˆæ¬¡å¯åŠ¨"></a>åˆæ¬¡å¯åŠ¨</h2><ol><li>è®¾ç½®åŒºåŸŸ, å¼€å¯wifiåŠŸèƒ½</li><li>è¿æ¥wifi</li><li>è®¾ç½®rootå¯†ç </li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è®¾ç½®ç›¸å…³å‚æ•°</span></span><br><span class="line">sudo raspi-config</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®rootå¯†ç </span></span><br><span class="line">sudo passwd root</span><br></pre></td></tr></table></figure><h2 id="å¿…ä¼šå‘½ä»¤"><a href="#å¿…ä¼šå‘½ä»¤" class="headerlink" title="å¿…ä¼šå‘½ä»¤"></a>å¿…ä¼šå‘½ä»¤</h2><h2 id="å¦‚ä½•æ­å»ºLAMPç¯å¢ƒ"><a href="#å¦‚ä½•æ­å»ºLAMPç¯å¢ƒ" class="headerlink" title="å¦‚ä½•æ­å»ºLAMPç¯å¢ƒ"></a>å¦‚ä½•æ­å»ºLAMPç¯å¢ƒ</h2><h2 id="å¦‚ä½•æ­å»ºå¼€å‘ç¯å¢ƒ"><a href="#å¦‚ä½•æ­å»ºå¼€å‘ç¯å¢ƒ" class="headerlink" title="å¦‚ä½•æ­å»ºå¼€å‘ç¯å¢ƒ"></a>å¦‚ä½•æ­å»ºå¼€å‘ç¯å¢ƒ</h2><h2 id="å‹æƒ…é“¾æ¥"><a href="#å‹æƒ…é“¾æ¥" class="headerlink" title="å‹æƒ…é“¾æ¥"></a>å‹æƒ…é“¾æ¥</h2><ul><li><a href="https://zhuanlan.zhihu.com/p/59027897">å¦‚ä½•ç»™æ ‘è“æ´¾å®‰è£…æ“ä½œç³»ç»Ÿ</a></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;ä¹‹å‰åœ¨å‚¨å¤‡å‰ç«¯æŠ€æœ¯, ç›®å‰ä½¿ç”¨æ ‘è“æ´¾æ¥æ­å»ºå¼€å‘ç¯å¢ƒ, ä¾¿äºæµ‹è¯•.&lt;/p&gt;</summary>
    
    
    
    <category term="å·¥å…·" scheme="http://muzig.github.io/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
    <category term="raspberryPi" scheme="http://muzig.github.io/tags/raspberryPi/"/>
    
  </entry>
  
  <entry>
    <title>Vue ç¬”è®°</title>
    <link href="http://muzig.github.io/2021/01/16/vue-note/"/>
    <id>http://muzig.github.io/2021/01/16/vue-note/</id>
    <published>2021-01-16T16:32:05.000Z</published>
    <updated>2021-02-17T03:22:28.297Z</updated>
    
    <content type="html"><![CDATA[<p>å°†è‡ªå­¦æ€è·¯æ•´ç†æ­¤å¤„, ä¾¿äºåç»­ç»†èŠ‚å›é¡¾.</p><a id="more"></a><ul><li><a href="#%E6%BA%90%E7%A0%81%E9%A1%B9%E7%9B%AE">æºç é¡¹ç›®</a></li><li><a href="#%E6%8A%80%E6%9C%AF%E6%A0%88">æŠ€æœ¯æ ˆ</a></li></ul><h2 id="æºç é¡¹ç›®"><a href="#æºç é¡¹ç›®" class="headerlink" title="æºç é¡¹ç›®"></a>æºç é¡¹ç›®</h2><p>åœ¨äº†è§£åŸºæœ¬è¯­æ³•ä¹‹å, æœ€å¥½çš„å­¦ä¹ æ–¹å¼å°±æ˜¯ç†Ÿæ‚‰å®æˆ˜é¡¹ç›®çš„æºç , èƒ½è¾ƒå¿«çš„è·å–å®æˆ˜ç»éªŒ.</p><p>æ­¤å¤„è´´ github å¼€æºçš„å®æˆ˜é¡¹ç›®, å¾ˆå€¼çš„ä¸€æ¢ç©¶ç«Ÿ.</p><ul><li><a href="https://github.com/bailicangdu/vue2-elm">å¤–å–å®æˆ˜é¡¹ç›®</a></li><li><a href="https://github.com/bailicangdu/vue2-manage">å¤–å–åç«¯ç®¡ç†</a></li></ul><h2 id="æŠ€æœ¯æ ˆ"><a href="#æŠ€æœ¯æ ˆ" class="headerlink" title="æŠ€æœ¯æ ˆ"></a>æŠ€æœ¯æ ˆ</h2><p>æœ‰äº†å®æˆ˜é¡¹ç›®, æˆ‘ä»¬å…ˆäº†è§£ä¸€ä¸‹æˆ‘ä»¬å°†ç”¨åˆ°ä»€ä¹ˆå·¥å…·, è¿™æ ·å¯¹æ•´ä¸ªå¼€å‘è¿‡ç¨‹æœ‰ä¸€ä¸ªå¤§å±€è§‚çš„æ„Ÿè§‰.</p><ul><li>vue2</li><li>vuex</li><li>vue-router</li><li>webpack</li><li>ES6/7</li><li>fetch</li><li>sass</li><li>flex</li><li>svg</li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;å°†è‡ªå­¦æ€è·¯æ•´ç†æ­¤å¤„, ä¾¿äºåç»­ç»†èŠ‚å›é¡¾.&lt;/p&gt;</summary>
    
    
    
    <category term="å‰ç«¯" scheme="http://muzig.github.io/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="vue" scheme="http://muzig.github.io/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>TypeScript ç¬”è®°</title>
    <link href="http://muzig.github.io/2021/01/10/ts-note/"/>
    <id>http://muzig.github.io/2021/01/10/ts-note/</id>
    <published>2021-01-10T19:16:43.000Z</published>
    <updated>2021-02-17T03:22:28.297Z</updated>
    
    <content type="html"><![CDATA[<p>å¯¹äºéœ€è¦æŒæ¡å‰ç«¯æŠ€æœ¯, å¯¹äº ts çš„åŸºç¡€è¯­æ³•æŒæ¡ä¹Ÿæ˜¯å¿…ä¸å¯å°‘çš„. åˆ©äºè¯»æ‡‚å‰ç«¯æºç .</p><a id="more"></a><ul><li><a href="#todo">TODO</a></li><li><a href="#%E9%80%9F%E8%A7%88">é€Ÿè§ˆ</a></li><li><a href="#%E5%9F%BA%E7%A1%80%E7%B1%BB%E5%9E%8B">åŸºç¡€ç±»å‹</a><ul><li><a href="#%E5%AD%97%E7%AC%A6%E4%B8%B2">å­—ç¬¦ä¸²</a></li><li><a href="#%E6%95%B0%E7%BB%84">æ•°ç»„</a></li><li><a href="#%E5%85%83%E7%BB%84-tuple">å…ƒç»„ Tuple</a></li><li><a href="#%E6%9E%9A%E4%B8%BE">æšä¸¾</a></li><li><a href="#void">Void</a></li><li><a href="#null--undefined">null &amp; undefined</a></li><li><a href="#never">Never</a></li><li><a href="#object">Object</a></li><li><a href="#any">Any</a></li><li><a href="#%E7%B1%BB%E5%9E%8B%E6%96%AD%E8%A8%80">ç±»å‹æ–­è¨€</a></li><li><a href="#%E5%85%B3%E4%BA%8Elet">å…³äºlet</a></li></ul></li><li><a href="#%E5%8F%98%E9%87%8F%E5%A3%B0%E6%98%8E">å˜é‡å£°æ˜</a><ul><li><a href="#var%E5%A3%B0%E6%98%8E">varå£°æ˜</a></li><li><a href="#let%E5%A3%B0%E6%98%8E">letå£°æ˜</a></li><li><a href="#const%E5%A3%B0%E6%98%8E">constå£°æ˜</a></li><li><a href="#%E8%A7%A3%E6%9E%84">è§£æ„</a><ul><li><a href="#%E6%95%B0%E7%BB%84%E8%A7%A3%E6%9E%84">æ•°ç»„è§£æ„</a></li><li><a href="#%E5%AF%B9%E8%B1%A1%E8%A7%A3%E6%9E%84">å¯¹è±¡è§£æ„</a></li></ul></li><li><a href="#%E5%B1%95%E5%BC%80%E4%B8%8E%E8%A7%A3%E6%9E%84%E7%9B%B8%E5%8F%8D%E6%93%8D%E4%BD%9C">å±•å¼€(ä¸è§£æ„ç›¸åæ“ä½œ)</a><ul><li><a href="#%E6%95%B0%E7%BB%84%E5%B1%95%E5%BC%80">æ•°ç»„å±•å¼€</a></li><li><a href="#%E5%AF%B9%E8%B1%A1%E5%B1%95%E5%BC%80">å¯¹è±¡å±•å¼€</a></li></ul></li></ul></li><li><a href="#%E6%8E%A5%E5%8F%A3">æ¥å£</a><ul><li><a href="#%E6%8E%A5%E5%8F%A3%E5%AE%9A%E4%B9%89">æ¥å£å®šä¹‰</a></li><li><a href="#%E5%BD%A2%E5%8F%82%E7%BA%A6%E6%9D%9F">å½¢å‚çº¦æŸ</a></li><li><a href="#%E5%8F%AF%E9%80%89%E5%8F%82%E6%95%B0">å¯é€‰å‚æ•°</a></li><li><a href="#%E5%8F%AA%E8%AF%BB%E5%8F%82%E6%95%B0">åªè¯»å‚æ•°</a></li><li><a href="#%E5%85%B3%E9%97%AD%E9%A2%9D%E5%A4%96%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5">å…³é—­é¢å¤–ç±»å‹æ£€æŸ¥</a></li><li><a href="#%E5%87%BD%E6%95%B0%E7%B1%BB%E5%9E%8B">å‡½æ•°ç±»å‹</a></li><li><a href="#%E5%8F%AF%E7%B4%A2%E5%BC%95%E7%9A%84%E7%B1%BB%E5%9E%8B">å¯ç´¢å¼•çš„ç±»å‹</a></li><li><a href="#%E7%B1%BB%E7%BB%A7%E6%89%BF%E6%8E%A5%E5%8F%A3">ç±»ç»§æ‰¿æ¥å£</a></li><li><a href="#%E6%8E%A5%E5%8F%A3%E7%BB%A7%E6%89%BF">æ¥å£ç»§æ‰¿</a></li><li><a href="#%E6%B7%B7%E5%90%88%E7%B1%BB%E5%9E%8B">æ··åˆç±»å‹</a></li><li><a href="#%E6%8E%A5%E5%8F%A3%E7%BB%A7%E6%89%BF%E7%B1%BB">æ¥å£ç»§æ‰¿ç±»</a></li></ul></li></ul><h2 id="TODO"><a href="#TODO" class="headerlink" title="TODO"></a>TODO</h2><ul><li><input checked disabled type="checkbox"> é€Ÿè§ˆ</li><li><input checked disabled type="checkbox"> åŸºç¡€ç±»å‹</li><li><input checked disabled type="checkbox"> å˜é‡å£°æ˜</li><li><input checked disabled type="checkbox"> æ¥å£</li><li><input disabled type="checkbox"> å‡½æ•°</li><li><input disabled type="checkbox"> æ³›å‹</li><li><input disabled type="checkbox"> æšä¸¾</li><li><input disabled type="checkbox"> ç±»å‹æ¨å¯¼</li><li><input disabled type="checkbox"> ç±»å‹å…¼å®¹æ€§</li><li><input disabled type="checkbox"> é«˜çº§ç±»å‹</li><li><input disabled type="checkbox"> Symbols</li><li><input disabled type="checkbox"> è¿­ä»£å™¨å’Œç”Ÿæˆå™¨</li><li><input disabled type="checkbox"> æ¨¡å—</li><li><input disabled type="checkbox"> å‘½ä»¤ç©ºé—´</li><li><input disabled type="checkbox"> å‘½ä»¤ç©ºé—´å’Œæ¨¡å—</li><li><input disabled type="checkbox"> æ¨¡å—è§£æ</li><li><input disabled type="checkbox"> å£°æ˜åˆå¹¶</li><li><input disabled type="checkbox"> JSX</li><li><input disabled type="checkbox"> è£…é¥°å™¨</li><li><input disabled type="checkbox"> Mixins</li><li><input disabled type="checkbox"> ä¸‰æ–œçº¿æŒ‡ä»¤</li><li><input disabled type="checkbox"> JSæ–‡ä»¶ç±»å‹æ£€æŸ¥</li></ul><h2 id="é€Ÿè§ˆ"><a href="#é€Ÿè§ˆ" class="headerlink" title="é€Ÿè§ˆ"></a>é€Ÿè§ˆ</h2><ul><li><p><a href="https://www.tslang.cn/docs/handbook/basic-types.html">å®˜æ–¹æ‰‹å†ŒæŒ‡å—</a></p></li><li><p>ç±»å‹æ³¨è§£</p></li></ul><p>ts æ”¯æŒé™æ€ç±»å‹æ£€æŸ¥, ä¾¿äºåœ¨è¿è¡Œä¹‹å‰, æå‰å‘ç°ä»£ç é—®é¢˜.</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hello</span>(<span class="params">name: <span class="built_in">string</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;hello&quot;</span> + name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> flag = <span class="string">&quot;ts&quot;</span>;</span><br><span class="line">hello(flag);</span><br></pre></td></tr></table></figure><ul><li>æ¥å£</li></ul><p>æ‰§è¡Œçº¦æŸ object ç±»å‹çš„æ ¼å¼, ä¾¿äºä¿è¯å‡½æ•°æŒ‰ç…§é¢„æœŸæ‰§è¡Œ</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Person &#123;</span><br><span class="line">  firstName: <span class="built_in">string</span>;</span><br><span class="line">  lastName: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">say</span>(<span class="params">p: Person</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> p.firstName + p.lastName;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> user = &#123; <span class="attr">firstName</span>: <span class="string">&quot;xiao&quot;</span>, <span class="attr">lastName</span>: <span class="string">&quot;ming&quot;</span> &#125;;</span><br><span class="line">say(user);</span><br></pre></td></tr></table></figure><ul><li>ç±»</li></ul><p>æä¾›é¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ€æƒ³, å…·ä½“æ›´å¤šæŠ½è±¡èƒ½åŠ›</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">  fullName: <span class="built_in">string</span>;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"><span class="keyword">public</span> firstName: <span class="built_in">string</span>, <span class="keyword">public</span> lastName: <span class="built_in">string</span></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.fullName = firstName + lastName;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> Person &#123;</span><br><span class="line">  firstName: <span class="built_in">string</span>;</span><br><span class="line">  lastName: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">say</span>(<span class="params">p: Person</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> p.firstName + p.lastName;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> user = <span class="keyword">new</span> Student(<span class="string">&quot;xiao&quot;</span>, <span class="string">&quot;ming&quot;</span>);</span><br><span class="line">say(user);</span><br></pre></td></tr></table></figure><ul><li>è¡¥å……</li></ul><blockquote><p>ts &amp; js å¯¹å¤§å°å†™æ•æ„Ÿ; å¯¹äºå±æ€§åå»ºè®®å–åä¸ºå°å†™, å› ä¸º typeof è¿”å›çš„ç±»å‹åä¸ºå°å†™.</p></blockquote><h2 id="åŸºç¡€ç±»å‹"><a href="#åŸºç¡€ç±»å‹" class="headerlink" title="åŸºç¡€ç±»å‹"></a>åŸºç¡€ç±»å‹</h2><h3 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h3><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">let</span> name: <span class="built_in">string</span> = <span class="string">&quot;TypeScript&quot;</span></span><br><span class="line"><span class="keyword">let</span> sentence: <span class="built_in">string</span> = <span class="string">`Hello <span class="subst">$&#123; name &#125;</span>.`</span></span><br></pre></td></tr></table></figure><h3 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h3><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ•°ç»„</span></span><br><span class="line"><span class="keyword">let</span> arr: <span class="built_in">number</span>[] = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="keyword">let</span> arr: <span class="built_in">Array</span>&lt;<span class="built_in">number</span>&gt; = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>] <span class="comment">// æ³›å‹æ•°ç»„</span></span><br></pre></td></tr></table></figure><h3 id="å…ƒç»„-Tuple"><a href="#å…ƒç»„-Tuple" class="headerlink" title="å…ƒç»„ Tuple"></a>å…ƒç»„ Tuple</h3><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…ƒç»„ Tuple</span></span><br><span class="line"><span class="comment">// Declare a tuple type</span></span><br><span class="line"><span class="keyword">let</span> x: [<span class="built_in">string</span>, <span class="built_in">number</span>];</span><br><span class="line"><span class="comment">// Initialize it</span></span><br><span class="line">x = [<span class="string">&#x27;hello&#x27;</span>, <span class="number">10</span>]; <span class="comment">// OK</span></span><br><span class="line"><span class="comment">// Initialize it incorrectly</span></span><br><span class="line">x = [<span class="number">10</span>, <span class="string">&#x27;hello&#x27;</span>]; <span class="comment">// Error</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(x[<span class="number">0</span>].substr(<span class="number">1</span>)); <span class="comment">// OK</span></span><br><span class="line"><span class="built_in">console</span>.log(x[<span class="number">1</span>].substr(<span class="number">1</span>)); <span class="comment">// Error, &#x27;number&#x27; does not have &#x27;substr&#x27;</span></span><br><span class="line"></span><br><span class="line">x[<span class="number">3</span>] = <span class="string">&#x27;world&#x27;</span>; <span class="comment">// OK, å­—ç¬¦ä¸²å¯ä»¥èµ‹å€¼ç»™(string | number)ç±»å‹</span></span><br><span class="line"><span class="built_in">console</span>.log(x[<span class="number">5</span>].toString()); <span class="comment">// OK, &#x27;string&#x27; å’Œ &#x27;number&#x27; éƒ½æœ‰ toString</span></span><br><span class="line">x[<span class="number">6</span>] = <span class="literal">true</span>; <span class="comment">// Error, å¸ƒå°”ä¸æ˜¯(string | number)ç±»å‹</span></span><br></pre></td></tr></table></figure><h3 id="æšä¸¾"><a href="#æšä¸¾" class="headerlink" title="æšä¸¾"></a>æšä¸¾</h3><p>æ›´å¥½çš„æè¿°ä¸€ç»„æ•°å€¼</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é»˜è®¤ä»0å¼€å§‹ä¸ºå…ƒç´ ç¼–å·</span></span><br><span class="line"><span class="comment">// æ”¯æŒæ‰‹åŠ¨èµ‹å€¼</span></span><br><span class="line"><span class="built_in">enum</span> Color &#123; Red, Green, Blue = <span class="number">3</span>&#125;</span><br><span class="line"><span class="keyword">let</span> c: Color = Color.Green</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ”¯æŒæ‰“å°æšä¸¾å</span></span><br><span class="line"><span class="keyword">let</span> colorName: <span class="built_in">string</span> = Color[<span class="number">2</span>] </span><br><span class="line"><span class="built_in">console</span>.log(colorName)</span><br><span class="line"><span class="comment">// è¾“å‡º:</span></span><br><span class="line"><span class="comment">// Color</span></span><br></pre></td></tr></table></figure><h3 id="Void"><a href="#Void" class="headerlink" title="Void"></a>Void</h3><p>æŸç§ç¨‹åº¦ä¸Šæ¥è¯´ï¼Œvoidç±»å‹åƒæ˜¯ä¸anyç±»å‹ç›¸åï¼Œå®ƒè¡¨ç¤ºæ²¡æœ‰ä»»ä½•ç±»å‹ã€‚ å½“ä¸€ä¸ªå‡½æ•°æ²¡æœ‰è¿”å›å€¼æ—¶ï¼Œä½ é€šå¸¸ä¼šè§åˆ°å…¶è¿”å›å€¼ç±»å‹æ˜¯ voidï¼š</p><p>å£°æ˜ä¸€ä¸ªvoidç±»å‹çš„å˜é‡æ²¡æœ‰ä»€ä¹ˆå¤§ç”¨ï¼Œå› ä¸ºä½ åªèƒ½ä¸ºå®ƒèµ‹äºˆundefinedå’Œnull</p><h3 id="null-amp-undefined"><a href="#null-amp-undefined" class="headerlink" title="null &amp; undefined"></a>null &amp; undefined</h3><p>ç„¶è€Œï¼Œå½“ä½ æŒ‡å®šäº†â€“strictNullChecksæ ‡è®°ï¼Œnullå’Œundefinedåªèƒ½èµ‹å€¼ç»™voidå’Œå®ƒä»¬å„è‡ªã€‚ è¿™èƒ½é¿å… å¾ˆå¤šå¸¸è§çš„é—®é¢˜ã€‚ ä¹Ÿè®¸åœ¨æŸå¤„ä½ æƒ³ä¼ å…¥ä¸€ä¸ª stringæˆ–nullæˆ–undefinedï¼Œä½ å¯ä»¥ä½¿ç”¨è”åˆç±»å‹string | null | undefinedã€‚ å†æ¬¡è¯´æ˜ï¼Œç¨åæˆ‘ä»¬ä¼šä»‹ç»è”åˆç±»å‹ã€‚</p><blockquote><p>æ³¨æ„ï¼šæˆ‘ä»¬é¼“åŠ±å°½å¯èƒ½åœ°ä½¿ç”¨â€“strictNullChecks</p></blockquote><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> u: <span class="literal">undefined</span> = <span class="literal">undefined</span></span><br><span class="line"><span class="keyword">let</span> n: <span class="literal">null</span> = <span class="literal">null</span></span><br></pre></td></tr></table></figure><h3 id="Never"><a href="#Never" class="headerlink" title="Never"></a>Never</h3><p>neverç±»å‹è¡¨ç¤ºçš„æ˜¯é‚£äº›æ°¸ä¸å­˜åœ¨çš„å€¼çš„ç±»å‹ã€‚</p><p>neverç±»å‹æ˜¯ä»»ä½•ç±»å‹çš„å­ç±»å‹ï¼Œä¹Ÿå¯ä»¥èµ‹å€¼ç»™ä»»ä½•ç±»å‹ï¼›ç„¶è€Œï¼Œæ²¡æœ‰ç±»å‹æ˜¯neverçš„å­ç±»å‹æˆ–å¯ä»¥èµ‹å€¼ç»™neverç±»å‹ï¼ˆé™¤äº†neveræœ¬èº«ä¹‹å¤–ï¼‰.</p><p>å³ä½¿ anyä¹Ÿä¸å¯ä»¥èµ‹å€¼ç»™neverã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿”å›neverçš„å‡½æ•°å¿…é¡»å­˜åœ¨æ— æ³•è¾¾åˆ°çš„ç»ˆç‚¹</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">error</span>(<span class="params">message: <span class="built_in">string</span></span>): <span class="title">never</span> </span>&#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(message);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¨æ–­çš„è¿”å›å€¼ç±»å‹ä¸ºnever</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fail</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> error(<span class="string">&quot;Something failed&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿”å›neverçš„å‡½æ•°å¿…é¡»å­˜åœ¨æ— æ³•è¾¾åˆ°çš„ç»ˆç‚¹</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">infiniteLoop</span>(<span class="params"></span>): <span class="title">never</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Object"><a href="#Object" class="headerlink" title="Object"></a>Object</h3><p>objectè¡¨ç¤ºéåŸå§‹ç±»å‹ï¼Œä¹Ÿå°±æ˜¯é™¤numberï¼Œstringï¼Œbooleanï¼Œsymbolï¼Œnullæˆ–undefinedä¹‹å¤–çš„ç±»å‹ã€‚</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="function"><span class="keyword">function</span> <span class="title">create</span>(<span class="params">o: <span class="built_in">object</span> | <span class="literal">null</span></span>): <span class="title">void</span></span>;</span><br><span class="line"></span><br><span class="line">create(&#123; <span class="attr">prop</span>: <span class="number">0</span> &#125;); <span class="comment">// OK</span></span><br><span class="line">create(<span class="literal">null</span>); <span class="comment">// OK</span></span><br><span class="line"></span><br><span class="line">create(<span class="number">42</span>); <span class="comment">// Error</span></span><br><span class="line">create(<span class="string">&quot;string&quot;</span>); <span class="comment">// Error</span></span><br><span class="line">create(<span class="literal">false</span>); <span class="comment">// Error</span></span><br><span class="line">create(<span class="literal">undefined</span>); <span class="comment">// Error</span></span><br></pre></td></tr></table></figure><h3 id="Any"><a href="#Any" class="headerlink" title="Any"></a>Any</h3><p>å¯¹äºæš‚æ—¶æ— æ³•é¢„æœŸçš„ç±»å‹, å¯ä»¥ä½¿ç”¨ any å»æè¿°</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> msg: <span class="built_in">any</span> = <span class="number">100</span></span><br><span class="line">msg = <span class="literal">true</span> <span class="comment">// OK</span></span><br><span class="line">msg = <span class="string">&quot;foo&quot;</span> <span class="comment">// OK</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr: <span class="built_in">any</span>[] = [<span class="number">1</span>, <span class="string">&quot;foo&quot;</span>, <span class="string">&quot;boo&quot;</span>]</span><br><span class="line">arr[<span class="number">1</span>] = <span class="number">100</span> <span class="comment">// OK</span></span><br></pre></td></tr></table></figure><h3 id="ç±»å‹æ–­è¨€"><a href="#ç±»å‹æ–­è¨€" class="headerlink" title="ç±»å‹æ–­è¨€"></a>ç±»å‹æ–­è¨€</h3><p>æœ‰æ—¶å€™ä½ ä¼šé‡åˆ°è¿™æ ·çš„æƒ…å†µï¼Œä½ ä¼šæ¯”TypeScriptæ›´äº†è§£æŸä¸ªå€¼çš„è¯¦ç»†ä¿¡æ¯ã€‚ é€šå¸¸è¿™ä¼šå‘ç”Ÿåœ¨ä½ æ¸…æ¥šåœ°çŸ¥é“ä¸€ä¸ªå®ä½“å…·æœ‰æ¯”å®ƒç°æœ‰ç±»å‹æ›´ç¡®åˆ‡çš„ç±»å‹ã€‚</p><blockquote><p>ä¸¤ç§å½¢å¼æ˜¯ç­‰ä»·çš„ã€‚ è‡³äºä½¿ç”¨å“ªä¸ªå¤§å¤šæ•°æƒ…å†µä¸‹æ˜¯å‡­ä¸ªäººå–œå¥½ï¼›ç„¶è€Œï¼Œå½“ä½ åœ¨TypeScripté‡Œä½¿ç”¨JSXæ—¶ï¼Œåªæœ‰ asè¯­æ³•æ–­è¨€æ˜¯è¢«å…è®¸çš„ã€‚</p></blockquote><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¬¬ä¸€ç§å†™æ³•: å°–æ‹¬å·</span></span><br><span class="line"><span class="keyword">let</span> someValue: <span class="built_in">any</span> = <span class="string">&quot;this is a string&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> strLength: <span class="built_in">number</span> = (&lt;<span class="built_in">string</span>&gt;someValue).length;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬äºŒç§å†™æ³•: asè¯­æ³•</span></span><br><span class="line"><span class="keyword">let</span> someValue: <span class="built_in">any</span> = <span class="string">&quot;this is a string&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> strLength: <span class="built_in">number</span> = (someValue <span class="keyword">as</span> <span class="built_in">string</span>).length;</span><br></pre></td></tr></table></figure><h3 id="å…³äºlet"><a href="#å…³äºlet" class="headerlink" title="å…³äºlet"></a>å…³äºlet</h3><p>ä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°äº†ï¼Œæˆ‘ä»¬ä½¿ç”¨letå…³é”®å­—æ¥ä»£æ›¿å¤§å®¶æ‰€ç†Ÿæ‚‰çš„JavaScriptå…³é”®å­—varã€‚ letå…³é”®å­—æ˜¯JavaScriptçš„ä¸€ä¸ªæ–°æ¦‚å¿µï¼ŒTypeScriptå®ç°äº†å®ƒã€‚ æˆ‘ä»¬ä¼šåœ¨ä»¥åè¯¦ç»†ä»‹ç»å®ƒï¼Œå¾ˆå¤šå¸¸è§çš„é—®é¢˜éƒ½å¯ä»¥é€šè¿‡ä½¿ç”¨ letæ¥è§£å†³ï¼Œæ‰€ä»¥å°½å¯èƒ½åœ°ä½¿ç”¨letæ¥ä»£æ›¿varå§ã€‚</p><h2 id="å˜é‡å£°æ˜"><a href="#å˜é‡å£°æ˜" class="headerlink" title="å˜é‡å£°æ˜"></a>å˜é‡å£°æ˜</h2><h3 id="varå£°æ˜"><a href="#varå£°æ˜" class="headerlink" title="varå£°æ˜"></a>varå£°æ˜</h3><ul><li>ä½œç”¨åŸŸè§„åˆ™</li><li>æ•è·å˜é‡ç‰¹æ®Šä¹‹å¤„</li></ul><h3 id="letå£°æ˜"><a href="#letå£°æ˜" class="headerlink" title="letå£°æ˜"></a>letå£°æ˜</h3><ul><li>å—ä½œç”¨åŸŸ</li><li>é‡å®šä¹‰å±è”½</li><li>å—çº§ä½œç”¨åŸŸå˜é‡è·å– - é€šè¿‡é—­åŒ…</li></ul><h3 id="constå£°æ˜"><a href="#constå£°æ˜" class="headerlink" title="constå£°æ˜"></a>constå£°æ˜</h3><ul><li>å£°æ˜ä¹‹åä¸èƒ½ä¿®æ”¹; ä½†æ˜¯å¯ä»¥ä¿®æ”¹å¯¹è±¡å†…éƒ¨å€¼</li></ul><h3 id="è§£æ„"><a href="#è§£æ„" class="headerlink" title="è§£æ„"></a>è§£æ„</h3><h4 id="æ•°ç»„è§£æ„"><a href="#æ•°ç»„è§£æ„" class="headerlink" title="æ•°ç»„è§£æ„"></a>æ•°ç»„è§£æ„</h4><ul><li>è®©æ•°ç»„å˜é‡æ›´æ¸…æ™°</li><li>æ”¯æŒå‡½æ•°å‚æ•°è§£æ„æ ¼å¼</li><li>æ”¯æŒâ€¦è¯­æ³•åˆ›å»ºå‰©ä½™å˜é‡</li></ul><h4 id="å¯¹è±¡è§£æ„"><a href="#å¯¹è±¡è§£æ„" class="headerlink" title="å¯¹è±¡è§£æ„"></a>å¯¹è±¡è§£æ„</h4><ul><li>ç»“æ„åŒ–å¯¹è±¡æˆå‘˜</li><li>â€¦è¯­æ³•æ”¯æŒç»“æ„ä½™ä¸‹å¯¹è±¡æˆå‘˜</li><li>æ”¯æŒç»“æ„åŒ–ä¹‹åé‡å‘½å</li><li>=è¯­æ³•æ”¯æŒç¼ºçœé»˜è®¤å€¼</li><li>å‡½æ•°å£°æ˜æ”¯æŒç»“æ„å¯¹è±¡</li></ul><h3 id="å±•å¼€-ä¸è§£æ„ç›¸åæ“ä½œ"><a href="#å±•å¼€-ä¸è§£æ„ç›¸åæ“ä½œ" class="headerlink" title="å±•å¼€(ä¸è§£æ„ç›¸åæ“ä½œ)"></a>å±•å¼€(ä¸è§£æ„ç›¸åæ“ä½œ)</h3><h4 id="æ•°ç»„å±•å¼€"><a href="#æ•°ç»„å±•å¼€" class="headerlink" title="æ•°ç»„å±•å¼€"></a>æ•°ç»„å±•å¼€</h4><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> first = [<span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line"><span class="keyword">let</span> second = [<span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="comment">// æµ…æ‹·è´</span></span><br><span class="line"><span class="keyword">let</span> bothPlus = [<span class="number">0</span>, ...first, ...second, <span class="number">5</span>];</span><br></pre></td></tr></table></figure><h4 id="å¯¹è±¡å±•å¼€"><a href="#å¯¹è±¡å±•å¼€" class="headerlink" title="å¯¹è±¡å±•å¼€"></a>å¯¹è±¡å±•å¼€</h4><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> defaults = &#123; <span class="attr">food</span>: <span class="string">&quot;spicy&quot;</span>, <span class="attr">price</span>: <span class="string">&quot;$$&quot;</span>, <span class="attr">ambiance</span>: <span class="string">&quot;noisy&quot;</span> &#125;;</span><br><span class="line"><span class="keyword">let</span> search = &#123; ...defaults, <span class="attr">food</span>: <span class="string">&quot;rich&quot;</span> &#125;;</span><br></pre></td></tr></table></figure><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj: <span class="built_in">object</span> = &#123; <span class="attr">a</span>: <span class="string">&quot;a&quot;</span>, <span class="attr">b</span>: <span class="string">&quot;b&quot;</span> &#125;;</span><br><span class="line"><span class="keyword">let</span> obj2: <span class="built_in">object</span> = &#123; ...obj, <span class="attr">a</span>: <span class="string">&quot;b&quot;</span> &#125;; <span class="comment">// ä¸ä¼šé‡å†™ a æˆå‘˜å€¼ =&gt; a = &quot;b&quot;</span></span><br><span class="line"><span class="keyword">let</span> obj2: <span class="built_in">object</span> = &#123; <span class="attr">a</span>: <span class="string">&quot;b&quot;</span>, ...obj &#125;; <span class="comment">// ä¼šé‡å†™ a æˆå‘˜å€¼ =&gt; a = &quot;a&quot;</span></span><br><span class="line"><span class="built_in">console</span>.log(obj2);</span><br></pre></td></tr></table></figure><blockquote><p>å¯¹è±¡å±•å¼€è¿˜æœ‰å…¶å®ƒä¸€äº›æ„æƒ³ä¸åˆ°çš„é™åˆ¶</p></blockquote><ul><li>æ‰©å±•ä¹‹å, ä¼šä¸¢å¤±äº†æˆå‘˜å‡½æ•°</li><li>tscä¸å…è®¸å±•å¼€æ³›å‹å‡½æ•°ä¸Šçš„ç±»å‹å‚æ•°</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span> </span>&#123;</span><br><span class="line">  p = <span class="number">12</span>;</span><br><span class="line">  <span class="function"><span class="title">m</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> c = <span class="keyword">new</span> C();</span><br><span class="line"><span class="keyword">let</span> clone = &#123; ...c &#125;;</span><br><span class="line">clone.p; <span class="comment">// ok</span></span><br><span class="line">clone.m(); <span class="comment">// error!</span></span><br></pre></td></tr></table></figure><h2 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h2><h3 id="æ¥å£å®šä¹‰"><a href="#æ¥å£å®šä¹‰" class="headerlink" title="æ¥å£å®šä¹‰"></a>æ¥å£å®šä¹‰</h3><h3 id="å½¢å‚çº¦æŸ"><a href="#å½¢å‚çº¦æŸ" class="headerlink" title="å½¢å‚çº¦æŸ"></a>å½¢å‚çº¦æŸ</h3><h3 id="å¯é€‰å‚æ•°"><a href="#å¯é€‰å‚æ•°" class="headerlink" title="å¯é€‰å‚æ•°"></a>å¯é€‰å‚æ•°</h3><h3 id="åªè¯»å‚æ•°"><a href="#åªè¯»å‚æ•°" class="headerlink" title="åªè¯»å‚æ•°"></a>åªè¯»å‚æ•°</h3><h3 id="å…³é—­é¢å¤–ç±»å‹æ£€æŸ¥"><a href="#å…³é—­é¢å¤–ç±»å‹æ£€æŸ¥" class="headerlink" title="å…³é—­é¢å¤–ç±»å‹æ£€æŸ¥"></a>å…³é—­é¢å¤–ç±»å‹æ£€æŸ¥</h3><h3 id="å‡½æ•°ç±»å‹"><a href="#å‡½æ•°ç±»å‹" class="headerlink" title="å‡½æ•°ç±»å‹"></a>å‡½æ•°ç±»å‹</h3><h3 id="å¯ç´¢å¼•çš„ç±»å‹"><a href="#å¯ç´¢å¼•çš„ç±»å‹" class="headerlink" title="å¯ç´¢å¼•çš„ç±»å‹"></a>å¯ç´¢å¼•çš„ç±»å‹</h3><blockquote><p>TypeScriptæ”¯æŒä¸¤ç§ç´¢å¼•ç­¾åï¼šå­—ç¬¦ä¸²å’Œæ•°å­—ã€‚ å¯ä»¥åŒæ—¶ä½¿ç”¨ä¸¤ç§ç±»å‹çš„ç´¢å¼•ï¼Œä½†æ˜¯æ•°å­—ç´¢å¼•çš„è¿”å›å€¼å¿…é¡»æ˜¯å­—ç¬¦ä¸²ç´¢å¼•è¿”å›å€¼ç±»å‹çš„å­ç±»å‹ã€‚ è¿™æ˜¯å› ä¸ºå½“ä½¿ç”¨ numberæ¥ç´¢å¼•æ—¶ï¼ŒJavaScriptä¼šå°†å®ƒè½¬æ¢æˆstringç„¶åå†å»ç´¢å¼•å¯¹è±¡ã€‚ ä¹Ÿå°±æ˜¯è¯´ç”¨ 100ï¼ˆä¸€ä¸ªnumberï¼‰å»ç´¢å¼•ç­‰åŒäºä½¿ç”¨â€100â€ï¼ˆä¸€ä¸ªstringï¼‰å»ç´¢å¼•ï¼Œå› æ­¤ä¸¤è€…éœ€è¦ä¿æŒä¸€è‡´ã€‚</p></blockquote><h3 id="ç±»ç»§æ‰¿æ¥å£"><a href="#ç±»ç»§æ‰¿æ¥å£" class="headerlink" title="ç±»ç»§æ‰¿æ¥å£"></a>ç±»ç»§æ‰¿æ¥å£</h3><blockquote><p>ç±»é™æ€éƒ¨åˆ†, éœ€è¦ä½¿ç”¨å½¢å‚çº¦æŸçš„æ–¹å¼å»çº¦æŸ, æ¯”å¦‚æ„é€ å‡½æ•°</p></blockquote><h3 id="æ¥å£ç»§æ‰¿"><a href="#æ¥å£ç»§æ‰¿" class="headerlink" title="æ¥å£ç»§æ‰¿"></a>æ¥å£ç»§æ‰¿</h3><h3 id="æ··åˆç±»å‹"><a href="#æ··åˆç±»å‹" class="headerlink" title="æ··åˆç±»å‹"></a>æ··åˆç±»å‹</h3><h3 id="æ¥å£ç»§æ‰¿ç±»"><a href="#æ¥å£ç»§æ‰¿ç±»" class="headerlink" title="æ¥å£ç»§æ‰¿ç±»"></a>æ¥å£ç»§æ‰¿ç±»</h3><ul><li>extends</li><li>implements</li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;å¯¹äºéœ€è¦æŒæ¡å‰ç«¯æŠ€æœ¯, å¯¹äº ts çš„åŸºç¡€è¯­æ³•æŒæ¡ä¹Ÿæ˜¯å¿…ä¸å¯å°‘çš„. åˆ©äºè¯»æ‡‚å‰ç«¯æºç .&lt;/p&gt;</summary>
    
    
    
    <category term="å‰ç«¯" scheme="http://muzig.github.io/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
    <category term="ts" scheme="http://muzig.github.io/tags/ts/"/>
    
  </entry>
  
  <entry>
    <title>Golang åˆçº§æŠ€æœ¯</title>
    <link href="http://muzig.github.io/2020/12/27/golang-primary-interview/"/>
    <id>http://muzig.github.io/2020/12/27/golang-primary-interview/</id>
    <published>2020-12-27T20:18:15.000Z</published>
    <updated>2021-02-17T03:22:28.297Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘éœ€è¦ç­”è¾©, æ”¶é›†äº†éƒ¨åˆ†æ¥è‡ªå„æ–¹çš„å®æˆ˜é¢è¯•å†…å®¹, ä¾¿äºå·©å›º.</p><p><strong>å¦‚æœ‰ä¸å½“ä¹‹å¤„ï¼Œè¯·äºˆæŒ‡æ­£ ğŸ™.</strong></p><a id="more"></a><ul><li><a href="#todo">TODO</a></li><li><a href="#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5">å‚è€ƒé“¾æ¥</a></li><li><a href="#%E5%9F%BA%E7%A1%80%E7%AF%87">åŸºç¡€ç¯‡</a></li><li><a href="#%E6%A6%82%E5%BF%B5%E7%AF%87">æ¦‚å¿µç¯‡</a></li><li><a href="#%E6%A1%86%E6%9E%B6%E7%AF%87">æ¡†æ¶ç¯‡</a><ul><li><a href="#%E5%BC%80%E6%BA%90%E6%A1%86%E6%9E%B6">å¼€æºæ¡†æ¶</a></li></ul></li><li><a href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AF%87">æ•°æ®åº“ç¯‡</a></li><li><a href="#%E7%BA%BF%E4%B8%8A%E7%BB%8F%E9%AA%8C">çº¿ä¸Šç»éªŒ</a></li><li><a href="#%E7%BC%96%E7%A8%8B%E9%A2%98">ç¼–ç¨‹é¢˜</a><ul><li><a href="#%E5%AE%9E%E7%8E%B0%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8C%B9%E9%85%8D%E6%A3%80%E6%9F%A5">å®ç°å­—ç¬¦ä¸²åŒ¹é…æ£€æŸ¥</a></li><li><a href="#%E5%AE%9E%E7%8E%B0%E4%B8%80%E7%A7%8D%E6%88%96%E5%A4%9A%E7%A7%8D%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E7%AE%97%E6%B3%95">å®ç°ä¸€ç§æˆ–å¤šç§è´Ÿè½½å‡è¡¡ç®—æ³•</a></li></ul></li></ul><h2 id="TODO"><a href="#TODO" class="headerlink" title="TODO"></a>TODO</h2><ul><li><input disabled type="checkbox"> å°½å¯èƒ½å®Œå–„é¢˜ç›®ç­”æ¡ˆ</li></ul><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><ul><li><a href="https://www.bilibili.com/video/BV1yy4y1v7ad">ShowMeBug-åˆçº§ Golang é¢è¯•è§†é¢‘</a></li></ul><h2 id="åŸºç¡€ç¯‡"><a href="#åŸºç¡€ç¯‡" class="headerlink" title="åŸºç¡€ç¯‡"></a>åŸºç¡€ç¯‡</h2><blockquote><p>new å’Œ make çš„åŒºåˆ«?</p></blockquote><p>éƒ½æ˜¯ç”¨äº<strong>åˆ†é…å†…å­˜</strong>, åŒºåˆ«åœ¨äº:</p><p>å‰è€…ä¸»è¦ç”¨äºåˆ›å»ºè¿”å›ç±»å‹çš„æŒ‡é’ˆå¼•ç”¨;</p><p>åè€…åªèƒ½ç”¨äº slice / map / channel çš„åˆå§‹åŒ–.</p><p>è¡¥å……: å…¶å® new ä¸å¸¸ç”¨, ç›¸æ¯”è¾ƒä¸‹å­—é¢é‡åˆå§‹åŒ–çš„æ–¹å¼æ›´ä¸ºå¸¸ç”¨, åŒæ—¶è·å–æŒ‡é’ˆå¼•ç”¨ä¹‹å, å¯¹äºå¯¹è±¡çš„èµ‹å€¼, è¿˜ä¼šå¯¼è‡´<a href="./golang-escape-analysis.md">é—´æ¥èµ‹å€¼çš„é€ƒé€¸é—®é¢˜</a></p><blockquote><p>å‡½æ•°è°ƒç”¨ä¼ å¼•ç”¨ç±»å‹è¿˜æ˜¯å€¼ç±»å‹? (æ¶‰åŠé€ƒé€¸é—®é¢˜)</p></blockquote><p>ä¸€èˆ¬é‡‡ç”¨å¼•ç”¨ç±»å‹, å°‘æ•°é‡‡ç”¨å€¼ç±»å‹, è¿™é‡Œä¸»è¦å‚è€ƒçš„æ˜¯: å‡½æ•°å†…éœ€è¦æˆ–è€…ä¸éœ€è¦ä¿®æ”¹å¼•ç”¨ç±»å‹çš„å€¼;</p><p>å…¶ä»–æƒ…å†µè€ƒè™‘é€ƒé€¸çš„é—®é¢˜, è‹¥å‡½æ•°æ˜¯å˜é‡, åˆ™å‡½æ•°å‚æ•°æ˜¯å¼•ç”¨çš„è¯, ä¼šå¯¼è‡´<a href="./golang-escape-analysis.md">å‡½æ•°å˜é‡é€ƒé€¸</a>.</p><blockquote><p>åå°„çš„åŸç†? (å¦‚ä½•è§£æ struct çš„ tag)</p></blockquote><blockquote><p>recover èƒ½æ•è·å­ goroutine çš„ panic å—?</p></blockquote><blockquote><p>é”ç›¸å…³çš„ä½¿ç”¨æƒ…å†µ?</p></blockquote><blockquote><p>è‡ªå·±ä½¿ç”¨ channel çš„ä½¿ç”¨åœºæ™¯ä»¥åŠå‘?</p></blockquote><h2 id="æ¦‚å¿µç¯‡"><a href="#æ¦‚å¿µç¯‡" class="headerlink" title="æ¦‚å¿µç¯‡"></a>æ¦‚å¿µç¯‡</h2><blockquote><p>å†…å­˜ç®¡ç†</p></blockquote><ol><li>çº¿ç¨‹åç¨‹çš„å ç”¨å†…å­˜å¤§å°?</li></ol><blockquote><p>è¿›ç¨‹æ¨¡å‹</p></blockquote><ol><li>è¿›ç¨‹çŠ¶æ€è½¬æ¢</li></ol><blockquote><p>çº¿ç¨‹æ¨¡å‹</p></blockquote><ol><li>çº¿ç¨‹å¦‚æœå‘ç”Ÿ OOM å¦‚ä½•æ’æŸ¥å¤„ç†? åŒç† goroutine å‘ç”Ÿ OOM ?</li></ol><blockquote><p>è°ƒåº¦é€»è¾‘</p></blockquote><ol><li>ä»€ä¹ˆæ—¶å€™ goroutine é˜»å¡? è°ƒåº¦å™¨å¦‚ä½•å¤„ç†?</li><li>goroutine ä¸€ç›´å ç”¨èµ„æºå¦‚ä½•å¤„ç†?</li></ol><h2 id="æ¡†æ¶ç¯‡"><a href="#æ¡†æ¶ç¯‡" class="headerlink" title="æ¡†æ¶ç¯‡"></a>æ¡†æ¶ç¯‡</h2><blockquote><p>é¡¹ç›®ä¸­å¦‚ä½•é”™è¯¯å¤„ç†?</p></blockquote><blockquote><p>ä¼šè‡ªå®šä¹‰ error é”™è¯¯å¤„ç†å—?</p></blockquote><blockquote><p>gRPC ä½¿ç”¨æƒ…å†µ? æœåŠ¡å‘ç°/è´Ÿå€ºå‡è¡¡çš„å®ç°?</p></blockquote><blockquote><p>proto æ–‡ä»¶å¦‚ä½•ç®¡ç†? (monorepo å°è¯•)</p></blockquote><blockquote><p>å¦‚æœä¸­å¿ƒèŠ‚ç‚¹æŒ‚æ‰å¦‚ä½•å¤„ç†? (Raftç®—æ³•ä¿è¯å¯é æ€§)</p></blockquote><h3 id="å¼€æºæ¡†æ¶"><a href="#å¼€æºæ¡†æ¶" class="headerlink" title="å¼€æºæ¡†æ¶"></a>å¼€æºæ¡†æ¶</h3><p>Web:</p><ul><li><a href="https://github.com/gin-gonic/gin">gin</a></li><li><a href="https://github.com/beego/beego">beego</a></li></ul><blockquote><p>Gin ä¸­çš„è‡ªå®šä¹‰å‚æ•°æ ¡éªŒè§„åˆ™?</p></blockquote><blockquote><p>Gin ä¸­é—´ä»¶çš„ä½¿ç”¨æƒ…å†µ</p></blockquote><p>Game:</p><ul><li><a href="https://github.com/name5566/leaf">leaf</a></li><li><a href="https://github.com/duanhf2012/origin">origin</a></li></ul><blockquote><p>leaf çš„æ¶ˆæ¯è·¯ç”±æ–¹å¼?</p></blockquote><h2 id="æ•°æ®åº“ç¯‡"><a href="#æ•°æ®åº“ç¯‡" class="headerlink" title="æ•°æ®åº“ç¯‡"></a>æ•°æ®åº“ç¯‡</h2><ul><li>mongodb</li><li>mysql</li><li>redis</li></ul><blockquote><p>redis mongodb mysql çš„é”æœºåˆ¶?</p></blockquote><blockquote><p>redis çš„åŸºæœ¬å†…å®¹, ä½¿ç”¨æƒ…å†µ?</p></blockquote><blockquote><p>redis æŒä¹…æ€§å¦‚ä½•å¤„ç†?</p></blockquote><blockquote><p>mysql ORMä½¿ç”¨æƒ…å†µ? (XORM / GORM)</p></blockquote><blockquote><p>mysql åˆ†åº“åˆ†è¡¨æƒ…å†µ? (åˆ†ç‰‡å­˜å‚¨, HBaseå­˜å‚¨)</p></blockquote><blockquote><p>ä¸»ä»æ¨¡å¼/é›†ç¾¤æ¨¡å¼/å“¨å…µæ¨¡å¼åŒºåˆ«?</p></blockquote><h2 id="çº¿ä¸Šç»éªŒ"><a href="#çº¿ä¸Šç»éªŒ" class="headerlink" title="çº¿ä¸Šç»éªŒ"></a>çº¿ä¸Šç»éªŒ</h2><blockquote><p>çº¿ä¸Š bug å¦‚ä½•æ’æŸ¥?</p></blockquote><blockquote><p>å¦‚ä½•åˆ†æçº¿ä¸Šæ€§èƒ½ç“¶é¢ˆ?</p></blockquote><h2 id="ç¼–ç¨‹é¢˜"><a href="#ç¼–ç¨‹é¢˜" class="headerlink" title="ç¼–ç¨‹é¢˜"></a>ç¼–ç¨‹é¢˜</h2><h3 id="å®ç°å­—ç¬¦ä¸²åŒ¹é…æ£€æŸ¥"><a href="#å®ç°å­—ç¬¦ä¸²åŒ¹é…æ£€æŸ¥" class="headerlink" title="å®ç°å­—ç¬¦ä¸²åŒ¹é…æ£€æŸ¥"></a>å®ç°å­—ç¬¦ä¸²åŒ¹é…æ£€æŸ¥</h3><p>æ­£ç¡®è¾“å‡ºä»¥ä¸‹ç»“æœ: å³éœ€è¦åŒæ—¶æˆå¯¹çš„ç¬¦å·, å³åˆ¤æ–­æˆåŠŸ</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;[()]&quot;  =&gt; true</span><br><span class="line">&quot;[(]&quot;   =&gt; false</span><br><span class="line">&quot;&#123;]]&quot;   =&gt; false</span><br></pre></td></tr></table></figure><h3 id="å®ç°ä¸€ç§æˆ–å¤šç§è´Ÿè½½å‡è¡¡ç®—æ³•"><a href="#å®ç°ä¸€ç§æˆ–å¤šç§è´Ÿè½½å‡è¡¡ç®—æ³•" class="headerlink" title="å®ç°ä¸€ç§æˆ–å¤šç§è´Ÿè½½å‡è¡¡ç®—æ³•"></a>å®ç°ä¸€ç§æˆ–å¤šç§è´Ÿè½½å‡è¡¡ç®—æ³•</h3>]]></content>
    
    
    <summary type="html">&lt;p&gt;æœ€è¿‘éœ€è¦ç­”è¾©, æ”¶é›†äº†éƒ¨åˆ†æ¥è‡ªå„æ–¹çš„å®æˆ˜é¢è¯•å†…å®¹, ä¾¿äºå·©å›º.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¦‚æœ‰ä¸å½“ä¹‹å¤„ï¼Œè¯·äºˆæŒ‡æ­£ ğŸ™.&lt;/strong&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="é¢è¯•" scheme="http://muzig.github.io/categories/%E9%9D%A2%E8%AF%95/"/>
    
    
    <category term="golang" scheme="http://muzig.github.io/tags/golang/"/>
    
    <category term="interview" scheme="http://muzig.github.io/tags/interview/"/>
    
  </entry>
  
  <entry>
    <title>Golang Escape Analysis</title>
    <link href="http://muzig.github.io/2020/12/27/golang-escape-analysis/"/>
    <id>http://muzig.github.io/2020/12/27/golang-escape-analysis/</id>
    <published>2020-12-27T14:42:27.000Z</published>
    <updated>2021-02-17T03:22:28.297Z</updated>
    
    <content type="html"><![CDATA[<p>äº†è§£ Golang è¯­è¨€çš„é€ƒé€¸æœºåˆ¶, æœ‰åŠ©äºåœ¨ç¼–å†™ä»£ç çš„æ—¶å€™ç»•å¼€é€ƒé€¸åˆ†æçš„ç¼ºé™·, ä»è€Œç¼–å†™æ›´åŠ é«˜æ•ˆçš„ä»£ç .</p><a id="more"></a><ul><li><a href="#%E5%85%B3%E4%BA%8E%E5%A0%86%E6%A0%88">å…³äºå †æ ˆ</a></li><li><a href="#%E9%80%83%E9%80%B8%E5%88%86%E6%9E%90">é€ƒé€¸åˆ†æ</a><ul><li><a href="#%E5%87%BD%E6%95%B0%E5%8F%98%E9%87%8F">å‡½æ•°å˜é‡</a></li><li><a href="#%E9%97%B4%E6%8E%A5%E8%B5%8B%E5%80%BC">é—´æ¥èµ‹å€¼</a></li><li><a href="#interface">interface</a></li><li><a href="#channel">channel</a></li><li><a href="#%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0">å¯å˜å‚æ•°</a></li></ul></li><li><a href="#%E6%80%BB%E7%BB%93">æ€»ç»“</a></li><li><a href="#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5">å‚è€ƒé“¾æ¥</a></li></ul><p>Go è¯­è¨€è¾ƒä¹‹ C è¯­è¨€ä¸€ä¸ªå¾ˆå¤§çš„ä¼˜åŠ¿å°±æ˜¯è‡ªå¸¦ GC åŠŸèƒ½ï¼Œå¯ GC å¹¶ä¸æ˜¯æ²¡æœ‰ä»£ä»·çš„ã€‚å†™ C è¯­è¨€çš„æ—¶å€™ï¼Œåœ¨ä¸€ä¸ªå‡½æ•°å†…å£°æ˜çš„å˜é‡ï¼Œåœ¨å‡½æ•°é€€å‡ºåä¼šè‡ªåŠ¨é‡Šæ”¾æ‰ï¼Œå› ä¸ºè¿™äº›å˜é‡åˆ†é…åœ¨æ ˆä¸Šã€‚å¦‚æœä½ æƒ³è¦å˜é‡çš„æ•°æ®èƒ½åœ¨å‡½æ•°é€€å‡ºåè¿˜èƒ½è®¿é—®ï¼Œå°±éœ€è¦è°ƒç”¨ malloc æ–¹æ³•åœ¨å †ä¸Šç”³è¯·å†…å­˜ï¼Œå¦‚æœç¨‹åºä¸å†éœ€è¦è¿™å—å†…å­˜äº†ï¼Œå†è°ƒç”¨ free æ–¹æ³•é‡Šæ”¾æ‰ã€‚Go è¯­è¨€ä¸éœ€è¦ä½ ä¸»åŠ¨è°ƒç”¨ malloc æ¥åˆ†é…å †ç©ºé—´ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨åˆ†æï¼Œæ‰¾å‡ºéœ€è¦ malloc çš„å˜é‡ï¼Œä½¿ç”¨å †å†…å­˜ã€‚ç¼–è¯‘å™¨çš„è¿™ä¸ªåˆ†æè¿‡ç¨‹å°±å«åšé€ƒé€¸åˆ†æã€‚</p><h2 id="å…³äºå †æ ˆ"><a href="#å…³äºå †æ ˆ" class="headerlink" title="å…³äºå †æ ˆ"></a>å…³äºå †æ ˆ</h2><p>åŒºåˆ«å¦‚ä¸‹:</p><ol><li>ç”³è¯·æ–¹å¼çš„ä¸åŒã€‚æ ˆç”±ç³»ç»Ÿè‡ªåŠ¨åˆ†é…ï¼Œè€Œå †æ˜¯äººä¸ºç”³è¯·å¼€è¾Ÿ;</li><li>ç”³è¯·å¤§å°çš„ä¸åŒã€‚æ ˆè·å¾—çš„ç©ºé—´è¾ƒå°ï¼Œè€Œå †è·å¾—çš„ç©ºé—´è¾ƒå¤§;</li><li>ç”³è¯·æ•ˆç‡çš„ä¸åŒã€‚æ ˆç”±ç³»ç»Ÿè‡ªåŠ¨åˆ†é…ï¼Œé€Ÿåº¦è¾ƒå¿«ï¼Œè€Œå †ä¸€èˆ¬é€Ÿåº¦æ¯”è¾ƒæ…¢;</li><li>å­˜å‚¨å†…å®¹çš„ä¸åŒã€‚æ ˆåœ¨å‡½æ•°è°ƒç”¨æ—¶ï¼Œå‡½æ•°è°ƒç”¨è¯­å¥çš„ä¸‹ä¸€æ¡å¯æ‰§è¡Œè¯­å¥çš„åœ°å€ç¬¬ä¸€ä¸ªè¿›æ ˆï¼Œç„¶åå‡½æ•°çš„å„ä¸ªå‚æ•°è¿›æ ˆï¼Œå…¶ä¸­é™æ€å˜é‡æ˜¯ä¸å…¥æ ˆçš„ã€‚è€Œå †ä¸€èˆ¬æ˜¯åœ¨å¤´éƒ¨ç”¨ä¸€ä¸ªå­—èŠ‚å­˜æ”¾å †çš„å¤§å°ï¼Œå †ä¸­çš„å…·ä½“å†…å®¹æ˜¯äººä¸ºå®‰æ’;</li><li>åº•å±‚ä¸åŒã€‚æ ˆæ˜¯è¿ç»­çš„ç©ºé—´ï¼Œè€Œå †æ˜¯ä¸è¿ç»­çš„ç©ºé—´ã€‚</li></ol><p>è¯¦ç»†ç»†èŠ‚é“¾æ¥:</p><ul><li><a href="https://www.ardanlabs.com/blog/2017/05/language-mechanics-on-stacks-and-pointers.html">Language Mechanics On Stacks And Pointers</a></li><li><a href="https://www.ardanlabs.com/blog/2017/05/language-mechanics-on-escape-analysis.html">Language Mechanics On Escape Analysis</a></li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">stack</span><span class="params">()</span> <span class="title">int</span></span> &#123; </span><br><span class="line">    <span class="comment">// å˜é‡ i ä¼šåœ¨æ ˆä¸Šåˆ†é…</span></span><br><span class="line">     i := <span class="number">10</span></span><br><span class="line">     <span class="keyword">return</span> i</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">heap</span><span class="params">()</span> *<span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="comment">// å˜é‡ j ä¼šåœ¨å †ä¸Šåˆ†é…</span></span><br><span class="line">    j := <span class="number">10</span></span><br><span class="line">    <span class="keyword">return</span> &amp;j</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ†ææ±‡ç¼–æŒ‡ä»¤å¦‚ä¸‹:</span></span><br><span class="line">go build --gcflags <span class="string">&#x27;-l&#x27;</span> test.go</span><br><span class="line">go tool objdump ./<span class="built_in">test</span></span><br></pre></td></tr></table></figure><blockquote><p>!!! ä¸è¦ä»¥ä¸ºä½¿ç”¨äº†å †å†…å­˜å°±ä¸€å®šä¼šå¯¼è‡´æ€§èƒ½ä½ä¸‹ï¼Œä½¿ç”¨æ ˆå†…å­˜ä¼šå¸¦æ¥æ€§èƒ½ä¼˜åŠ¿ã€‚å› ä¸ºå®é™…é¡¹ç›®ä¸­ï¼Œç³»ç»Ÿçš„æ€§èƒ½ç“¶é¢ˆä¸€èˆ¬éƒ½ä¸ä¼šå‡ºç°åœ¨å†…å­˜åˆ†é…ä¸Šã€‚åƒä¸‡ä¸è¦ç›²ç›®ä¼˜åŒ–ï¼Œæ‰¾åˆ°ç³»ç»Ÿç“¶é¢ˆï¼Œç”¨æ•°æ®é©±åŠ¨ä¼˜åŒ–ã€‚</p></blockquote><h2 id="é€ƒé€¸åˆ†æ"><a href="#é€ƒé€¸åˆ†æ" class="headerlink" title="é€ƒé€¸åˆ†æ"></a>é€ƒé€¸åˆ†æ</h2><p>éœ€è¦ä½¿ç”¨å †ç©ºé—´åˆ™é€ƒé€¸ï¼Œè¿™æ²¡ä»€ä¹ˆå¯äº‰è®®çš„ã€‚ä½†ç¼–è¯‘å™¨æœ‰æ—¶ä¼šå°†ä¸éœ€è¦ä½¿ç”¨å †ç©ºé—´çš„å˜é‡ï¼Œä¹Ÿé€ƒé€¸æ‰ã€‚è¿™é‡Œæ˜¯å®¹æ˜“å‡ºç°æ€§èƒ½é—®é¢˜çš„å¤§å‘ã€‚ç½‘ä¸Šæœ‰å¾ˆå¤šç›¸å…³æ–‡ç« ï¼Œåˆ—ä¸¾äº†ä¸€äº›å¯¼è‡´é€ƒé€¸æƒ…å†µï¼Œå…¶å®æ€»ç»“èµ·æ¥å°±ä¸€å¥è¯ï¼š</p><p><strong>å¤šçº§é—´æ¥èµ‹å€¼å®¹æ˜“å¯¼è‡´é€ƒé€¸ã€‚</strong></p><p>Go è¯­è¨€ä¸­çš„å¼•ç”¨ç±»æ•°æ®ç±»å‹æœ‰ func, interface, slice, map, chan, *Type(æŒ‡é’ˆ)ã€‚</p><p>è®°ä½å…¬å¼ Data.Field = Valueï¼Œå¦‚æœ Data, Field éƒ½æ˜¯å¼•ç”¨ç±»çš„æ•°æ®ç±»å‹ï¼Œåˆ™ä¼šå¯¼è‡´ Value é€ƒé€¸ã€‚è¿™é‡Œçš„ç­‰å· = ä¸å•å•åªèµ‹å€¼ï¼Œä¹Ÿè¡¨ç¤ºå‚æ•°ä¼ é€’ã€‚</p><h3 id="å‡½æ•°å˜é‡"><a href="#å‡½æ•°å˜é‡" class="headerlink" title="å‡½æ•°å˜é‡"></a>å‡½æ•°å˜é‡</h3><blockquote><p>è‹¥å‡½æ•°æ˜¯å˜é‡, ä¸”å‚æ•°ä¹Ÿæ˜¯å¼•ç”¨ç±»å‹, åˆ™ä¼šå‘ç”Ÿé€ƒé€¸</p></blockquote><h3 id="é—´æ¥èµ‹å€¼"><a href="#é—´æ¥èµ‹å€¼" class="headerlink" title="é—´æ¥èµ‹å€¼"></a>é—´æ¥èµ‹å€¼</h3><blockquote><p>è‰¯å¥½çš„å†™æ³•æ˜¯, åœ¨è¿”å›çš„æ—¶å€™å†å¼•ç”¨åœ°å€</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Data <span class="keyword">struct</span> &#123;</span><br><span class="line">    data  <span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">int</span></span><br><span class="line">    slice []<span class="keyword">int</span></span><br><span class="line">    ch    <span class="keyword">chan</span> <span class="keyword">int</span></span><br><span class="line">    inf   <span class="keyword">interface</span>&#123;&#125;</span><br><span class="line">    p     *<span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    d1 := Data&#123;&#125;</span><br><span class="line">    d1.data = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">int</span>) <span class="comment">// GOOD: does not escape</span></span><br><span class="line">    d1.slice = <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="number">4</span>)   <span class="comment">// GOOD: does not escape</span></span><br><span class="line">    d1.ch = <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>, <span class="number">4</span>)   <span class="comment">// GOOD: does not escape</span></span><br><span class="line">    d1.inf = <span class="number">3</span>                  <span class="comment">// GOOD: does not escape</span></span><br><span class="line">    d1.p = <span class="built_in">new</span>(<span class="keyword">int</span>)             <span class="comment">//  GOOD: does not escape</span></span><br><span class="line"></span><br><span class="line">    d2 := <span class="built_in">new</span>(Data)             <span class="comment">// d2 æ˜¯æŒ‡é’ˆå˜é‡ï¼Œ ä¸‹é¢ä¸ºè¯¥æŒ‡é’ˆå˜é‡ä¸­çš„æŒ‡é’ˆæˆå‘˜èµ‹å€¼</span></span><br><span class="line">    d2.data = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">int</span>) <span class="comment">// BAD: escape to heap</span></span><br><span class="line">    d2.slice = <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="number">4</span>)   <span class="comment">// BAD:  escape to heap</span></span><br><span class="line">    d2.ch = <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>, <span class="number">4</span>)   <span class="comment">// BAD:  escape to heap</span></span><br><span class="line">    d2.inf = <span class="number">3</span>                  <span class="comment">// BAD:  escape to heap</span></span><br><span class="line">    d2.p = <span class="built_in">new</span>(<span class="keyword">int</span>)             <span class="comment">// BAD:  escape to heap</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="interface"><a href="#interface" class="headerlink" title="interface"></a>interface</h3><p>åªè¦ä½¿ç”¨äº† Interface ç±»å‹(ä¸æ˜¯ interafce{})ï¼Œé‚£ä¹ˆèµ‹å€¼ç»™å®ƒçš„å˜é‡ä¸€å®šä¼šé€ƒé€¸ã€‚å› ä¸º interfaceVariable.Method() å…ˆæ˜¯é—´æ¥çš„å®šä½åˆ°å®ƒçš„å®é™…å€¼ï¼Œå†è°ƒç”¨å®é™…å€¼çš„åŒåæ–¹æ³•ï¼Œæ‰§è¡Œæ—¶å®é™…å€¼ä½œä¸ºå‚æ•°ä¼ é€’ç»™æ–¹æ³•ã€‚ç›¸å½“äºinterfaceVariable.Method.this = realValue</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Iface <span class="keyword">interface</span> &#123;</span><br><span class="line">    Dummy()</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> Integer <span class="keyword">int</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(i Integer)</span> <span class="title">Dummy</span><span class="params">()</span></span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> (</span><br><span class="line">        iface Iface</span><br><span class="line">        i     Integer</span><br><span class="line">    )</span><br><span class="line">    iface = i</span><br><span class="line">    iface.Dummy() <span class="comment">//  make i escape to heap</span></span><br><span class="line">    <span class="comment">// å½¢æˆ iface.Dummy.i = i</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="channel"><a href="#channel" class="headerlink" title="channel"></a>channel</h3><blockquote><p>å‘é€åˆ° channel çš„æ•°æ®ç±»å‹éƒ½å°†é€ƒé€¸</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> (</span><br><span class="line">        chInteger   = <span class="built_in">make</span>(<span class="keyword">chan</span> *<span class="keyword">int</span>)</span><br><span class="line">        chMap       = <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">int</span>)</span><br><span class="line">        chSlice     = <span class="built_in">make</span>(<span class="keyword">chan</span> []<span class="keyword">int</span>)</span><br><span class="line">        chInterface = <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">interface</span>&#123;&#125;)</span><br><span class="line">        a, b, c, d  = <span class="number">0</span>, <span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">int</span>&#123;&#125;, []<span class="keyword">int</span>&#123;&#125;, <span class="number">32</span></span><br><span class="line">    )</span><br><span class="line">    chInteger &lt;- &amp;a  <span class="comment">// é€ƒé€¸</span></span><br><span class="line">    chMap &lt;- b       <span class="comment">// é€ƒé€¸</span></span><br><span class="line">    chSlice &lt;- c     <span class="comment">// é€ƒé€¸</span></span><br><span class="line">    chInterface &lt;- d <span class="comment">// é€ƒé€¸</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¯å˜å‚æ•°"><a href="#å¯å˜å‚æ•°" class="headerlink" title="å¯å˜å‚æ•°"></a>å¯å˜å‚æ•°</h3><p>å¯å˜å‚æ•°å¦‚ func(arg â€¦string) å®é™…ä¸ func(arg []string) æ˜¯ä¸€æ ·çš„ï¼Œä¼šå¢åŠ ä¸€å±‚è®¿é—®è·¯å¾„ã€‚è¿™ä¹Ÿæ˜¯ fmt.Sprintf æ€»æ˜¯ä¼šä½¿å‚æ•°é€ƒé€¸çš„åŸå› ã€‚</p><p>ä¾‹å­éå¸¸å¤šï¼Œè¿™é‡Œä¸èƒ½ä¸€ä¸€åˆ—ä¸¾ï¼Œæˆ‘ä»¬åªéœ€è¦è®°ä½åˆ†ææ–¹æ³•å°±å¥½</p><p>å³ï¼Œ2 çº§æˆ–æ›´å¤šçº§çš„è®¿é—®èµ‹å€¼ä¼šå®¹æ˜“å¯¼è‡´æ•°æ®é€ƒé€¸ã€‚è¿™é‡ŒåŠ ä¸Šå®¹æ˜“äºŒå­—æ˜¯å› ä¸ºéšç€è¯­è¨€çš„å‘å±•ï¼Œç›¸ä¿¡è¿™äº›é—®é¢˜ä¼šè¢«æ…¢æ…¢è§£å†³ï¼Œä½†ç°é˜¶æ®µï¼Œè¿™ä¸ªå¯ä»¥ä½œä¸ºæˆ‘ä»¬åˆ†æé€ƒé€¸ç°è±¡çš„ä¾æ®ã€‚</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> User <span class="keyword">struct</span> &#123;</span><br><span class="line">    roles []<span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(u *User)</span> <span class="title">SetRoles</span><span class="params">(roles []<span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">    u.roles = roles</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">SetRoles</span><span class="params">(u User, roles []<span class="keyword">string</span>)</span> <span class="title">User</span></span> &#123;</span><br><span class="line">    u.roles = roles</span><br><span class="line">    <span class="keyword">return</span> u</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> User <span class="keyword">struct</span> &#123;</span><br><span class="line">    A []<span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(u *User)</span> <span class="title">Set</span><span class="params">(a []<span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">    u.A = a</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">SetUser</span><span class="params">(user User, a []<span class="keyword">string</span>)</span> <span class="title">User</span></span> &#123;</span><br><span class="line">    user.A = a</span><br><span class="line">    <span class="keyword">return</span> user</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">BenchmarkUser</span><span class="params">(b *testing.B)</span></span> &#123;</span><br><span class="line">    <span class="comment">// BenchmarkUser-4      39182143            29.0 ns/op</span></span><br><span class="line">    <span class="comment">//u := new(User)</span></span><br><span class="line">    <span class="comment">//for i := 0; i &lt; b.N; i++ &#123;</span></span><br><span class="line">    <span class="comment">//  u.Set([]string&#123;&quot;a&quot;&#125;)</span></span><br><span class="line">    <span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// BenchmarkUser-4   1000000000         0.585 ns/op</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; b.N; i++ &#123;</span><br><span class="line">        _ = SetUser(User&#123;&#125;, []<span class="keyword">string</span>&#123;<span class="string">&quot;a&quot;</span>&#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ol><li>å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæ€§èƒ½ä¼˜åŒ–éƒ½ä¼šä¸ºç¨‹åºå¸¦æ¥ä¸€å®šçš„å¤æ‚åº¦ã€‚<strong>å»ºè®®å®é™…é¡¹ç›®ä¸­è¿˜æ˜¯æ€ä¹ˆæ–¹ä¾¿æ€ä¹ˆå†™ï¼ŒåŠŸèƒ½å®Œæˆåé€šè¿‡æ€§èƒ½åˆ†ææ‰¾åˆ°ç“¶é¢ˆæ‰€åœ¨ï¼Œå†å¯¹å±€éƒ¨è¿›è¡Œä¼˜åŒ–ã€‚</strong></li><li>å¤šçº§é—´æ¥èµ‹å€¼ä¼šå¯¼è‡´ Go ç¼–è¯‘å™¨å‡ºç°ä¸å¿…è¦çš„é€ƒé€¸ï¼Œåœ¨ä¸€äº›æƒ…å†µä¸‹å¯èƒ½æˆ‘ä»¬åªéœ€è¦ä¿®æ”¹ä¸€ä¸‹æ•°æ®ç»“æ„å°±ä¼šä½¿æ€§èƒ½æœ‰å¤§å¹…æå‡ã€‚è¿™ä¹Ÿæ˜¯å¾ˆå¤šäººä¸æ¨èåœ¨ Go ä¸­ä½¿ç”¨æŒ‡é’ˆçš„åŸå› ï¼Œå› ä¸ºå®ƒä¼šå¢åŠ ä¸€çº§è®¿é—®è·¯å¾„ï¼Œè€Œ map, slice, interface{}ç­‰ç±»å‹æ˜¯ä¸å¯é¿å…è¦ç”¨åˆ°çš„ï¼Œä¸ºäº†å‡å°‘ä¸å¿…è¦çš„é€ƒé€¸ï¼Œåªèƒ½æ‹¿æŒ‡é’ˆå¼€åˆ€äº†ã€‚</li></ol><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><ul><li><a href="https://www.jianshu.com/p/518466b4ee96">è¾¾è²æ ¼-Go è¯­è¨€å†…å­˜ç®¡ç†ï¼ˆä¸‰ï¼‰ï¼šé€ƒé€¸åˆ†æ</a></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;äº†è§£ Golang è¯­è¨€çš„é€ƒé€¸æœºåˆ¶, æœ‰åŠ©äºåœ¨ç¼–å†™ä»£ç çš„æ—¶å€™ç»•å¼€é€ƒé€¸åˆ†æçš„ç¼ºé™·, ä»è€Œç¼–å†™æ›´åŠ é«˜æ•ˆçš„ä»£ç .&lt;/p&gt;</summary>
    
    
    
    <category term="åç«¯" scheme="http://muzig.github.io/categories/%E5%90%8E%E7%AB%AF/"/>
    
    
    <category term="golang" scheme="http://muzig.github.io/tags/golang/"/>
    
    <category term="escape-analysis" scheme="http://muzig.github.io/tags/escape-analysis/"/>
    
  </entry>
  
  <entry>
    <title>Golang GC</title>
    <link href="http://muzig.github.io/2020/12/26/golang-GC/"/>
    <id>http://muzig.github.io/2020/12/26/golang-GC/</id>
    <published>2020-12-26T23:32:41.000Z</published>
    <updated>2021-02-17T03:22:28.297Z</updated>
    
    <content type="html"><![CDATA[<ul><li>æ ‡è®°æ¸…é™¤</li><li>å¹¶è¡Œæ ‡è®°æ¸…é™¤</li><li>ä¸‰è‰²æ ‡è®°æ³•</li><li>Hybrid Write Barrier</li></ul><a id="more"></a><ul><li><a href="#%E6%A0%87%E8%AE%B0%E6%B8%85%E9%99%A4--%E5%B9%B6%E8%A1%8C%E6%A0%87%E8%AE%B0%E6%B8%85%E9%99%A4">æ ‡è®°æ¸…é™¤ &amp; å¹¶è¡Œæ ‡è®°æ¸…é™¤</a></li><li><a href="#%E4%B8%89%E8%89%B2%E6%A0%87%E8%AE%B0%E6%B3%95">ä¸‰è‰²æ ‡è®°æ³•</a></li><li><a href="#hybrid-write-barrier-%E6%B7%B7%E5%90%88%E5%86%99%E5%B1%8F%E9%9A%9C">Hybrid Write Barrier (æ··åˆå†™å±éšœ)</a></li><li><a href="#%E4%BD%95%E6%97%B6%E8%A7%A6%E5%8F%91-gc">ä½•æ—¶è§¦å‘ GC</a></li><li><a href="#%E5%85%B6%E4%BB%96%E4%BC%98%E5%8C%96">å…¶ä»–ä¼˜åŒ–</a></li><li><a href="#%E5%B1%95%E6%9C%9B">å±•æœ›</a></li><li><a href="#%E7%BB%93%E8%AE%BA">ç»“è®º</a></li><li><a href="#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5">å‚è€ƒé“¾æ¥</a></li></ul><h2 id="æ ‡è®°æ¸…é™¤-amp-å¹¶è¡Œæ ‡è®°æ¸…é™¤"><a href="#æ ‡è®°æ¸…é™¤-amp-å¹¶è¡Œæ ‡è®°æ¸…é™¤" class="headerlink" title="æ ‡è®°æ¸…é™¤ &amp; å¹¶è¡Œæ ‡è®°æ¸…é™¤"></a>æ ‡è®°æ¸…é™¤ &amp; å¹¶è¡Œæ ‡è®°æ¸…é™¤</h2><p>GC å¼€å§‹ä¹‹å, å¯åŠ¨ STW ç„¶åä» root å¼€å§‹,  root åŒºå€¼å½“å‰æ‰€æœ‰ goroutine çš„æ ˆå’Œå…¨å±€æ•°æ®åŒºçš„å˜é‡(ä¸»è¦æ˜¯è¿™ 2 ä¸ªåœ°æ–¹), å°†èƒ½è¢«è§¦åŠçš„ object æ ‡è®°, å‰©ä¸‹çš„å°±æ˜¯å¯å›æ”¶çš„; æœ€åå†æ¸…ç†æ”¾å› mcache ä¸­, ä»¥å¤‡åç»­ä½¿ç”¨.</p><p>å¹¶è¡Œæ ‡è®°æ¸…é™¤, å®é™…ä¸Šæ˜¯æ¸…ç†è¿‡ç¨‹ä¸éœ€è¦ STW, å‡å°‘äº† STW çš„æ—¶é—´.</p><h2 id="ä¸‰è‰²æ ‡è®°æ³•"><a href="#ä¸‰è‰²æ ‡è®°æ³•" class="headerlink" title="ä¸‰è‰²æ ‡è®°æ³•"></a>ä¸‰è‰²æ ‡è®°æ³•</h2><p><img src="/../img/gc_algorithm.png" alt="gc-algorithm"></p><ol><li>æ­£å¸¸æƒ…å†µä¸‹ï¼Œå†™æ“ä½œå°±æ˜¯æ­£å¸¸çš„èµ‹å€¼ã€‚</li><li>GC å¼€å§‹ï¼Œå¼€å¯å†™å±éšœç­‰å‡†å¤‡å·¥ä½œã€‚å¼€å¯å†™å±éšœç­‰å‡†å¤‡å·¥ä½œéœ€è¦çŸ­æš‚çš„ STWã€‚</li><li>Stack scan é˜¶æ®µï¼Œä»å…¨å±€ç©ºé—´å’Œ goroutine æ ˆç©ºé—´ä¸Šæ”¶é›†å˜é‡ã€‚</li><li>Mark é˜¶æ®µï¼Œæ‰§è¡Œä¸Šè¿°çš„ä¸‰è‰²æ ‡è®°æ³•ï¼Œç›´åˆ°æ²¡æœ‰ç°è‰²å¯¹è±¡ã€‚</li><li>Mark termination é˜¶æ®µï¼Œå¼€å¯ STWï¼Œå›å¤´é‡æ–°æ‰«æ root åŒºåŸŸæ–°å˜é‡ï¼Œå¯¹ä»–ä»¬è¿›è¡Œæ ‡è®°ã€‚</li><li>Sweep é˜¶æ®µï¼Œå…³é—­ STW å’Œ å†™å±éšœï¼Œå¯¹ç™½è‰²å¯¹è±¡è¿›è¡Œæ¸…é™¤ã€‚</li></ol><h2 id="Hybrid-Write-Barrier-æ··åˆå†™å±éšœ"><a href="#Hybrid-Write-Barrier-æ··åˆå†™å±éšœ" class="headerlink" title="Hybrid Write Barrier (æ··åˆå†™å±éšœ)"></a>Hybrid Write Barrier (æ··åˆå†™å±éšœ)</h2><p>Go åœ¨ 1.8 ç‰ˆæœ¬å¼•å…¥äº†æ··åˆå†™å±éšœï¼Œå…¶ä¼šåœ¨èµ‹å€¼å‰ï¼Œå¯¹æ—§æ•°æ®ç½®ç°ï¼Œå†è§†æƒ…å†µå¯¹æ–°å€¼è¿›è¡Œç½®ç°ã€‚</p><p><img src="/../img/gc-hyber.png" alt="gc-hybrid"></p><h2 id="ä½•æ—¶è§¦å‘-GC"><a href="#ä½•æ—¶è§¦å‘-GC" class="headerlink" title="ä½•æ—¶è§¦å‘ GC"></a>ä½•æ—¶è§¦å‘ GC</h2><ul><li>å®¹é‡è§¦å‘ - è¾¾åˆ°è®¾ç½®çš„é˜ˆå€¼è§¦å‘ GC, é»˜è®¤ä¸º100(å³å†…å­˜å¢é•¿100%å³è§¦å‘ä¸€æ¬¡), å¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡ GOGC æˆ–è€… debug.SetGCPercent()</li><li>æ—¶é—´è§¦å‘ - æ¯éš” 2 åˆ†é’Ÿ, è§¦å‘ä¸€æ¬¡ GC</li><li>æ‰‹åŠ¨è§¦å‘ - runtime.GC()</li></ul><h2 id="å…¶ä»–ä¼˜åŒ–"><a href="#å…¶ä»–ä¼˜åŒ–" class="headerlink" title="å…¶ä»–ä¼˜åŒ–"></a>å…¶ä»–ä¼˜åŒ–</h2><ul><li>åªä¼šå ç”¨ 25% çš„ cpu ç®—åŠ›å¤„ç† GC é€»è¾‘, ä¿è¯å‡å°‘å¯¹ç”¨æˆ·çš„å½±å“. è‹¥ä¸‹ä¸€è½® GC è§¦å‘, ä¼šç­‰å¾…ä¸Šä¸€è½®æ‰§è¡Œå®Œæ¯•</li><li>å¯¹äº tiny å¯¹è±¡, ç›´æ¥æ ‡è®°é»‘è‰², æ²¡æœ‰ç°è‰²é˜¶æ®µ, å› ä¸ºä¸å­˜åœ¨å¼•ç”¨å¯¹è±¡</li><li>é‡‡ç”¨å¯¹è±¡æ± çš„æ–¹å¼, å‡å°‘ GC çš„å‹åŠ›, ä½†å®é™…ä¸Šä¹Ÿä¼šå­˜åœ¨æ ‡è®°çš„å‹åŠ›; å¦‚æœå¯ä»¥æ”¾åœ¨æ°¸ä¹…æ ‡è®°, å°±å¯ä»¥å‡å°‘æ ‡è®°å‹åŠ›</li><li>ç›´æ¥ç”³è¯·å¤§å†…å­˜(å¤§äº32k), å¯¹ GC æ¥è¯´æ˜¯ä¸€ä¸ª largespan; éœ€è¦è‡ªè¡Œä»£ç ç®¡ç†</li></ul><h2 id="å±•æœ›"><a href="#å±•æœ›" class="headerlink" title="å±•æœ›"></a>å±•æœ›</h2><ol><li>å¼•å…¥åˆ†ä»£æœºåˆ¶, åƒ JVM é‚£æ ·å†…å­˜åˆ†ä¸º ä¸€çº§/äºŒçº§/æ°¸ä¹…, ä¸åŒçº§åˆ«, é‡‡ç”¨ä¸åŒçš„è®¡ç®—èµ„æº</li></ol><h2 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h2><ol><li>å‡å°‘å±‚çº§æ•° - åµŒå¥—å±‚çº§è¶Šå¤š, å¯¹äº GC çš„å‹åŠ›è¶Šå¤§; å¦‚: chan map[string][]*string</li></ol><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><ul><li><a href="https://wudaijun.com/2020/01/go-gc-keypoint-and-monitor/">Golang GCæ ¸å¿ƒè¦ç‚¹å’Œåº¦é‡æ–¹æ³•</a></li><li><a href="https://wudaijun.com/2017/12/gc-study/">å¸¸è§GCç®—æ³•åŠGolang GC</a></li><li><a href="https://www.jianshu.com/p/0083a90a8f7e">è¾¾è²æ ¼-Go è¯­è¨€å†…å­˜ç®¡ç†ï¼ˆå››ï¼‰</a></li></ul>]]></content>
    
    
    <summary type="html">&lt;ul&gt;
&lt;li&gt;æ ‡è®°æ¸…é™¤&lt;/li&gt;
&lt;li&gt;å¹¶è¡Œæ ‡è®°æ¸…é™¤&lt;/li&gt;
&lt;li&gt;ä¸‰è‰²æ ‡è®°æ³•&lt;/li&gt;
&lt;li&gt;Hybrid Write Barrier&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    <category term="åç«¯" scheme="http://muzig.github.io/categories/%E5%90%8E%E7%AB%AF/"/>
    
    
    <category term="golang" scheme="http://muzig.github.io/tags/golang/"/>
    
    <category term="gc" scheme="http://muzig.github.io/tags/gc/"/>
    
  </entry>
  
  <entry>
    <title>Golang Scheduling</title>
    <link href="http://muzig.github.io/2020/12/26/golang-scheduling/"/>
    <id>http://muzig.github.io/2020/12/26/golang-scheduling/</id>
    <published>2020-12-26T15:40:47.000Z</published>
    <updated>2021-02-17T03:22:28.297Z</updated>
    
    <content type="html"><![CDATA[<p>ç†Ÿæ‚‰ Golang çš„è°ƒåº¦åŸç†, èƒ½å¤Ÿå¸®åŠ©ç¼–å†™æ›´åŠ é«˜æ•ˆçš„å¹¶å‘é€»è¾‘; åŒæ—¶è¿˜èƒ½é¿å…è°ƒåº¦ç›¸å…³çš„å‘.</p><a id="more"></a><ul><li><a href="#gpm-%E6%A8%A1%E5%9E%8B">GPM æ¨¡å‹</a></li><li><a href="#%E8%B0%83%E5%BA%A6%E6%B5%81%E7%A8%8B">è°ƒåº¦æµç¨‹</a></li><li><a href="#%E7%94%A8%E6%88%B7%E6%96%B9%E5%BC%8F%E9%98%BB%E5%A1%9E%E5%94%A4%E9%86%92">ç”¨æˆ·æ–¹å¼é˜»å¡/å”¤é†’</a></li><li><a href="#syscall">syscall</a></li><li><a href="#sysmon">sysmon</a></li><li><a href="#%E6%8A%A2%E5%8D%A0%E5%BC%8F%E8%B0%83%E5%BA%A6">æŠ¢å å¼è°ƒåº¦</a></li><li><a href="#netpoll">netpoll</a></li><li><a href="#g-%E7%9A%84%E5%88%9B%E5%BB%BA%E6%B5%81%E7%A8%8B">g çš„åˆ›å»ºæµç¨‹</a></li><li><a href="#g-%E7%9A%84%E6%9A%82%E5%81%9C%E6%96%B9%E5%BC%8F">g çš„æš‚åœæ–¹å¼</a></li><li><a href="#go-%E8%B0%83%E5%BA%A6%E6%9F%A5%E7%9C%8B%E6%96%B9%E5%BC%8F">Go è°ƒåº¦æŸ¥çœ‹æ–¹å¼</a></li><li><a href="#%E6%80%BB%E7%BB%93">æ€»ç»“</a></li><li><a href="#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5">å‚è€ƒé“¾æ¥</a></li></ul><h2 id="GPM-æ¨¡å‹"><a href="#GPM-æ¨¡å‹" class="headerlink" title="GPM æ¨¡å‹"></a>GPM æ¨¡å‹</h2><p>æ–‡ä»¶ä½ç½®: src/runtime/runtime2.go</p><ul><li>g(goroutine): å¯¹åº”åˆ° g ç»“æ„ä½“, ä¿å­˜ goroutin éœ€è¦çš„å †æ ˆä¿¡æ¯</li><li>p(process):   ç›¸å½“äº g çš„é©±åŠ¨, åªæœ‰ç»‘å®šåœ¨ local runq ä¸‹, æ‰èƒ½è¢«è°ƒåº¦</li><li>m(machine):   OS çº¿ç¨‹æŠ½è±¡, çœŸæ­£çš„é©±åŠ¨åŠ›, å’ŒæŸä¸ª p ç»‘å®š, ç„¶å p ä» local runq ä¸­ä¾æ¬¡å–å‡º g ç”¨æ¥æ‰§è¡Œ</li></ul><p><img src="/../img/go-shechduling.png" alt="go-sheduling"></p><p>è¡¥å……:</p><ol><li>æœ€æ—© go1.1 ä»…ä»…æ˜¯ GM æ¨¡å¼, åç»­ Dmitry Vyukov ä¸ºäº†è§£å†³<strong>å¹¶å‘ä¼¸ç¼©æ€§</strong>é—®é¢˜, å¼•å…¥ p çš„æ¦‚å¿µ <a href="https://github.com/muzig/muzig.github.io/blob/main/source/pdf/Scalable%20Go%20Scheduler%20Design%20Doc.pdf">ææ¡ˆæ–‡æ¡£</a></li><li>g çš„æ•°é‡å—é™äº GOMAXPROCS, å³è¶…çº¿ç¨‹æ•°é‡, ä¸€èˆ¬ intel cpu å…·æœ‰è¶…çº¿ç¨‹æŠ€æœ¯, åŒæ ¸å››çº¿ç¨‹, å³æ•°é‡ä¸º4</li><li>m çš„ä¸ªæ•°æ˜¯ä¸å®šçš„ï¼Œç”±Go Runtimeè°ƒæ•´ï¼Œé»˜è®¤æœ€å¤§é™åˆ¶ä¸º10000ä¸ª</li></ol><h2 id="è°ƒåº¦æµç¨‹"><a href="#è°ƒåº¦æµç¨‹" class="headerlink" title="è°ƒåº¦æµç¨‹"></a>è°ƒåº¦æµç¨‹</h2><ol><li>m ä¸ p ç»‘å®š, m ä» p çš„ local runq ä¸­å–å‡ºå¹¶åˆ‡æ¢åˆ° g çš„å †æ ˆæ‰§è¡Œ<ol><li>è‹¥ local runq å­˜åœ¨ g, åˆ™æ‰§è¡Œ(æ— é”)</li><li>è‹¥ä¸å­˜åœ¨, ä» global runq å–å‡º g æ‰§è¡Œ(æœ‰é”)</li><li>è‹¥ä¾ç„¶ä¸å­˜åœ¨, åˆ™ä»å…¶ä»– p â€œçªƒå–â€ g æ‰§è¡Œ</li></ol></li><li>è‹¥æ²¡æœ‰ g å¯ä»¥æ‰§è¡Œ, åˆ™ m ä¸ p è§£ç»‘, è¿›å…¥ä¼‘çœ æ¨¡å¼(idle)</li></ol><h2 id="ç”¨æˆ·æ–¹å¼é˜»å¡-å”¤é†’"><a href="#ç”¨æˆ·æ–¹å¼é˜»å¡-å”¤é†’" class="headerlink" title="ç”¨æˆ·æ–¹å¼é˜»å¡/å”¤é†’"></a>ç”¨æˆ·æ–¹å¼é˜»å¡/å”¤é†’</h2><p>é˜»å¡:</p><p>å½“ g è¢« channel å¡ä½, m ä¼šè·³è¿‡æ‰§è¡Œä¸‹ä¸€ä¸ª, å¹¶å°† g æ”¾ç½®åœ¨ waitq é‡Œé¢</p><p>å”¤é†’:</p><p>å½“ g æ‰§è¡Œçš„æ—¶å€™, é€šè¿‡ channel å‘å¦ä¸€ä¸ª g2 æŠ•é€’æ¶ˆæ¯, åˆ™ g2 å°†ç›´æ¥â€æ’é˜Ÿâ€, æ”¾ä¸‹ä¸€ä¸ªæ‰§è¡Œ</p><h2 id="syscall"><a href="#syscall" class="headerlink" title="syscall"></a>syscall</h2><p>è‹¥ g è¢«é˜»å¡åœ¨ä¸€ä¸ªç³»ç»Ÿè°ƒç”¨ä¸Š, åˆ™ p å°†äº m è§£ç»‘, å¯»æ‰¾ idle çŠ¶æ€çš„ m å†æ­¤ç»‘å®š; è‹¥æ²¡æœ‰ idle çŠ¶æ€çš„ m, åˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„ m.</p><p>ç³»ç»Ÿè°ƒç”¨ç»“æŸ, g ä¼šé‡æ–°å¯»æ‰¾ idle çŠ¶æ€çš„ p, å¹¶æ¢å¤æ‰§è¡Œ, è‹¥æ²¡æœ‰åˆ™æ”¾åˆ° globl runq ä¸­.</p><p>ç³»ç»Ÿè¢«è°ƒåº¦çš„ä¸¤ä¸ªå…³é”®ç‚¹:</p><ol><li>runtime/syscallåŒ…ä¸­, ç³»ç»Ÿè°ƒç”¨åˆ†ä¸º syscall &amp; rawsyscall, åŒºåˆ«åœ¨äºå‰è€…ä¼šè®°å½•ä¿å­˜å’Œæ¢å¤æ‰€éœ€çŠ¶æ€, è¿™æ ·å¯ä»¥å®‰å…¨çš„è§£ç»‘; æŸäº›ç³»ç»Ÿè°ƒç”¨å¯ä»¥é¢„å…ˆè¯„ä¼°æ˜¯ä¼šé•¿æ—¶é—´é˜»å¡, åˆ™ä¼šå‘èµ·ä¹‹å‰, ç›´æ¥ p &amp; m è§£ç»‘(handoffp)</li><li>sysmon è´Ÿè´£æ£€æŸ¥ç³»ç»Ÿè°ƒç”¨æ—¶é—´, å†³å®šæ˜¯å¦éœ€è¦ handoffp</li></ol><h2 id="sysmon"><a href="#sysmon" class="headerlink" title="sysmon"></a>sysmon</h2><p>sysmon æ˜¯ä¸€ä¸ªç”± runtime å¯åŠ¨çš„Mï¼Œä¹Ÿå«ç›‘æ§çº¿ç¨‹ï¼Œå®ƒæ— éœ€Pä¹Ÿå¯ä»¥è¿è¡Œï¼Œå®ƒæ¯20us~10mså”¤é†’ä¸€æ¬¡.</p><p>æµç¨‹å¦‚ä¸‹:</p><ol><li>é‡Šæ”¾é—²ç½®è¶…è¿‡5åˆ†é’Ÿçš„spanç‰©ç†å†…å­˜ï¼›</li><li>å¦‚æœè¶…è¿‡2åˆ†é’Ÿæ²¡æœ‰åƒåœ¾å›æ”¶ï¼Œå¼ºåˆ¶æ‰§è¡Œï¼›</li><li>å°†é•¿æ—¶é—´æœªå¤„ç†çš„netpollç»“æœæ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ—ï¼›</li><li>å‘é•¿æ—¶é—´è¿è¡Œçš„Gä»»åŠ¡å‘å‡ºæŠ¢å è°ƒåº¦ï¼›</li><li>æ”¶å›å› syscallé•¿æ—¶é—´é˜»å¡çš„Pï¼›</li></ol><h2 id="æŠ¢å å¼è°ƒåº¦"><a href="#æŠ¢å å¼è°ƒåº¦" class="headerlink" title="æŠ¢å å¼è°ƒåº¦"></a>æŠ¢å å¼è°ƒåº¦</h2><p>å½“æŸä¸ª g æ‰§è¡Œè¶…è¿‡10ms, åˆ™ sysmon å°†å‘èµ·æŠ¢å å¼è¯·æ±‚, ä¼šç»™ g æ‰“ä¸Šæ ‡ç­¾; å½“ g æ‰§è¡Œå‡½æ•°æ—¶(æ›´ç¡®åˆ‡è¯´ï¼Œåœ¨é€šè¿‡newstackåˆ†é…å‡½æ•°æ ˆæ—¶), å°†è¢« runtime.Goched çš„æ–¹å¼æš‚åœ, æ”¾ç½®åœ¨ global runq ä¸­</p><h2 id="netpoll"><a href="#netpoll" class="headerlink" title="netpoll"></a>netpoll</h2><p>é™¤äº†ä¹‹å‰æåˆ°çš„, local runq, runqnext, global runq, è¿˜å­˜åœ¨å¯¹ç½‘ç»œ I/O è¿›è¡Œä¼˜åŒ–çš„ netpoll, æœ¬åœ°é¿å…ç½‘ç»œI/Oçš„æ—¶å€™é™·å…¥ç³»ç»Ÿè°ƒç”¨, ä¸é˜»å¡ M (è€Œæ˜¯é˜»å¡ G ), ä»è€Œä¸ä¼šå¯¼è‡´å¤§é‡çš„ M è¢«åˆ›å»º</p><h2 id="g-çš„åˆ›å»ºæµç¨‹"><a href="#g-çš„åˆ›å»ºæµç¨‹" class="headerlink" title="g çš„åˆ›å»ºæµç¨‹"></a>g çš„åˆ›å»ºæµç¨‹</h2><ol><li>å½“ go func(){} æ‰§è¡Œçš„æ—¶å€™, ä¼šå°è¯•ä»æ± å­ä¸­å¤ç”¨, æ²¡æœ‰åˆ™åˆ›å»º</li><li>å°è¯•â€æ’é˜Ÿâ€, æ”¾ç½®åˆ°å½“å‰ p çš„ runnext é‡Œé¢</li><li>å¦åˆ™æ”¾ç½®åˆ° local runq ä¸­(æ— é”)</li><li>å¦åˆ™æ”¾ç½®åˆ° global runq ä¸­(æœ‰é”)</li></ol><h2 id="g-çš„æš‚åœæ–¹å¼"><a href="#g-çš„æš‚åœæ–¹å¼" class="headerlink" title="g çš„æš‚åœæ–¹å¼"></a>g çš„æš‚åœæ–¹å¼</h2><ul><li>å¸¸è§„æ–¹å¼  - å°† g é˜»å¡, æ”¾åˆ° global runq ä¸­, ç­‰å¾…è¢«è·å–æ‰§è¡Œ</li><li>ç­‰å¾…æ–¹å¼  - å°† g é˜»å¡, æ”¾åˆ° waitq ä¸­, ç­‰å¾…è¢«å…¶ä»– g å”¤é†’</li><li>è‡ªæ—‹æ–¹å¼  - gpm éƒ½ä¸è°ƒåº¦, ç›´åˆ°è¢«å”¤é†’</li><li>é€€å‡ºæ–¹å¼  - ç«‹å³ç»ˆæ­¢ g ä»»åŠ¡, ç¡®ä¿ defer æ­£å¸¸æ‰§è¡Œ</li><li>process æ–¹å¼ - æ”¾é£ p, é˜»å¡ g m, p å¯ä»¥è·Ÿå…¶ä»– m ç»‘å®š</li></ul><h2 id="Go-è°ƒåº¦æŸ¥çœ‹æ–¹å¼"><a href="#Go-è°ƒåº¦æŸ¥çœ‹æ–¹å¼" class="headerlink" title="Go è°ƒåº¦æŸ¥çœ‹æ–¹å¼"></a>Go è°ƒåº¦æŸ¥çœ‹æ–¹å¼</h2><ul><li><a href="https://wudaijun.com/2018/01/go-scheduler/">Go è°ƒåº¦æ¨¡å‹</a></li></ul><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>ä»è°ƒåº¦æ¨¡å‹, åˆ° gpm çš„æ¢è®¨, è®²åˆ°äº†é˜»å¡å’Œå”¤é†’çš„æµç¨‹, ä»¥åŠå¦‚ä½•æŠ¢å , å»¶ä¼¸åˆ° sysmon æœåŠ¡çš„ç‰¹ç‚¹; æœ€åè¡¥å……äº† netpoll ä¼˜åŒ–å’Œ g çš„åˆ›å»ºæµç¨‹å’ŒçŠ¶æ€ä»‹ç».<br>å›è¿‡å¤´æ¥, æˆ‘ä»¬å†çœ‹çœ‹, å­¦ä¹ è°ƒåº¦çš„ç›®çš„å…¶å®å®é™…éœ€æ±‚æ¥è®², å°±æ˜¯ç¼–å†™æ›´åŠ é«˜æ•ˆçš„å¹¶å‘ç¨‹åº, æ˜ç™½äº†æµç¨‹, è¿˜éœ€è¦å®æˆ˜, åç»­å†æ›´æ–°ä»£ç å®æˆ˜çš„æƒ…å†µ.</p><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><ul><li><a href="https://wudaijun.com/2018/01/go-scheduler/">Go è°ƒåº¦æ¨¡å‹</a></li><li><a href="https://wudaijun.com/2018/11/scheduler-blabla/">å†è°ˆè°ƒåº¦</a></li><li><a href="https://www.jianshu.com/p/db0aea4d60ed">è¾¾è²æ ¼-Go è¯­è¨€è°ƒåº¦ï¼ˆä¸€ï¼‰: ç³»ç»Ÿè°ƒåº¦</a></li><li><a href="https://www.jianshu.com/p/cb6881a2661d">è¾¾è²æ ¼-Go è¯­è¨€è°ƒåº¦ï¼ˆäºŒï¼‰: goroutine è°ƒåº¦å™¨</a></li><li><a href="https://www.jianshu.com/p/ef654413f2c1">è¾¾è²æ ¼-Go è¯­è¨€è°ƒåº¦ï¼ˆä¸‰ï¼‰: å¹¶å‘</a></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;ç†Ÿæ‚‰ Golang çš„è°ƒåº¦åŸç†, èƒ½å¤Ÿå¸®åŠ©ç¼–å†™æ›´åŠ é«˜æ•ˆçš„å¹¶å‘é€»è¾‘; åŒæ—¶è¿˜èƒ½é¿å…è°ƒåº¦ç›¸å…³çš„å‘.&lt;/p&gt;</summary>
    
    
    
    <category term="åç«¯" scheme="http://muzig.github.io/categories/%E5%90%8E%E7%AB%AF/"/>
    
    
    <category term="golang" scheme="http://muzig.github.io/tags/golang/"/>
    
    <category term="scheduling" scheme="http://muzig.github.io/tags/scheduling/"/>
    
  </entry>
  
  <entry>
    <title>Shell ç¬”è®°</title>
    <link href="http://muzig.github.io/2020/12/19/shell-note/"/>
    <id>http://muzig.github.io/2020/12/19/shell-note/</id>
    <published>2020-12-19T15:22:53.000Z</published>
    <updated>2021-02-17T03:22:28.297Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨é¡¹ç›®ä¸­å¼€å‘è¿‡ç¨‹ä¸­, éš¾å…ä¼šå¤„ç†ä¸€äº›è„šæœ¬åŒ–çš„ä¸šåŠ¡, ç¼–å†™ shell è„šæœ¬èƒ½å¸®åŠ©æˆ‘ä»¬æ›´æ–¹ä¾¿çš„å¤„ç†ä¸€äº›å›ºå®šä¸šåŠ¡.</p><p>ç§‘æŠ€æ”¹å˜ç”Ÿæ´», è„šæœ¬é‡Šæ”¾åŒæ‰‹.</p><a id="more"></a><ul><li><a href="#%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95">åŸºç¡€è¯­æ³•</a><ul><li><a href="#%E5%8F%98%E9%87%8F">å˜é‡</a></li><li><a href="#%E5%AD%97%E7%AC%A6%E4%B8%B2">å­—ç¬¦ä¸²</a></li><li><a href="#%E6%95%B0%E7%BB%84">æ•°ç»„</a></li><li><a href="#%E6%B3%A8%E9%87%8A">æ³¨é‡Š</a></li></ul></li><li><a href="#%E4%BC%A0%E5%8F%82">ä¼ å‚</a></li><li><a href="#%E8%BF%90%E7%AE%97%E7%AC%A6">è¿ç®—ç¬¦</a><ul><li><a href="#%E7%AE%97%E6%95%B0%E8%BF%90%E7%AE%97%E7%AC%A6">ç®—æ•°è¿ç®—ç¬¦</a></li><li><a href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6">é€»è¾‘è¿ç®—ç¬¦</a></li><li><a href="#%E5%B8%83%E5%B0%94%E8%BF%90%E7%AE%97%E7%AC%A6">å¸ƒå°”è¿ç®—ç¬¦</a></li><li><a href="#%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6">å…³ç³»è¿ç®—ç¬¦</a></li><li><a href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BF%90%E7%AE%97%E7%AC%A6">å­—ç¬¦ä¸²è¿ç®—ç¬¦</a></li><li><a href="#%E6%96%87%E4%BB%B6%E6%B5%8B%E8%AF%95%E8%BF%90%E7%AE%97%E7%AC%A6">æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦</a></li></ul></li><li><a href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6">æµç¨‹æ§åˆ¶</a><ul><li><a href="#%E6%9D%A1%E4%BB%B6%E6%8E%A7%E5%88%B6">æ¡ä»¶æ§åˆ¶</a></li><li><a href="#%E5%BE%AA%E7%8E%AF%E6%8E%A7%E5%88%B6">å¾ªç¯æ§åˆ¶</a></li></ul></li><li><a href="#%E5%87%BD%E6%95%B0">å‡½æ•°</a></li><li><a href="#%E9%87%8D%E5%AE%9A%E5%90%91">é‡å®šå‘</a><ul><li><a href="#devnull-%E6%96%87%E4%BB%B6">/dev/null æ–‡ä»¶</a></li></ul></li><li><a href="#%E6%96%87%E4%BB%B6%E5%BC%95%E7%94%A8">æ–‡ä»¶å¼•ç”¨</a></li><li><a href="#oh-my-zsh-%E6%BA%90%E7%A0%81">oh-my-zsh æºç </a></li><li><a href="#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5">å‚è€ƒé“¾æ¥</a></li></ul><h2 id="åŸºç¡€è¯­æ³•"><a href="#åŸºç¡€è¯­æ³•" class="headerlink" title="åŸºç¡€è¯­æ³•"></a>åŸºç¡€è¯­æ³•</h2><h3 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># èµ‹å€¼ç­‰å·ä¸¤è¾¹ä¸èƒ½æ·»åŠ ç©ºæ ¼</span></span><br><span class="line">name=<span class="string">&#x27;hello&#x27;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;name&#125;</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¸¸é‡</span></span><br><span class="line">name=<span class="string">&#x27;hello&#x27;</span></span><br><span class="line"><span class="built_in">readonly</span> name</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ é™¤å˜é‡</span></span><br><span class="line">name=<span class="string">&#x27;hello&#x27;</span></span><br><span class="line"><span class="built_in">unset</span> name</span><br></pre></td></tr></table></figure><h3 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h3><ul><li>å•å¼•å·<ul><li>åŸæ ·è¾“å‡º, ä¸æ”¯æŒå˜é‡å¼•ç”¨</li></ul></li><li>åŒå¼•å·<ul><li>æ”¯æŒå˜é‡å¼•ç”¨</li><li>æ”¯æŒè½¬ä¹‰å­—ç¬¦</li></ul></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è·å–å­—ç¬¦ä¸²é•¿åº¦</span></span><br><span class="line">name=<span class="string">&#x27;hello&#x27;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;#name&#125;</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æå–å­—ç¬¦ä¸²</span></span><br><span class="line">name=<span class="string">&#x27;hello world&#x27;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;name:1:3&#125;</span> <span class="comment"># è¾“å‡ºell</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥æ‰¾å­—ç¬¦ä¸²</span></span><br><span class="line">string=<span class="string">&quot;runoob is a great site&quot;</span></span><br><span class="line"><span class="built_in">echo</span> `expr index <span class="string">&quot;<span class="variable">$string</span>&quot;</span> io`  <span class="comment"># è¾“å‡º 4</span></span><br></pre></td></tr></table></figure><h3 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">array_name=(value1 value2 ... valuen)</span><br><span class="line"><span class="comment"># è®¿é—®</span></span><br><span class="line">v1=<span class="variable">$&#123;array_name[0]&#125;</span></span><br></pre></td></tr></table></figure><h3 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å•è¡Œæ³¨é‡Š</span></span><br><span class="line"></span><br><span class="line">:&lt;&lt;<span class="string">EOF</span></span><br><span class="line"><span class="string">å¤šè¡Œæ³¨é‡Š</span></span><br><span class="line"><span class="string">å¤šè¡Œæ³¨é‡Š</span></span><br><span class="line"><span class="string">EOF</span>ç¬¦å·å¯ä»¥æ¢æˆå…¶ä»–, æ¯”å¦‚`<span class="string">&#x27;ä¹‹ç±»çš„</span></span><br><span class="line"><span class="string">EOF</span></span><br></pre></td></tr></table></figure><h2 id="ä¼ å‚"><a href="#ä¼ å‚" class="headerlink" title="ä¼ å‚"></a>ä¼ å‚</h2><ul><li>$0: æ–‡ä»¶å</li><li>$1: å‘½ä»¤è¡Œæ‰§è¡Œçš„ç¬¬ä¸€ä¸ªå‚æ•°</li><li>$2: å‘½ä»¤è¡Œæ‰§è¡Œçš„ç¬¬äºŒä¸ªå‚æ•°</li></ul><p><img src="/../img/shell-arg.png" alt="shell-arg"></p><h2 id="è¿ç®—ç¬¦"><a href="#è¿ç®—ç¬¦" class="headerlink" title="è¿ç®—ç¬¦"></a>è¿ç®—ç¬¦</h2><h3 id="ç®—æ•°è¿ç®—ç¬¦"><a href="#ç®—æ•°è¿ç®—ç¬¦" class="headerlink" title="ç®—æ•°è¿ç®—ç¬¦"></a>ç®—æ•°è¿ç®—ç¬¦</h3><p><img src="/../img/shell-algorithm.png" alt="ç®—æ•°"></p><h3 id="é€»è¾‘è¿ç®—ç¬¦"><a href="#é€»è¾‘è¿ç®—ç¬¦" class="headerlink" title="é€»è¾‘è¿ç®—ç¬¦"></a>é€»è¾‘è¿ç®—ç¬¦</h3><p><img src="/../img/shell-logic.png" alt="é€»è¾‘"></p><h3 id="å¸ƒå°”è¿ç®—ç¬¦"><a href="#å¸ƒå°”è¿ç®—ç¬¦" class="headerlink" title="å¸ƒå°”è¿ç®—ç¬¦"></a>å¸ƒå°”è¿ç®—ç¬¦</h3><p><img src="/../img/shell-bool.png" alt="å¸ƒå°”"></p><h3 id="å…³ç³»è¿ç®—ç¬¦"><a href="#å…³ç³»è¿ç®—ç¬¦" class="headerlink" title="å…³ç³»è¿ç®—ç¬¦"></a>å…³ç³»è¿ç®—ç¬¦</h3><p><img src="/../img/shell-relation.png" alt="å…³ç³»"></p><h3 id="å­—ç¬¦ä¸²è¿ç®—ç¬¦"><a href="#å­—ç¬¦ä¸²è¿ç®—ç¬¦" class="headerlink" title="å­—ç¬¦ä¸²è¿ç®—ç¬¦"></a>å­—ç¬¦ä¸²è¿ç®—ç¬¦</h3><p><img src="/../img/shell-str.png" alt="å­—ç¬¦ä¸²"></p><h3 id="æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦"><a href="#æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦" class="headerlink" title="æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦"></a>æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦</h3><p><img src="/../img/shell-file-test.png" alt="æ–‡ä»¶æµ‹è¯•"></p><h2 id="æµç¨‹æ§åˆ¶"><a href="#æµç¨‹æ§åˆ¶" class="headerlink" title="æµç¨‹æ§åˆ¶"></a>æµç¨‹æ§åˆ¶</h2><p>å…³é”®å­—: break continue</p><h3 id="æ¡ä»¶æ§åˆ¶"><a href="#æ¡ä»¶æ§åˆ¶" class="headerlink" title="æ¡ä»¶æ§åˆ¶"></a>æ¡ä»¶æ§åˆ¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¤šè¡Œ</span></span><br><span class="line"><span class="keyword">if</span> condition1</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    command1</span><br><span class="line"><span class="keyword">elif</span> condition2 </span><br><span class="line"><span class="keyword">then</span> </span><br><span class="line">    command2</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    commandN</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å•è¡Œ</span></span><br><span class="line"><span class="keyword">if</span> [ $(ps -ef | grep -c <span class="string">&quot;ssh&quot;</span>) -gt 1 ]; <span class="keyword">then</span> <span class="built_in">echo</span> <span class="string">&quot;true&quot;</span>; <span class="keyword">fi</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> å€¼ <span class="keyword">in</span></span><br><span class="line">æ¨¡å¼1)</span><br><span class="line">    command1</span><br><span class="line">    command2</span><br><span class="line">    ...</span><br><span class="line">    commandN</span><br><span class="line">    ;;</span><br><span class="line">æ¨¡å¼2ï¼‰</span><br><span class="line">    command1</span><br><span class="line">    command2</span><br><span class="line">    ...</span><br><span class="line">    commandN</span><br><span class="line">    ;;</span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure><h3 id="å¾ªç¯æ§åˆ¶"><a href="#å¾ªç¯æ§åˆ¶" class="headerlink" title="å¾ªç¯æ§åˆ¶"></a>å¾ªç¯æ§åˆ¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¤šè¡Œ</span></span><br><span class="line"><span class="keyword">for</span> var <span class="keyword">in</span> item1 item2 ... itemN</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    command1</span><br><span class="line">    command2</span><br><span class="line">    ...</span><br><span class="line">    commandN</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å•è¡Œ</span></span><br><span class="line"><span class="keyword">for</span> var <span class="keyword">in</span> item1 item2 ... itemN; <span class="keyword">do</span> command1; command2â€¦ <span class="keyword">done</span>;</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ¡ä»¶å¾ªç¯</span></span><br><span class="line"><span class="keyword">while</span> condition</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">command</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¡ä»¶å¾ªç¯</span></span><br><span class="line">until condition</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">command</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ— é™å¾ªç¯</span></span><br><span class="line"><span class="keyword">while</span> :</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">command</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><h2 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¯­æ³•</span></span><br><span class="line">[ <span class="keyword">function</span> ] funname [()]</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    action;</span><br><span class="line"></span><br><span class="line">    [<span class="built_in">return</span> int;]</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">demoFun</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ª shell å‡½æ•°!&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;-----å‡½æ•°å¼€å§‹æ‰§è¡Œ-----&quot;</span></span><br><span class="line">demoFun</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;-----å‡½æ•°æ‰§è¡Œå®Œæ¯•-----&quot;</span></span><br></pre></td></tr></table></figure><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å‡ºç»“æœ:</span><br><span class="line">-----å‡½æ•°å¼€å§‹æ‰§è¡Œ-----</span><br><span class="line">è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ª shell å‡½æ•°!</span><br><span class="line">-----å‡½æ•°æ‰§è¡Œå®Œæ¯•-----</span><br></pre></td></tr></table></figure><h2 id="é‡å®šå‘"><a href="#é‡å®šå‘" class="headerlink" title="é‡å®šå‘"></a>é‡å®šå‘</h2><p><img src="/../img/shell-redirect.png" alt="shell-redirect"></p><h3 id="dev-null-æ–‡ä»¶"><a href="#dev-null-æ–‡ä»¶" class="headerlink" title="/dev/null æ–‡ä»¶"></a>/dev/null æ–‡ä»¶</h3><p>å¦‚æœå¸Œæœ›æ‰§è¡ŒæŸä¸ªå‘½ä»¤ï¼Œä½†åˆä¸å¸Œæœ›åœ¨å±å¹•ä¸Šæ˜¾ç¤ºè¾“å‡ºç»“æœï¼Œé‚£ä¹ˆå¯ä»¥å°†è¾“å‡ºé‡å®šå‘åˆ° /dev/nullï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">command</span> &gt; /dev/null</span><br></pre></td></tr></table></figure><h2 id="æ–‡ä»¶å¼•ç”¨"><a href="#æ–‡ä»¶å¼•ç”¨" class="headerlink" title="æ–‡ä»¶å¼•ç”¨"></a>æ–‡ä»¶å¼•ç”¨</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">url=<span class="string">&quot;http://muzig.github.io&quot;</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨ . å·æ¥å¼•ç”¨src.sh æ–‡ä»¶</span></span><br><span class="line">. ./src.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># æˆ–è€…ä½¿ç”¨ä»¥ä¸‹åŒ…å«æ–‡ä»¶ä»£ç </span></span><br><span class="line"><span class="built_in">source</span> ./src.sh</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Blogï¼š<span class="variable">$url</span>&quot;</span></span><br></pre></td></tr></table></figure><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å‡º:</span><br><span class="line">Blog: http://muzig.github.io</span><br></pre></td></tr></table></figure><h2 id="oh-my-zsh-æºç "><a href="#oh-my-zsh-æºç " class="headerlink" title="oh-my-zsh æºç "></a>oh-my-zsh æºç </h2><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># If ZSH is not defined, use the current script&#x27;s directory.</span></span><br><span class="line">[[ -z <span class="string">&quot;<span class="variable">$ZSH</span>&quot;</span> ]] &amp;&amp; <span class="built_in">export</span> ZSH=<span class="string">&quot;<span class="variable">$&#123;<span class="variable">$&#123;(%):-%x&#125;</span>:a:h&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set ZSH_CACHE_DIR to the path where cache files should be created</span></span><br><span class="line"><span class="comment"># or else we will use the default cache/</span></span><br><span class="line"><span class="keyword">if</span> [[ -z <span class="string">&quot;<span class="variable">$ZSH_CACHE_DIR</span>&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">  ZSH_CACHE_DIR=<span class="string">&quot;<span class="variable">$ZSH</span>/cache&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Check for updates on initial load...</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$DISABLE_AUTO_UPDATE</span>&quot;</span> != <span class="string">&quot;true&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">source</span> <span class="variable">$ZSH</span>/tools/check_for_upgrade.sh</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Initializes Oh My Zsh</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># add a function path</span></span><br><span class="line">fpath=(<span class="variable">$ZSH</span>/<span class="built_in">functions</span> <span class="variable">$ZSH</span>/completions <span class="variable">$fpath</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Load all stock functions (from $fpath files) called below.</span></span><br><span class="line"><span class="built_in">autoload</span> -U compaudit compinit</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set ZSH_CUSTOM to the path where your custom config files</span></span><br><span class="line"><span class="comment"># and plugins exists, or else we will use the default custom/</span></span><br><span class="line"><span class="keyword">if</span> [[ -z <span class="string">&quot;<span class="variable">$ZSH_CUSTOM</span>&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">    ZSH_CUSTOM=<span class="string">&quot;<span class="variable">$ZSH</span>/custom&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">is_plugin</span></span>() &#123;</span><br><span class="line">  <span class="built_in">local</span> base_dir=<span class="variable">$1</span></span><br><span class="line">  <span class="built_in">local</span> name=<span class="variable">$2</span></span><br><span class="line">  <span class="built_in">builtin</span> <span class="built_in">test</span> -f <span class="variable">$base_dir</span>/plugins/<span class="variable">$name</span>/<span class="variable">$name</span>.plugin.zsh \</span><br><span class="line">    || <span class="built_in">builtin</span> <span class="built_in">test</span> -f <span class="variable">$base_dir</span>/plugins/<span class="variable">$name</span>/_<span class="variable">$name</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Add all defined plugins to fpath. This must be done</span></span><br><span class="line"><span class="comment"># before running compinit.</span></span><br><span class="line"><span class="keyword">for</span> plugin (<span class="variable">$plugins</span>); <span class="keyword">do</span></span><br><span class="line">  <span class="keyword">if</span> is_plugin <span class="variable">$ZSH_CUSTOM</span> <span class="variable">$plugin</span>; <span class="keyword">then</span></span><br><span class="line">    fpath=(<span class="variable">$ZSH_CUSTOM</span>/plugins/<span class="variable">$plugin</span> <span class="variable">$fpath</span>)</span><br><span class="line">  <span class="keyword">elif</span> is_plugin <span class="variable">$ZSH</span> <span class="variable">$plugin</span>; <span class="keyword">then</span></span><br><span class="line">    fpath=(<span class="variable">$ZSH</span>/plugins/<span class="variable">$plugin</span> <span class="variable">$fpath</span>)</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;[oh-my-zsh] plugin &#x27;<span class="variable">$plugin</span>&#x27; not found&quot;</span></span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Figure out the SHORT hostname</span></span><br><span class="line"><span class="keyword">if</span> [[ <span class="string">&quot;<span class="variable">$OSTYPE</span>&quot;</span> = darwin* ]]; <span class="keyword">then</span></span><br><span class="line">  <span class="comment"># macOS&#x27;s $HOST changes with dhcp, etc. Use ComputerName if possible.</span></span><br><span class="line">  SHORT_HOST=$(scutil --get ComputerName 2&gt;/dev/null) || SHORT_HOST=<span class="variable">$&#123;HOST/.*/&#125;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  SHORT_HOST=<span class="variable">$&#123;HOST/.*/&#125;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Save the location of the current completion dump file.</span></span><br><span class="line"><span class="keyword">if</span> [ -z <span class="string">&quot;<span class="variable">$ZSH_COMPDUMP</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">  ZSH_COMPDUMP=<span class="string">&quot;<span class="variable">$&#123;ZDOTDIR:-<span class="variable">$&#123;HOME&#125;</span>&#125;</span>/.zcompdump-<span class="variable">$&#123;SHORT_HOST&#125;</span>-<span class="variable">$&#123;ZSH_VERSION&#125;</span>&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Construct zcompdump OMZ metadata</span></span><br><span class="line">zcompdump_revision=<span class="string">&quot;#omz revision: <span class="subst">$(builtin cd -q <span class="string">&quot;<span class="variable">$ZSH</span>&quot;</span>; git rev-parse HEAD 2&gt;/dev/null)</span>&quot;</span></span><br><span class="line">zcompdump_fpath=<span class="string">&quot;#omz fpath: <span class="variable">$fpath</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Delete the zcompdump file if OMZ zcompdump metadata changed</span></span><br><span class="line"><span class="keyword">if</span> ! <span class="built_in">command</span> grep -q -Fx <span class="string">&quot;<span class="variable">$zcompdump_revision</span>&quot;</span> <span class="string">&quot;<span class="variable">$ZSH_COMPDUMP</span>&quot;</span> 2&gt;/dev/null \</span><br><span class="line">   || ! <span class="built_in">command</span> grep -q -Fx <span class="string">&quot;<span class="variable">$zcompdump_fpath</span>&quot;</span> <span class="string">&quot;<span class="variable">$ZSH_COMPDUMP</span>&quot;</span> 2&gt;/dev/null; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">command</span> rm -f <span class="string">&quot;<span class="variable">$ZSH_COMPDUMP</span>&quot;</span></span><br><span class="line">  zcompdump_refresh=1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ <span class="variable">$ZSH_DISABLE_COMPFIX</span> != <span class="literal">true</span> ]]; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">source</span> <span class="variable">$ZSH</span>/lib/compfix.zsh</span><br><span class="line">  <span class="comment"># If completion insecurities exist, warn the user</span></span><br><span class="line">  handle_completion_insecurities</span><br><span class="line">  <span class="comment"># Load only from secure directories</span></span><br><span class="line">  compinit -i -C -d <span class="string">&quot;<span class="variable">$&#123;ZSH_COMPDUMP&#125;</span>&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  <span class="comment"># If the user wants it, load from all found directories</span></span><br><span class="line">  compinit -u -C -d <span class="string">&quot;<span class="variable">$&#123;ZSH_COMPDUMP&#125;</span>&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Append zcompdump metadata if missing</span></span><br><span class="line"><span class="keyword">if</span> (( <span class="variable">$zcompdump_refresh</span> )); <span class="keyword">then</span></span><br><span class="line">  <span class="comment"># Use `tee` in case the $ZSH_COMPDUMP filename is invalid, to silence the error</span></span><br><span class="line">  <span class="comment"># See https://github.com/ohmyzsh/ohmyzsh/commit/dd1a7269#commitcomment-39003489</span></span><br><span class="line">  tee -a <span class="string">&quot;<span class="variable">$ZSH_COMPDUMP</span>&quot;</span> &amp;&gt;/dev/null &lt;&lt;<span class="string">EOF</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">$zcompdump_revision</span></span><br><span class="line"><span class="string">$zcompdump_fpath</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">unset</span> zcompdump_revision zcompdump_fpath zcompdump_refresh</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Load all of the config files in ~/oh-my-zsh that end in .zsh</span></span><br><span class="line"><span class="comment"># TIP: Add files you don&#x27;t want in git to .gitignore</span></span><br><span class="line"><span class="keyword">for</span> config_file (<span class="variable">$ZSH</span>/lib/*.zsh); <span class="keyword">do</span></span><br><span class="line">  custom_config_file=<span class="string">&quot;<span class="variable">$&#123;ZSH_CUSTOM&#125;</span>/lib/<span class="variable">$&#123;config_file:t&#125;</span>&quot;</span></span><br><span class="line">  [ -f <span class="string">&quot;<span class="variable">$&#123;custom_config_file&#125;</span>&quot;</span> ] &amp;&amp; config_file=<span class="variable">$&#123;custom_config_file&#125;</span></span><br><span class="line">  <span class="built_in">source</span> <span class="variable">$config_file</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Load all of the plugins that were defined in ~/.zshrc</span></span><br><span class="line"><span class="keyword">for</span> plugin (<span class="variable">$plugins</span>); <span class="keyword">do</span></span><br><span class="line">  <span class="keyword">if</span> [ -f <span class="variable">$ZSH_CUSTOM</span>/plugins/<span class="variable">$plugin</span>/<span class="variable">$plugin</span>.plugin.zsh ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">source</span> <span class="variable">$ZSH_CUSTOM</span>/plugins/<span class="variable">$plugin</span>/<span class="variable">$plugin</span>.plugin.zsh</span><br><span class="line">  <span class="keyword">elif</span> [ -f <span class="variable">$ZSH</span>/plugins/<span class="variable">$plugin</span>/<span class="variable">$plugin</span>.plugin.zsh ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">source</span> <span class="variable">$ZSH</span>/plugins/<span class="variable">$plugin</span>/<span class="variable">$plugin</span>.plugin.zsh</span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Load all of your custom configurations from custom/</span></span><br><span class="line"><span class="keyword">for</span> config_file (<span class="variable">$ZSH_CUSTOM</span>/*.zsh(N)); <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">source</span> <span class="variable">$config_file</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="built_in">unset</span> config_file</span><br><span class="line"></span><br><span class="line"><span class="comment"># Load the theme</span></span><br><span class="line"><span class="keyword">if</span> [ ! <span class="string">&quot;<span class="variable">$ZSH_THEME</span>&quot;</span> = <span class="string">&quot;&quot;</span>  ]; <span class="keyword">then</span></span><br><span class="line">  <span class="keyword">if</span> [ -f <span class="string">&quot;<span class="variable">$ZSH_CUSTOM</span>/<span class="variable">$ZSH_THEME</span>.zsh-theme&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">source</span> <span class="string">&quot;<span class="variable">$ZSH_CUSTOM</span>/<span class="variable">$ZSH_THEME</span>.zsh-theme&quot;</span></span><br><span class="line">  <span class="keyword">elif</span> [ -f <span class="string">&quot;<span class="variable">$ZSH_CUSTOM</span>/themes/<span class="variable">$ZSH_THEME</span>.zsh-theme&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">source</span> <span class="string">&quot;<span class="variable">$ZSH_CUSTOM</span>/themes/<span class="variable">$ZSH_THEME</span>.zsh-theme&quot;</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="built_in">source</span> <span class="string">&quot;<span class="variable">$ZSH</span>/themes/<span class="variable">$ZSH_THEME</span>.zsh-theme&quot;</span></span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><ul><li><a href="https://github.com/wangdoc/bash-tutorial">é˜®ä¸€å³°çš„ã€ŠBash è„šæœ¬æ•™ç¨‹ã€‹</a></li><li><a href="https://www.runoob.com/linux/linux-shell.html">Shell æ•™ç¨‹ | èœé¸Ÿæ•™ç¨‹</a></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;åœ¨é¡¹ç›®ä¸­å¼€å‘è¿‡ç¨‹ä¸­, éš¾å…ä¼šå¤„ç†ä¸€äº›è„šæœ¬åŒ–çš„ä¸šåŠ¡, ç¼–å†™ shell è„šæœ¬èƒ½å¸®åŠ©æˆ‘ä»¬æ›´æ–¹ä¾¿çš„å¤„ç†ä¸€äº›å›ºå®šä¸šåŠ¡.&lt;/p&gt;
&lt;p&gt;ç§‘æŠ€æ”¹å˜ç”Ÿæ´», è„šæœ¬é‡Šæ”¾åŒæ‰‹.&lt;/p&gt;</summary>
    
    
    
    <category term="è„šæœ¬" scheme="http://muzig.github.io/categories/%E8%84%9A%E6%9C%AC/"/>
    
    
    <category term="shell" scheme="http://muzig.github.io/tags/shell/"/>
    
    <category term="note" scheme="http://muzig.github.io/tags/note/"/>
    
  </entry>
  
  <entry>
    <title>Goland ç ´è§£æ•™ç¨‹</title>
    <link href="http://muzig.github.io/2020/12/05/goland-cracking/"/>
    <id>http://muzig.github.io/2020/12/05/goland-cracking/</id>
    <published>2020-12-05T12:58:28.000Z</published>
    <updated>2021-02-17T03:22:28.297Z</updated>
    
    <content type="html"><![CDATA[<p>ç ´è§£æ–¹å¼: å¾ªç¯é‡ç½®è¯•ç”¨æ—¶é—´.</p><a id="more"></a><ul><li><a href="#%E6%95%99%E7%A8%8B">æ•™ç¨‹</a></li><li><a href="#%E5%8F%8B%E6%83%85%E9%93%BE%E6%8E%A5">å‹æƒ…é“¾æ¥</a></li></ul><h2 id="æ•™ç¨‹"><a href="#æ•™ç¨‹" class="headerlink" title="æ•™ç¨‹"></a>æ•™ç¨‹</h2><p>æ­¥éª¤:</p><ol><li>æ‰“å¼€ goland, é€‰æ‹©è¯•ç”¨, è¿›å…¥IDEç•Œé¢</li><li>Menu - Goland - Perference - Plugins</li><li>ç‚¹å‡»åƒé½¿è½®çš„å›¾æ ‡(å¦‚ä¸‹å›¾)</li><li>Manager Plugin Repos</li><li>æ·»åŠ æ­¤é“¾æ¥: <code>https://plugins.zhile.io</code>, ç­‰å¾…åˆ·æ–°å®Œæˆ</li><li>æœç´¢æ’ä»¶ <code>IDE Eval reset</code>, æ’ä»¶æè¿°æœ‰è¯´æ˜å’Œä½¿ç”¨æ–¹æ³•</li><li>ä¸‹è½½å®‰è£…é‡å¯ IDE</li></ol><p><img src="/../img/Snipaste_2020-12-05_13-03-28.png" alt="é½¿è½®"></p><h2 id="å‹æƒ…é“¾æ¥"><a href="#å‹æƒ…é“¾æ¥" class="headerlink" title="å‹æƒ…é“¾æ¥"></a>å‹æƒ…é“¾æ¥</h2><ul><li><a href="https://zhile.io/">ç ´è§£å¤§ä½¬åšå®¢</a></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;ç ´è§£æ–¹å¼: å¾ªç¯é‡ç½®è¯•ç”¨æ—¶é—´.&lt;/p&gt;</summary>
    
    
    
    <category term="å·¥å…·" scheme="http://muzig.github.io/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
    <category term="crack" scheme="http://muzig.github.io/tags/crack/"/>
    
    <category term="goland" scheme="http://muzig.github.io/tags/goland/"/>
    
  </entry>
  
</feed>
